//
// This file is part of Totara Learn
//
// Copyright (C) 2019 onwards Totara Learning Solutions LTD
//
// This program is free software; you can redistribute it and/or modify
// it under the terms of the GNU General Public License as published by
// the Free Software Foundation; either version 3 of the License, or
// (at your option) any later version.
//
// This program is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU General Public License for more details.
//
// You should have received a copy of the GNU General Public License
// along with this program.  If not, see <http://www.gnu.org/licenses/>.
//
// @copyright 2019 onwards Totara Learning Solutions LTD
// @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
// @package   theme_legacy

.totara_core__myreports__container {
  opacity: 0;
  transition: opacity 200ms ease-out;

  &.tw-list-toggle-loaded {
    opacity: 1;
  }
}

.totara_core__myreports__list {
  clear: both;
  padding: 1rem 0;

  &__item {
    &__content {
      position: relative;

      // Hover animation
      transition-property: transform, box-shadow;
      transition-duration: 200ms;
      transition-timing-function: ease-in-out;

      display: block;
      color: var(--tui-color-neutral-7);

      &:hover,
      &:active,
      &:focus {
        box-shadow: var(--tui-shadow-1);
        transform: scale(1.01);
        text-decoration: none;
        color: var(--tui-color-neutral-7);
      }


      &__title {
        font-weight: 600;
      }
    }
  }
}

// ------------------------------
//  GRID VIEW
// ------------------------------

.totara_core__myreports__list--grid {
  display: flex;
  flex-wrap: wrap;

  & .totara_core__myreports__list {
    &__item {
      width: 100%;

      @media (min-width: $myReports-screen-xsm-min) {
        & {
          width: 50%;
        }
      }

      @media (min-width: $totara-style-screen-md-min) {
        & {
          width: 33%;
        }
      }

      @media (min-width: $totara-style-screen-lg-min) {
        & {
          width: 25%;
        }
      }

      @media (min-width: $totara-style-screen-xl-min) {
        & {
          width: 20%;
        }
      }

      &__content {
        border: 1px solid $myReports-grid-border-color;
        margin: $myReports-grid-spacing;

        &__image {
          background-color: $myReports-image-bg-color;

          img.icon {
            display: block;
            max-width: 100%;
            max-height: 100%;

            width: auto;
            height: 100%;

            margin: 0 auto;
          }
        }

        &__title {
          padding: $myReports-spacing-small;
          font-size: $myReports-grid-title-text-size;
          overflow: hidden;
          white-space: nowrap;
          text-overflow: ellipsis;
          width: 100%;
        }

        &__description {
          margin: $myReports-spacing-small;
          font-size: $myReports-grid-text-size;
          height: $myReports-grid-description-height;
          overflow: hidden;
        }
      }
    }
  }
}

// ------------------------------
//  TABLE VIEW
// ------------------------------

.totara_core__myreports__list--table {
  & .totara_core__myreports__list {
    &__item {
      &__content {
        display: flex;
        height: $myReports-table-row-height;

        &:first-of-type {
          border-top: 1px solid $myReports-table-border-color;
        }
        border-bottom: 1px solid $myReports-table-border-color;

        &__image {
          max-height: 100%;

          width: auto;
          height: 100%;

          flex: 0 0 auto;

          img.icon {
            width: auto;
            height: 100%;
            max-height: 100%;
            background-color: $myReports-image-bg-color;
            margin: 0;
            padding: 0;
          }
        }

        &__title {
          /* Shorthand flex doesn't work in IE11 with flex-basis being set to 0 */
          flex-basis: 0;
          flex-grow: 1;
          flex-shrink: 1;
          margin: auto;
          padding: $myReports-spacing-small;
          font-size: $myReports-table-title-text-size;
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
        }

        &__description {
          /* Shorthand flex doesn't work in IE11 with flex-basis being set to 0 */
          flex-basis: 0;
          flex-grow: 1;
          flex-shrink: 1;
          margin: $myReports-spacing-small $myReports-spacing-med;
          overflow: hidden;
          font-size: $myReports-table-text-size;
        }
      }
    }
  }
}

// ------------------------------
//  TITLE BUTTONS
// ------------------------------
.totara_core__myreports__title {
  display: flex;
  justify-content: space-between;
  margin-bottom: $myReports-spacing-med;
  padding-bottom: $myReports-spacing-med;
  border-bottom: 1px solid var(--tui-color-border);

  &__btn {
    @extend .btn;
    @include bs-btn-default();
    margin: auto 0;

    &:active,
    &:focus,
    &:hover {
      outline: 0;
      text-decoration: none;
    }
  }
}

// ------------------------------
//  LIST ITEM TOGGLE
// ------------------------------

.totara_core__myreports__itemstyletoggle {
  display: flex;
  float: right;
  margin-bottom: $myReports-toggle-spacing-bottom;

  &__btn {
    color: $myReports-toggle-btn-text-color;
    background: $myReports-toggle-btn-bg-color;
    border: 1px solid $myReports-toggle-btn-border-color;
    font-size: $myReports-toggle-btn-text-size;
    padding: $myReports-toggle-btn-spacing;
    transition: background-color 0.2s ease;

    &--narrow {
      border-radius: $myReports-toggle-btn-border-radius 0 0 $myReports-toggle-btn-border-radius;
    }

    &--wide {
      border-left: 0px;
      border-radius: 0 $myReports-toggle-btn-border-radius $myReports-toggle-btn-border-radius 0;
    }

    &:active,
    &:focus,
    &:hover {
      color: $myReports-toggle-btn-text-color;
      text-decoration: none;
      background: $myReports-toggle-btn-bg-color-focus;
      outline: 0;
    }

    &_active {
      color: $myReports-toggle-btn-text-color-selected;
      background: $myReports-toggle-btn-bg-color-selected;
      cursor: default;

      &:active,
      &:focus,
      &:hover {
        color: $myReports-toggle-btn-text-color-selected;
        background: $myReports-toggle-btn-bg-color-selected;
      }
    }
  }
}
