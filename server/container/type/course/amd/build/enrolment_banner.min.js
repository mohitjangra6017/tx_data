define(["core/config","core/ajax"],function(a,b){function c(a){return new Promise(function(c){var d=a.querySelector(".tw-containerCourse-enrolmentBanner__enrolButton");if(d){var e=d.getAttribute("data-course-id");d.addEventListener("click",function(a){return a.preventDefault(),d.href.includes("enrol/index.php")?void(window.location.href=d.href):void b.call([{methodname:"container_course_process_non_interactive_enrol",args:{course_id:e}}],!0,!0)[0].then(function(a){a&&(window.location.href=d.href)})})}c()})}return{init:c}});