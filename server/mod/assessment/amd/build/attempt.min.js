define(["jquery","core/notification","core/str","core/templates","totara_form/form"],function(a,b,c,d,e){return{initialize:function(){var e,f=!1,g=!1,h=a("#tf_fid_mod_assessment_form_page");h.attr("name","active_assessment_form"),h.find(".tf_element_input input").change(function(a){g=!0}),h.find("input[type=submit]").click(function(f){if("save"===a(this).attr("name")||h[0].checkValidity())h.find("input").removeAttr("required");else{var g=[{key:"error:missingrequired",component:"mod_assessment"}];c.get_strings(g).then(function(a){var c={message:a[0],announce:!0,closebutton:!0};d.render("core/notification_error",c).then(function(a,b){h.find(":first-child").hasClass("alert")||h.prepend(a)}).fail(b.exception)})}e=a(this)}),h.submit(function(a){"cancel"!=e.attr("name")&&(f=!0)}),window.onbeforeunload=function(a){if(g&&!f)return!0}}}});