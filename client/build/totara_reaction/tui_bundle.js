!function(e){function i(i){for(var t,o,l=i[0],s=i[1],u=i[2],c=0,m=[];c<l.length;c++)o=l[c],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&m.push(a[o][0]),a[o]=0;for(t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t]);for(d&&d(i);m.length;)m.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,i=0;i<r.length;i++){for(var n=r[i],t=!0,l=1;l<n.length;l++){var s=n[l];0!==a[s]&&(t=!1)}t&&(r.splice(i--,1),e=o(o.s=n[0]))}return e}var t={},a={11:0},r=[];function o(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,i,n){o.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,i){if(1&i&&(e=o(e)),8&i)return e;if(4&i&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var t in e)o.d(n,t,function(i){return e[i]}.bind(null,t));return n},o.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(i,"a",i),i},o.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},o.p="";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=i,l=l.slice();for(var u=0;u<l.length;u++)i(l[u]);var d=s;r.push(["Ny4F",0]),n()}({"+c3f":function(e,i){e.exports=tui.require("tui/components/icons/common/LikeActive")},"0i2B":function(e,i,n){"use strict";i.a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_reaction_get_likes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"component"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"area"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_area"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"instanceid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"page"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"count"},name:{kind:"Name",value:"totara_reaction_total"},arguments:[{kind:"Argument",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"component"}}},{kind:"Argument",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"area"}}},{kind:"Argument",name:{kind:"Name",value:"instanceid"},value:{kind:"Variable",name:{kind:"Name",value:"instanceid"}}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"reactions"},name:{kind:"Name",value:"totara_reaction_reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"component"}}},{kind:"Argument",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"area"}}},{kind:"Argument",name:{kind:"Name",value:"instanceid"},value:{kind:"Variable",name:{kind:"Name",value:"instanceid"}}},{kind:"Argument",name:{kind:"Name",value:"page"},value:{kind:"Variable",name:{kind:"Name",value:"page"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instanceid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurlsmall"},arguments:[],directives:[]}]}}]}}]}}]}},"0viy":function(e,i){e.exports=tui.require("tui/components/icons/common/Spinner")},"5h9J":function(e,i){e.exports=tui.require("tui/components/buttons/ButtonIcon")},"77hr":function(e,i,n){"use strict";i.a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_reaction_liked"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"component"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"area"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_area"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"instanceid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"result"},name:{kind:"Name",value:"totara_reaction_liked"},arguments:[{kind:"Argument",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"component"}}},{kind:"Argument",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"area"}}},{kind:"Argument",name:{kind:"Name",value:"instanceid"},value:{kind:"Variable",name:{kind:"Name",value:"instanceid"}}}],directives:[]}]}}]}},"9G+f":function(e,i){e.exports=tui.require("tui/components/popover/Popover")},Gh1B:function(e,i,n){"use strict";n.r(i);var t=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("Modal",{staticClass:"tui-likeRecordsModal"},[n("ModalContent",{attrs:{"close-button":!0},scopedSlots:e._u([{key:"title",fn:function(){return[n("h2",{staticClass:"tui-likeRecordsModal__title"},[n("span",[e._v("\n          "+e._s(e.$str("likesx","totara_reaction",e.like.count))+"\n        ")]),e._v(" "),e.$apollo.loading?n("Spinner"):e._e()],1)]},proxy:!0}])},[e._v(" "),n("div",{staticClass:"tui-likeRecordsModal__content"},[n("ul",{staticClass:"tui-likeRecordsModal__content__records"},e._l(e.like.reactions,(function(i,t){var a=i.user;return n("li",{key:t},[n("Avatar",{attrs:{src:a.profileimageurl,alt:a.profileimagealt||"",size:"xsmall"}}),e._v(" "),n("a",{attrs:{href:e.$url("/user/profile.php",{id:a.id})}},[e._v("\n            "+e._s(a.fullname)+"\n          ")])],1)})),0)])])],1)};t._withStripped=!0;var a=n("tkAW"),r=n.n(a),o=n("u5iS"),l=n.n(o),s=n("Xi9X"),u=n.n(s),d=n("0viy"),c=n.n(d),m=n("0i2B"),p={components:{Modal:r.a,ModalContent:l.a,Avatar:u.a,Spinner:c.a},props:{instanceId:{type:[String,Number],required:!0},component:{type:String,required:!0},area:{type:String,required:!0}},apollo:{like:{query:m.a,fetchPolicy:"network-only",variables(){return{component:this.component,area:this.area,instanceid:this.instanceId}},update:({count:e,reactions:i})=>({count:e,reactions:i})}},data:()=>({page:1,like:{count:0,reactions:[]}})},k=n("KHd+"),v=function(e){e.options.__langStrings={totara_reaction:["likesx"]}},f=Object(k.a)(p,t,[],!1,null,null,null);"function"==typeof v&&v(f),f.options.__hasBlocks={script:!0,template:!0},f.options.__file="client/src/totara_reaction/components/modal/LikeRecordsModal.vue";i.default=f.exports},GmR7:function(e,i,n){"use strict";n.r(i);var t=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-simpleLike"},[e.$apollo.loading?e._e():[n("LikeButtonIcon",{attrs:{"aria-label":e.buttonAriaLabel,liked:e.hasLiked,submitting:e.submitting,disabled:e.disabled,text:e.buttonText},on:{click:function(i){return i.preventDefault(),e.like(i)}}}),e._v(" "),0!==e.count?n("Popover",{staticClass:"tui-simpleLike__popover",attrs:{triggers:["focus","hover"]},on:{"open-changed":function(i){e.showPopover=i}},scopedSlots:e._u([{key:"trigger",fn:function(){return[n("a",{attrs:{href:"#"},on:{click:function(i){i.preventDefault(),e.showModal=!0}}},[e._v("\n          "+e._s(e.$str("bracketcount","totara_reaction",e.count))+"\n        ")])]},proxy:!0}],null,!1,1309043721)},[e._v(" "),n("LikeRecordsList",{attrs:{"skip-loading-records":!e.showPopover,component:e.component,area:e.area,"instance-id":e.instanceId}})],1):e._e()],e._v(" "),n("ModalPresenter",{attrs:{open:e.showModal},on:{"request-close":function(i){e.showModal=!1}}},[n("LikeRecordsModal",{attrs:{component:e.component,"instance-id":e.instanceId,area:e.area}})],1)],2)};t._withStripped=!0;var a=n("rLhL"),r=n.n(a),o=n("Mnur"),l=n.n(o),s=n("9G+f"),u=n.n(s),d=n("OaPj"),c=n.n(d),m=n("hySc"),p=n.n(m),k=n("vyVp"),v=n("0i2B"),f=n("77hr"),h=n("e/g3"),b=n("Q6MM"),_={components:{LikeRecordsModal:r.a,ModalPresenter:l.a,Popover:u.a,LikeButtonIcon:c.a,LikeRecordsList:p.a},props:{component:{type:String,required:!0},area:{type:String,required:!0},instanceId:{type:[String,Number],required:!0},disabled:Boolean,liked:{type:Boolean,default:null},totalLikes:{type:[String,Number],default:null},buttonAriaLabel:{type:String,required:!0},showText:Boolean},apollo:{count:{query:v.a,variables(){return{component:this.component,area:this.area,instanceid:this.instanceId}},update:({count:e})=>parseInt(e,9),skip(){return void 0!==this.totalLikes&&null!==this.totalLikes}},hasLiked:{query:f.a,variables(){return{component:this.component,area:this.area,instanceid:this.instanceId}},update:({result:e})=>e,skip(){return void 0!==this.liked&&null!==this.liked},result({data:{result:e}}){this.$emit("update-like-status",e)}}},data(){return{hasLiked:this.liked,count:this.totalLikes,showModal:!1,showPopover:!1,submitting:!1}},computed:{buttonText(){return this.showText?this.$str("like","totara_reaction"):""}},watch:{liked(e){e!==this.hasLiked&&(this.hasLiked=e)},totalLikes(e){e!=this.count&&(this.count=e)}},methods:{async like(){this.hasLiked?await this.removeLike():await this.createLike()},async createLike(){if(this.submitting)return;this.submitting=!0;let e={component:this.component,area:this.area,instanceid:this.instanceId};try{await this.$apollo.mutate({mutation:h.a,variables:e,refetchAll:!1,refetchQueries:[{query:v.a,variables:e},{query:f.a,variables:e}]}),this.$emit("created-like")}catch(e){await Object(k.notify)({message:this.$str("error:create_like","totara_reaction"),type:"error",duration:5e3})}finally{this.submitting=!1}},async removeLike(){if(this.submitting)return;this.submitting=!0;let e={component:this.component,area:this.area,instanceid:this.instanceId};try{await this.$apollo.mutate({mutation:b.a,variables:e,refetchAll:!1,refetchQueries:[{query:v.a,variables:e},{query:f.a,variables:e}]}),this.$emit("removed-like")}catch(e){await Object(k.notify)({message:this.$str("error:remove_like","totara_reaction"),type:"error",duration:5e3})}finally{this.submitting=!1}}}},y=n("KHd+"),g=function(e){e.options.__langStrings={totara_reaction:["bracketcount","error:create_like","error:remove_like","like"]}},N=Object(y.a)(_,t,[],!1,null,null,null);"function"==typeof g&&g(N),N.options.__hasBlocks={script:!0,template:!0},N.options.__file="client/src/totara_reaction/components/SimpleLike.vue";i.default=N.exports},Mnur:function(e,i){e.exports=tui.require("tui/components/modal/ModalPresenter")},NoMv:function(e,i,n){var t={"./SidePanelLike":"kGYD","./SidePanelLike.vue":"kGYD","./SimpleLike":"GmR7","./SimpleLike.vue":"GmR7","./buttons/LikeButtonIcon":"pYhv","./buttons/LikeButtonIcon.vue":"pYhv","./modal/LikeRecordsModal":"Gh1B","./modal/LikeRecordsModal.vue":"Gh1B","./popover_content/LikeRecordsList":"SxG3","./popover_content/LikeRecordsList.vue":"SxG3"};function a(e){var i=r(e);return n(i)}function r(e){if(!n.o(t,e)){var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}return t[e]}a.keys=function(){return Object.keys(t)},a.resolve=r,e.exports=a,a.id="NoMv"},Ny4F:function(e,i,n){!function(){"use strict";"undefined"!=typeof tui&&tui._bundle.isLoaded("totara_reaction")?console.warn('[tui bundle] The bundle "totara_reaction" is already loaded, skipping initialisation.'):(tui._bundle.register("totara_reaction"),tui._bundle.addModulesFromContext("totara_reaction/components",n("NoMv")))}()},OaPj:function(e,i){e.exports=tui.require("totara_reaction/components/buttons/LikeButtonIcon")},Q6MM:function(e,i,n){"use strict";i.a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"totara_reaction_remove_like"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"component"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"area"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_area"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"instanceid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"result"},name:{kind:"Name",value:"totara_reaction_delete"},arguments:[{kind:"Argument",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"component"}}},{kind:"Argument",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"area"}}},{kind:"Argument",name:{kind:"Name",value:"instanceid"},value:{kind:"Variable",name:{kind:"Name",value:"instanceid"}}}],directives:[]}]}}]}},SxG3:function(e,i,n){"use strict";n.r(i);var t=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-likeRecordsList"},[e.$apollo.loading?n("Spinner",{attrs:{size:"200"}}):[0===e.like.count?n("p",[e._v("\n      "+e._s(e.$str("nolikes","totara_reaction"))+"\n    ")]):n("ul",{staticClass:"tui-likeRecordsList__list"},e._l(e.reactions,(function(i,t){var a=i.user.fullname;return n("li",{key:t},[e._v("\n        "+e._s(a)+"\n      ")])})),0),e._v(" "),e.like.count>10?n("p",[e._v("\n      "+e._s(e.$str("numberofmore","totara_reaction",e.like.count-10))+"\n    ")]):e._e()]],2)};t._withStripped=!0;var a=n("0viy"),r=n.n(a),o=n("0i2B"),l={components:{Spinner:r.a},props:{component:{type:String,required:!0},area:{type:String,required:!0},instanceId:{type:[String,Number],required:!0},skipLoadingRecords:Boolean},apollo:{like:{query:o.a,skip(){return this.skipLoadingRecords},variables(){return{component:this.component,area:this.area,instanceid:this.instanceId}},update:({count:e,reactions:i})=>({count:e,reactions:i})}},data:()=>({page:1,like:{count:0,reactions:[]}}),computed:{reactions(){return Array.prototype.slice.call(this.like.reactions,0,9)}}},s=n("KHd+"),u=function(e){e.options.__langStrings={totara_reaction:["nolikes","numberofmore"]}},d=Object(s.a)(l,t,[],!1,null,null,null);"function"==typeof u&&u(d),d.options.__hasBlocks={script:!0,template:!0},d.options.__file="client/src/totara_reaction/components/popover_content/LikeRecordsList.vue";i.default=d.exports},Xi9X:function(e,i){e.exports=tui.require("tui/components/avatar/Avatar")},"e/g3":function(e,i,n){"use strict";i.a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"totara_reaction_create_like"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"component"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"area"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_area"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"instanceid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"reaction"},name:{kind:"Name",value:"totara_reaction_create"},arguments:[{kind:"Argument",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"component"}}},{kind:"Argument",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"area"}}},{kind:"Argument",name:{kind:"Name",value:"instanceid"},value:{kind:"Variable",name:{kind:"Name",value:"instanceid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"area"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instanceid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]}]}}]}}]}}]}},gWPD:function(e,i){e.exports=tui.require("totara_engage/components/icons/Loading")},hySc:function(e,i){e.exports=tui.require("totara_reaction/components/popover_content/LikeRecordsList")},kGYD:function(e,i,n){"use strict";n.r(i);var t=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-sidePanelLike"},[e.$apollo.loading?e._e():[n("ButtonIconWithLabel",{attrs:{"button-aria-label":e.buttonAriaLabel,"label-text":e.count,disabled:e.disabled},on:{"popover-open-changed":function(i){e.showPopover=i},open:function(i){e.showModal=!0},click:e.like},scopedSlots:e._u([{key:"icon",fn:function(){return[e.submitting?n("Loading"):e.hasLiked?n("LikeActive"):n("Like")]},proxy:!0},{key:"hover-label-content",fn:function(){return[n("LikeRecordsList",{attrs:{component:e.component,area:e.area,"instance-id":e.instanceId}})]},proxy:!0}],null,!1,1618023747)}),e._v(" "),n("ModalPresenter",{attrs:{open:e.showModal},on:{"request-close":function(i){e.showModal=!1}}},[n("LikeRecordsModal",{attrs:{component:e.component,area:e.area,"instance-id":e.instanceId}})],1)]],2)};t._withStripped=!0;var a=n("roED"),r=n.n(a),o=n("hySc"),l=n.n(o),s=n("rLhL"),u=n.n(s),d=n("oZCW"),c=n.n(d),m=n("+c3f"),p=n.n(m),k=n("gWPD"),v=n.n(k),f=n("Mnur"),h=n.n(f),b=n("0i2B"),_=n("77hr"),y=n("e/g3"),g=n("Q6MM"),N=n("vyVp"),L={components:{ModalPresenter:h.a,ButtonIconWithLabel:r.a,LikeRecordsList:l.a,LikeRecordsModal:u.a,Like:c.a,LikeActive:p.a,Loading:v.a},props:{component:{type:String,required:!0},area:{type:String,required:!0},instanceId:{type:[String,Number],required:!0},liked:{type:Boolean,default:null},totalLikes:{type:Boolean,default:null},iconSize:[String,Number],buttonAriaLabel:{type:String,required:!0},disabled:Boolean},apollo:{count:{query:b.a,variables(){return{component:this.component,area:this.area,instanceid:this.instanceId}},update:({count:e})=>e,skip(){return void 0!==this.totalLikes&&null!==this.totalLikes}},hasLiked:{query:_.a,variables(){return{component:this.component,area:this.area,instanceid:this.instanceId}},update:({result:e})=>e,skip(){return void 0!==this.liked&&null!==this.liked}}},data(){return{hasLiked:this.liked,count:this.totalLikes,showPopover:!1,showModal:!1,submitting:!1}},watch:{liked(e){e!==this.hasLiked&&(this.hasLiked=e)},totalLikes(e){e!=this.count&&(this.count=e)}},methods:{async like(){this.hasLiked?await this.removeLike():await this.createLike()},async createLike(){if(this.submitting)return;this.submitting=!0;let e={component:this.component,area:this.area,instanceid:this.instanceId};try{await this.$apollo.mutate({mutation:y.a,variables:e,refetchAll:!1,refetchQueries:[{query:b.a,variables:e},{query:_.a,variables:e}]}),this.$emit("created-like")}catch(e){await Object(N.notify)({message:this.$str("error:create_like","totara_reaction"),type:"error",duration:5e3})}finally{this.submitting=!1}},async removeLike(){if(this.submitting)return;this.submitting=!0;let e={component:this.component,area:this.area,instanceid:this.instanceId};try{await this.$apollo.mutate({mutation:g.a,variables:e,refetchAll:!1,refetchQueries:[{query:b.a,variables:e},{query:_.a,variables:e}]}),this.$emit("removed-like")}catch(e){await Object(N.notify)({message:this.$str("error:remove_like","totara_reaction"),type:"error",duration:5e3})}finally{this.submitting=!1}}}},S=n("KHd+"),M=function(e){e.options.__langStrings={totara_reaction:["error:create_like","error:remove_like"]}},q=Object(S.a)(L,t,[],!1,null,null,null);"function"==typeof M&&M(q),q.options.__hasBlocks={script:!0,template:!0},q.options.__file="client/src/totara_reaction/components/SidePanelLike.vue";i.default=q.exports},oZCW:function(e,i){e.exports=tui.require("tui/components/icons/common/Like")},pYhv:function(e,i,n){"use strict";n.r(i);var t=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("ButtonIcon",{attrs:{"aria-label":e.ariaLabel,styleclass:{transparent:e.transparent,small:e.small,transparentNoPadding:e.transparentNoPadding},disabled:e.submitting||e.disabled,text:e.text},on:{click:function(i){return e.$emit("click",i)}}},[e.submitting?n("Loading",{attrs:{size:e.iconSize}}):e.liked?n("LikedIcon",{attrs:{size:e.iconSize}}):n("LikeIcon",{attrs:{size:e.iconSize}})],1)};t._withStripped=!0;var a=n("5h9J"),r=n.n(a),o=n("oZCW"),l=n.n(o),s=n("+c3f"),u=n.n(s),d=n("0viy"),c=n.n(d),m={components:{ButtonIcon:r.a,LikeIcon:l.a,LikedIcon:u.a,Loading:c.a},props:{transparent:{type:Boolean,default:!0},small:{type:Boolean,default:!0},transparentNoPadding:{type:Boolean,default:!0},submitting:Boolean,liked:Boolean,iconSize:[String,Number],ariaLabel:{type:String,required:!0},disabled:Boolean,text:String}},p=n("KHd+"),k=Object(p.a)(m,t,[],!1,null,null,null);k.options.__hasBlocks={script:!0,template:!0},k.options.__file="client/src/totara_reaction/components/buttons/LikeButtonIcon.vue";i.default=k.exports},rLhL:function(e,i){e.exports=tui.require("totara_reaction/components/modal/LikeRecordsModal")},roED:function(e,i){e.exports=tui.require("tui/components/buttons/LabelledButtonTrigger")},tkAW:function(e,i){e.exports=tui.require("tui/components/modal/Modal")},u5iS:function(e,i){e.exports=tui.require("tui/components/modal/ModalContent")},vyVp:function(e,i){e.exports=tui.require("tui/notifications")}});