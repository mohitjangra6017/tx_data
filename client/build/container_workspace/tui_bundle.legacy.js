!function(e){function i(i){for(var a,s,o=i[0],d=i[1],c=i[2],u=0,m=[];u<o.length;u++)s=o[u],Object.prototype.hasOwnProperty.call(t,s)&&t[s]&&m.push(t[s][0]),t[s]=0;for(a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a]);for(l&&l(i);m.length;)m.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,i=0;i<r.length;i++){for(var n=r[i],a=!0,o=1;o<n.length;o++){var d=n[o];0!==t[d]&&(a=!1)}a&&(r.splice(i--,1),e=s(s.s=n[0]))}return e}var a={},t={1:0},r=[];function s(i){if(a[i])return a[i].exports;var n=a[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,i,n){s.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,i){if(1&i&&(e=s(e)),8&i)return e;if(4&i&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var a in e)s.d(n,a,function(i){return e[i]}.bind(null,a));return n},s.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(i,"a",i),i},s.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},s.p="";var o=window.webpackJsonp=window.webpackJsonp||[],d=o.push.bind(o);o.push=i,o=o.slice();for(var c=0;c<o.length;c++)i(o[c]);var l=d;r.push(["uV17",0]),n()}({"+1Jo":function(e,i){e.exports=tui.require("totara_engage/components/icons/access/computed/AccessIcon")},"+MEP":function(e,i){e.exports=tui.require("tui/components/profile/MiniProfileCard")},"+ukd":function(e,i){e.exports=tui.require("container_workspace/components/profile/DiscussionAvatar")},"0viy":function(e,i){e.exports=tui.require("tui/components/icons/common/Spinner")},"1G8L":function(e,i){e.exports=tui.require("container_workspace/components/form/EditPostDiscussionForm")},"1R7l":function(e,i){e.exports=tui.require("totara_reaction/components/SimpleLike")},"1i2V":function(e,i){e.exports=tui.require("tui/components/tabs/Tab")},"1l6u":function(e,i){e.exports=tui.require("container_workspace/components/recommend/RecommendedSpaces")},"1qGZ":function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("Responsive",{staticClass:"tui-spacesPage",attrs:{breakpoints:e.boundaries},on:{"responsive-resize":function(i){e.currentBoundaryName=i}}},[n("h1",{staticClass:"tui-spacesPage__header"},[e._v("\n    "+e._s(e.$str("find_spaces","container_workspace"))+"\n  ")]),e._v(" "),n("Loader",{attrs:{loading:e.$apollo.loading,fullpage:!0}}),e._v(" "),n("WorkspaceFilter",{staticClass:"tui-spacesPage__filter",attrs:{"selected-topic":e.inner.selectedTopic,"selected-source":e.inner.selectedSource,"selected-sort":e.inner.selectedSort,"search-term":e.inner.searchTerm},on:{"submit-search":e.updateFilter}}),e._v(" "),e.$apollo.loading?e._e():n("SpaceCardsGrid",{staticClass:"tui-spacesPage__grid",attrs:{"max-grid-units":12,submitting:e.submitting,"workspace-units":e.cardUnits,workspaces:e.workspace.items},on:{"join-workspace":e.joinWorkspace}})],1)};a._withStripped=!0;var t=n("o0o1"),r=n.n(t),s=n("yXPU"),o=n.n(s),d=n("dtfu"),c=n.n(d),l=n("zkAu"),u=n.n(l),m=n("AdjL"),p=n.n(m),k=n("yc2X"),v=n.n(k),_=n("dTgY"),f=n("vyVp"),g={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_find_workspaces"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"source"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"container_workspace_workspace_source"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"topic_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sort"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"container_workspace_workspace_sort"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"search_term"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"cursor"},name:{kind:"Name",value:"container_workspace_workspace_cursor"},arguments:[{kind:"Argument",name:{kind:"Name",value:"source"},value:{kind:"Variable",name:{kind:"Name",value:"source"}}},{kind:"Argument",name:{kind:"Name",value:"topic_id"},value:{kind:"Variable",name:{kind:"Name",value:"topic_id"}}},{kind:"Argument",name:{kind:"Name",value:"search_term"},value:{kind:"Variable",name:{kind:"Name",value:"search_term"}}},{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"next"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"workspaces"},name:{kind:"Name",value:"container_workspace_workspaces"},arguments:[{kind:"Argument",name:{kind:"Name",value:"source"},value:{kind:"Variable",name:{kind:"Name",value:"source"}}},{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}},{kind:"Argument",name:{kind:"Name",value:"topic_id"},value:{kind:"Variable",name:{kind:"Name",value:"topic_id"}}},{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"Variable",name:{kind:"Name",value:"sort"}}},{kind:"Argument",name:{kind:"Name",value:"search_term"},value:{kind:"Variable",name:{kind:"Name",value:"search_term"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_members"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"joined"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"own"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_delete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_invite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_update"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_join"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"access"},arguments:[],directives:[]}]}}]}}]},b=n("x4nq"),w=Object.prototype.hasOwnProperty,N={components:{SpaceCardsGrid:v.a,WorkspaceFilter:u.a,Responsive:c.a,Loader:p.a},props:{selectedTopic:{type:[String,Number],default:0},selectedSource:{type:[String,Number],default:null},selectedSort:{type:String,required:!0}},apollo:{workspace:{query:g,fetchPolicy:"network-only",variables:function(){return{topic_id:this.inner.selectedTopic,source:this.inner.selectedSource,sort:this.inner.selectedSort,search_term:this.inner.searchTerm}},update:function(e){var i=e.workspaces;return{cursor:e.cursor,items:i}}}},data:function(){return{workspace:{items:[],cursor:null},inner:{selectedTopic:this.selectedTopic,selectedSource:this.selectedSource,selectedSort:this.selectedSort,searchTerm:this.searchTerm},submitting:!1,currentBoundaryName:"l"}},computed:{boundaries:function(){var e=Object.values(_.cardGrid);return Array.prototype.map.call(e,(function(e){return{boundaries:e.boundaries,name:e.name}}))},cardUnits:function(){if(!w.call(_.cardGrid,this.currentBoundaryName))return 2;var e=_.cardGrid[this.currentBoundaryName].cardUnits;return e}},methods:{updateFilter:function(e){var i=e.topic,n=e.source,a=e.sort,t=e.searchTerm;this.inner.selectedTopic=i,this.inner.selectedSource=n,this.inner.selectedSort=a,this.inner.searchTerm=t},joinWorkspace:function(e){var i=this;return o()(r.a.mark((function n(){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!i.submitting){n.next=2;break}return n.abrupt("return");case 2:return i.submitting=!0,n.prev=3,n.next=6,i.$apollo.mutate({mutation:b.a,refetchAll:!1,variables:{workspace_id:e},update:function(n,a){var t=a.data.member.workspace_interactor,r={topic_id:i.inner.selectedTopic,source:i.inner.selectedSource,sort:i.inner.selectedSort,search_term:i.inner.searchTerm},s=n.readQuery({query:g,variables:r}),o=s.workspaces,d=s.cursor;n.writeQuery({query:g,variables:r,data:{cursor:d,workspaces:Array.prototype.map.call(o,(function(i){return i.id==e&&((i=Object.assign({},i)).interactor=t),i}))}})}});case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(3),n.next=12,Object(f.notify)({message:i.$str("error:join_space","container_workspace"),type:"error"});case 12:return n.prev=12,i.submitting=!1,n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[3,8,12,15]])})))()}}},h=n("KHd+"),y=function(e){e.options.__langStrings={container_workspace:["find_spaces","error:join_space"]}},S=Object(h.a)(N,a,[],!1,null,null,null);"function"==typeof y&&y(S),S.options.__hasBlocks={script:!0,template:!0},S.options.__file="client/src/container_workspace/pages/SpacesPage.vue";i.default=S.exports},"2wx7":function(e,i){e.exports=tui.require("editor_weka/components/Weka")},"3MFw":function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("Form",{staticClass:"tui-workspaceDescriptionForm",attrs:{vertical:!0,"input-width":"full"}},[e.editorMounted?e._e():n("div",{staticClass:"tui-workspaceDescriptionForm__loader"},[n("Spinner")],1),e._v(" "),n("FormRow",{directives:[{name:"show",rawName:"v-show",value:e.editorMounted,expression:"editorMounted"}],staticClass:"tui-workspaceDescriptionForm__formRow",attrs:{label:e.$str("description_label","container_workspace"),hidden:!0},scopedSlots:e._u([{key:"default",fn:function(i){var a=i.id,t=i.label;return[n("Weka",{staticClass:"tui-workspaceDescriptionForm__formRow__editor",attrs:{id:a,"aria-disabled":e.submitting,doc:e.description.content,placeholder:t,component:"container_workspace",area:"description"},on:{"editor-mounted":function(i){e.editorMounted=!0},update:e.updateDescription}})]}}])}),e._v(" "),n("ButtonGroup",{staticClass:"tui-workspaceDescriptionForm__buttonGroup"},[n("LoadingButton",{attrs:{type:"submit",small:!0,primary:!0,text:e.$str("save","container_workspace"),disabled:e.submitting,loading:e.submitting},on:{click:function(i){return i.preventDefault(),e.submit(i)}}}),e._v(" "),n("Button",{attrs:{type:"button",text:e.$str("cancel","moodle"),styleclass:{small:!0},disabled:e.submitting},on:{click:function(i){return i.preventDefault(),e.$emit("cancel")}}})],1)],1)};a._withStripped=!0;var t=n("nEm4"),r=n.n(t),s=n("i/kK"),o=n.n(s),d=n("2wx7"),c=n.n(d),l=n("0viy"),u=n.n(l),m=n("BN8m"),p=n.n(m),k=n("vF5l"),v=n.n(k),_=n("rLBA"),f=n.n(_),g=n("TXEh"),b={components:{LoadingButton:f.a,Form:r.a,FormRow:o.a,Weka:c.a,Spinner:u.a,Button:v.a,ButtonGroup:p.a},props:{submitting:Boolean,descriptionContent:{type:Object,default:function(){return null}}},data:function(){return{description:{content:null,empty:!0},editorMounted:!1}},watch:{descriptionContent:function(e){this.description.content=e,this.description.empty=!1,null===e&&(this.description.empty=!0)}},created:function(){this.descriptionContent&&(this.description.content=JSON.parse(this.descriptionContent),this.description.empty=!1)},methods:{$_readJSON:Object(g.debounce)((function(e){this.description.content=e.getJSON(),this.description.empty=e.isEmpty()}),250),updateDescription:function(e){this.$_readJSON(e)},submit:function(){var e=null;this.description.empty||(e=JSON.stringify(this.description.content)),this.$emit("submit",{description:e})}}},w=n("KHd+"),N=function(e){e.options.__langStrings={container_workspace:["description_label","save"],moodle:["cancel"]}},h=Object(w.a)(b,a,[],!1,null,null,null);"function"==typeof N&&N(h),h.options.__hasBlocks={script:!0,template:!0},h.options.__file="client/src/container_workspace/components/form/WorkspaceDescriptionForm.vue";i.default=h.exports},"3wZ/":function(e,i){e.exports=tui.require("tui/components/icons/common/Warning")},"48jh":function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-discussionFilter"},[n("div",{staticClass:"tui-discussionFilter__search"},[n("SearchBox",{staticClass:"tui-discussionFilter__search__searchBox",attrs:{"aria-label":e.$str("search_discussions","container_workspace"),"label-visible":!1,placeholder:e.$str("search_discussions","container_workspace")},on:{submit:function(i){return e.$emit("update-search-term",e.innerSearchTerm)}},model:{value:e.innerSearchTerm,callback:function(i){e.innerSearchTerm=i},expression:"innerSearchTerm"}}),e._v(" "),n("a",{staticClass:"tui-discussionFilter__search__link",attrs:{href:e.$url("/container/type/workspace/workspace_files.php",{id:e.workspaceId})}},[e._v("\n      "+e._s(e.$str("browse_files","container_workspace"))+"\n    ")])],1),e._v(" "),e._t("pinned-discussions"),e._v(" "),n("div",{staticClass:"tui-discussionFilter__sortBox"},[n("SelectFilter",{attrs:{label:e.$str("sortby","moodle"),"show-label":!0,options:e.sortOptions},model:{value:e.innerSort,callback:function(i){e.innerSort=i},expression:"innerSort"}})],1)],2)};a._withStripped=!0;var t=n("HSAV"),r=n.n(t),s=n("49h4"),o=n.n(s),d={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_discussion_filter_options"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"sorts"},name:{kind:"Name",value:"container_workspace_discussion_sorts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}}]},c={components:{SearchBox:r.a,SelectFilter:o.a},props:{searchTerm:String,sort:{type:String,required:!0},workspaceId:{type:[Number,String],required:!0}},apollo:{sortOptions:{query:d,update:function(e){var i=e.sorts;return Array.prototype.map.call(i,(function(e){var i=e.value;return{label:e.label,id:i}}))}}},data:function(){return{innerSearchTerm:this.searchTerm,innerSort:this.sort,sortOptions:[]}},watch:{sort:function(e){e!==this.innerSort&&(this.innerSort=e)},searchTerm:function(e){this.innerSearchTerm=e},innerSort:function(e){e!==this.sort&&this.$emit("update-sort",e)}}},l=n("KHd+"),u=function(e){e.options.__langStrings={container_workspace:["search_discussions","browse_files"],moodle:["sortby"]}},m=Object(l.a)(c,a,[],!1,null,null,null);"function"==typeof u&&u(m),m.options.__hasBlocks={script:!0,template:!0},m.options.__file="client/src/container_workspace/components/filter/DiscussionFilter.vue";i.default=m.exports},"49h4":function(e,i){e.exports=tui.require("tui/components/filters/SelectFilter")},"4B50":function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-workspaceContributeCard"},[n("Card",{staticClass:"tui-workspaceContributeCard__card"},[n("Contribute",{attrs:{adder:{text:e.$str("select_existing_resource","container_workspace"),destination:e.$str("to_share_with_workspace","container_workspace")},"show-text":!1,"show-icon":!0,styleclass:{circle:!0,primary:!0},size:500,container:e.container},on:{done:function(i){return e.$emit("contribute",i)},"open-adder":function(i){e.showAdder=!0}}})],1),e._v(" "),n("Share",{attrs:{"grid-direction":"horizontal","workspace-id":e.instanceId,"show-adder":e.showAdder,units:12},on:{close:function(i){e.showAdder=!1}}})],1)};a._withStripped=!0;var t=n("jJ8l"),r=n.n(t),s=n("grGL"),o=n.n(s),d=n("tyu8"),c=n("LgKJ"),l=n.n(c),u=n("QgbB"),m={components:{Card:r.a,Contribute:o.a,Share:l.a},props:{instanceId:{type:[Number,String],required:!0}},data:function(){return{workspace:{},showAdder:!1}},apollo:{workspace:{query:u.a,variables:function(){return{id:this.instanceId}}}},computed:{container:function(){return{instanceId:this.instanceId,component:"container_workspace",access:d.AccessManager.PUBLIC,autoShareRecipient:!0,area:"LIBRARY",name:this.workspace.name}}}},p=n("KHd+"),k=function(e){e.options.__langStrings={container_workspace:["select_existing_resource","to_share_with_workspace"]}},v=Object(p.a)(m,a,[],!1,null,null,null);"function"==typeof k&&k(v),v.options.__hasBlocks={script:!0,template:!0},v.options.__file="client/src/container_workspace/components/card/WorkspaceContributeCard.vue";i.default=v.exports},"4Mpf":function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-workspaceFileFilter"},[e.$apollo.loading?e._e():[n("FilterBar",{staticClass:"tui-workspaceFileFilter__filter",attrs:{title:e.$str("files","container_workspace")},scopedSlots:e._u([{key:"filters-left",fn:function(i){var a=i.stacked;return[n("SelectFilter",{staticClass:"tui-workspaceFileFilter__label",attrs:{label:e.$str("file_format","container_workspace"),"show-label":!0,options:e.filter.extensions,stacked:a},on:{input:function(i){return e.$emit("update-filter",e.selection)}},model:{value:e.selection.extension,callback:function(i){e.$set(e.selection,"extension",i)},expression:"selection.extension"}})]}}],null,!1,1626062552)}),e._v(" "),e.showSort?n("SelectFilter",{staticClass:"tui-workspaceFileFilter__sortFilter",attrs:{label:e.$str("sortby","moodle"),"show-label":!0,options:e.filter.sorts},on:{input:function(i){return e.$emit("update-filter",e.selection)}},model:{value:e.selection.sort,callback:function(i){e.$set(e.selection,"sort",i)},expression:"selection.sort"}}):e._e()]],2)};a._withStripped=!0;var t=n("59Wj"),r=n.n(t),s=n("49h4"),o=n.n(s),d={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_file_filter_options"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"sorts"},name:{kind:"Name",value:"container_workspace_file_sorts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"extensions"},name:{kind:"Name",value:"container_workspace_file_extensions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]}]}}]}}]},c={components:{FilterBar:r.a,SelectFilter:o.a},props:{selectedSort:{type:String,required:!0},selectedExtension:{type:String,default:""},workspaceId:{type:[Number,String],required:!0},showSort:{type:Boolean,required:!0}},apollo:{filter:{query:d,variables:function(){return{workspace_id:this.workspaceId}},update:function(e){var i=e.sorts,n=e.extensions;return(n=Array.prototype.map.call(n,(function(e){return{id:e.value,label:e.label}}))).unshift({id:"",label:this.$str("all","moodle")}),{extensions:n,sorts:Array.prototype.map.call(i,(function(e){var i=e.label;return{id:e.value,label:i}}))}}}},data:function(){return{selection:{sort:this.selectedSort,extension:this.selectedExtension}}}},l=n("KHd+"),u=function(e){e.options.__langStrings={container_workspace:["file_format","files","no_file_found"],moodle:["sortby","all"]}},m=Object(l.a)(c,a,[],!1,null,null,null);"function"==typeof u&&u(m),m.options.__hasBlocks={script:!0,template:!0},m.options.__file="client/src/container_workspace/components/filter/WorkspaceFileFilter.vue";i.default=m.exports},"59Wj":function(e,i){e.exports=tui.require("tui/components/filters/FilterBar")},"5gBL":function(e,i){e.exports=tui.require("container_workspace/components/card/DiscussionCard")},"5h9J":function(e,i){e.exports=tui.require("tui/components/buttons/ButtonIcon")},"5qAA":function(e,i){e.exports=tui.require("tui/components/datatable/HeaderCell")},"6bRg":function(e,i){e.exports=tui.require("container_workspace/components/sidepanel/WorkspaceControlMenu")},"8opU":function(e,i){e.exports=tui.require("container_workspace/components/form/WorkspaceAccessForm")},"8shQ":function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("Layout",{staticClass:"tui-workspacePage",attrs:{"show-left-side-panel-control":!1,"show-left-side-panel":!0,"show-right-side-panel":!0,"left-side-panel-initially-open":!0,"right-side-panel-initially-open":!0,"right-side-panel-animated":!0,breakpoints:e.breakPoints,boundaries:e.boundaries},on:{"responsive-resize":function(i){e.currentBoundaryName=i}},scopedSlots:e._u([e.$apollo.loading?null:{key:"sidePanelLeft",fn:function(){return[e.onLargeScreen?n("WorkspaceMenu",{attrs:{"selected-workspace-id":e.workspaceId}}):n("WorkspacePageHeader",{staticClass:"tui-workspacePage__head",attrs:{"workspace-id":e.workspace.id,"workspace-image":e.workspace.image,"workspace-name":e.workspace.name,"show-navigation":!0}})]},proxy:!0},{key:"column",fn:function(i){var a=i.units,t=i.gridDirection;return[e.$apollo.loading?e._e():n("div",{staticClass:"tui-workspacePage__mainContent"},["large"===e.currentBoundaryName?n("WorkspacePageHeader",{staticClass:"tui-workspacePage__mainContent__head",attrs:{"workspace-id":e.workspace.id,"workspace-image":e.workspace.image,"workspace-name":e.workspace.name}}):e._e(),e._v(" "),n("Tabs",{staticClass:"tui-workspacePage__mainContent__tabs",attrs:{direction:"horizontal"},model:{value:e.innerSelectedTab,callback:function(i){e.innerSelectedTab=i},expression:"innerSelectedTab"}},e._l(e.tabs,(function(e,i){var a=e.id,t=e.name;return n("Tab",{key:i,staticClass:"tui-workspacePage__mainContent__tabs__tab",attrs:{id:a,name:t}})})),1),e._v(" "),"members"===e.innerSelectedTab?n("WorkspaceMembersTab",{attrs:{"workspace-id":e.workspaceId,"total-members":e.workspace.total_members,"selected-sort":e.memberSortOption}}):e._e(),e._v(" "),"discussion"===e.innerSelectedTab?n("WorkspaceDiscussionTab",{attrs:{"selected-sort":e.discussionSortOption,"workspace-id":e.workspaceId}}):e._e(),e._v(" "),"library"===e.innerSelectedTab?n("WorkspaceLibraryTab",{attrs:{"workspace-id":e.workspaceId,units:a,"grid-direction":t}}):e._e()],1)]}},{key:"sidePanelRight",fn:function(i){i.units;return[n("WorkspaceSidePanel",{attrs:{"workspace-id":e.workspaceId}})]}}],null,!0)})};a._withStripped=!0;var t=n("AMZF"),r=n.n(t),s=n("Hl3G"),o=n.n(s),d=n("NHyM"),c=n.n(d),l=n("txsu"),u=n.n(l),m=n("1i2V"),p=n.n(m),k=n("Pn5P"),v=n.n(k),_=n("DPa1"),f=n.n(_),g=n("tBMW"),b=n.n(g),w=n("TBZn"),N=n("O3Z6"),h=n.n(N),y=n("vyVp"),S=n("QgbB"),F=n("t5mg"),x={components:{Layout:r.a,WorkspaceMenu:o.a,WorkspaceSidePanel:c.a,Tabs:u.a,Tab:p.a,WorkspaceMembersTab:v.a,WorkspaceDiscussionTab:f.a,WorkspaceLibraryTab:b.a,WorkspacePageHeader:h.a},props:{workspaceId:{type:[Number,String],required:!0},memberSortOption:{type:String,required:!0},discussionSortOption:{type:String,required:!0},selectedTab:{type:String,default:"discussion",validator:function(e){return"discussion"===e||"members"===e||"library"===e}}},apollo:{workspace:{query:S.a,variables:function(){return{id:this.workspaceId}}},notifications:{query:F.a,update:function(){return[]},result:function(e){var i=e.data.notifications;Array.prototype.forEach.call(i,(function(e){var i=e.message,n=e.type;Object(y.notify)({message:i,type:n,duration:5e3})}))}}},data:function(){return{innerSelectedTab:this.selectedTab,workspace:{},currentBoundaryName:"large"}},computed:{breakPoints:function(){return w.workspaceBreakPoint},boundaries:function(){return w.workspaceBoundaries},onLargeScreen:function(){return"large"===this.currentBoundaryName},tabs:function(){return[{id:"discussion",name:this.$str("discuss_tab_label","container_workspace")},{id:"library",name:this.$str("library_tab_label","container_workspace")},{id:"members",name:this.$str("member_tab_label","container_workspace",this.workspace.total_members)}]}}},C=n("KHd+"),A=function(e){e.options.__langStrings={container_workspace:["discuss_tab_label","library_tab_label","member_tab_label","notification_deleted"]}},V=Object(C.a)(x,a,[],!1,null,null,null);"function"==typeof A&&A(V),V.options.__hasBlocks={script:!0,template:!0},V.options.__file="client/src/container_workspace/pages/WorkspacePage.vue";i.default=V.exports},"9G+f":function(e,i){e.exports=tui.require("tui/components/popover/Popover")},A300:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-workspacePageHeader"},[n("div",{staticClass:"tui-workspacePageHeader__img",style:{"background-image":"url('"+e.workspaceImage+"')"},attrs:{title:e.$str("workspace_image_alt","container_workspace"),role:"img","aria-label":e.$str("workspace_image_alt","container_workspace")}}),e._v(" "),n("div",{staticClass:"tui-workspacePageHeader__head"},[n("div",{staticClass:"tui-workspacePageHeader__head__control"},[n("h1",{staticClass:"tui-workspacePageHeader__head__control__title"},[e._v("\n        "+e._s(e.workspaceName)+"\n      ")]),e._v(" "),e.showNavigation?n("ButtonIcon",{staticClass:"tui-workspacePageHeader__head__control__buttonIcon",attrs:{"aria-label":e.buttonMenuAriaLabel,styleclass:{small:!0,transparentNoPadding:!0}},on:{click:function(i){i.preventDefault(),e.showMenu=!e.showMenu}}},[n("ShowIcon")],1):e._e()],1),e._v(" "),n("WorkspaceMenu",{directives:[{name:"show",rawName:"v-show",value:e.showMenu&&e.showNavigation,expression:"showMenu && showNavigation"}],staticClass:"tui-workspacePageHeader__head__menu",attrs:{"selected-workspace-id":e.workspaceId}})],1)])};a._withStripped=!0;var t=n("Hl3G"),r=n.n(t),s=n("5h9J"),o=n.n(s),d=n("CXEF"),c=n.n(d),l={components:{WorkspaceMenu:r.a,ButtonIcon:o.a,ShowIcon:c.a},props:{workspaceImage:{type:String,required:!0},workspaceId:{type:[Number,String],required:!0},workspaceName:{type:String,required:!0},showNavigation:Boolean},data:function(){return{showMenu:!1}},computed:{buttonMenuAriaLabel:function(){return this.showMenu?this.$str("collapse_nav","container_workspace"):this.$str("expand_nav","container_workspace")}}},u=n("KHd+"),m=function(e){e.options.__langStrings={container_workspace:["workspace_image_alt","collapse_nav","expand_nav","workspace_image_alt"]}},p=Object(u.a)(l,a,[],!1,null,null,null);"function"==typeof m&&m(p),p.options.__hasBlocks={script:!0,template:!0},p.options.__file="client/src/container_workspace/components/head/WorkspacePageHeader.vue";i.default=p.exports},"AL+t":function(e,i){e.exports=tui.require("tui/components/json_editor/nodes/VideoBlock")},AMZF:function(e,i){e.exports=tui.require("tui/components/layouts/LayoutOneColumnWithMultiSidePanel")},AdjL:function(e,i){e.exports=tui.require("tui/components/loader/Loader")},BC15:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-contributeWorkspace"},[n("ModalPresenter",{attrs:{open:e.openModal},on:{"request-close":function(i){e.openModal=!1}}},[n("WorkspaceModal",{on:{"create-workspace":e.createWorkspace}})],1),e._v(" "),n("ButtonIcon",{staticClass:"tui-contributeWorkspace__button",attrs:{"aria-label":e.buttonAriaLabel,styleclass:{circle:!0,xsmall:!0},disabled:e.disabled},on:{click:function(i){i.preventDefault(),e.openModal=!0}}},[n("AddIcon")],1)],1)};a._withStripped=!0;var t=n("5h9J"),r=n.n(t),s=n("vgT7"),o=n.n(s),d=n("Mnur"),c=n.n(d),l=n("cNVA"),u=n.n(l),m={components:{ButtonIcon:r.a,AddIcon:o.a,ModalPresenter:c.a,WorkspaceModal:u.a},props:{disabled:Boolean,buttonAriaLabel:{type:String,default:function(){return this.$str("create_space","container_workspace")}}},data:function(){return{submitting:!1,openModal:!1}},methods:{createWorkspace:function(e){this.openModal=!1,this.$emit("create-workspace",e)}}},p=n("KHd+"),k=function(e){e.options.__langStrings={container_workspace:["create_space"]}},v=Object(p.a)(m,a,[],!1,null,null,null);"function"==typeof k&&k(v),v.options.__hasBlocks={script:!0,template:!0},v.options.__file="client/src/container_workspace/components/create/ContributeWorkspace.vue";i.default=v.exports},BMq0:function(e,i){e.exports=tui.require("container_workspace/components/filter/MemberSearchBox")},BN8m:function(e,i){e.exports=tui.require("tui/components/buttons/ButtonGroup")},BPqQ:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("Form",{staticClass:"tui-workspaceAccessForm",attrs:{vertical:!0,"input-width":"full"}},[n("FormRow",{staticClass:"tui-workspaceAccessForm__formRow",attrs:{label:e.$str("assign_topics_label","container_workspace"),helpmsg:e.$str("assigntopicshelp","totara_topic")},scopedSlots:e._u([{key:"default",fn:function(i){var a=i.id;return[n("TopicsSelector",{attrs:{id:a,"selected-topics":e.topics},on:{change:function(i){e.topics=i}}})]}}])}),e._v(" "),n("ButtonGroup",{staticClass:"tui-workspaceAccessForm__buttonGroup"},[n("LoadingButton",{attrs:{text:e.$str("save","container_workspace"),primary:!0,small:!0,disabled:0===e.topics.length||e.submitting,loading:e.submitting},on:{click:function(i){return e.$emit("submit",{topics:e.topics})}}}),e._v(" "),n("Button",{attrs:{text:e.$str("cancel","moodle"),styleclass:{small:!0},disabled:e.submitting},on:{click:function(i){return i.preventDefault(),e.$emit("cancel")}}})],1)],1)};a._withStripped=!0;var t=n("i/kK"),r=n.n(t),s=n("nEm4"),o=n.n(s),d=n("K1nw"),c=n.n(d),l=n("vF5l"),u=n.n(l),m=n("BN8m"),p=n.n(m),k=n("rLBA"),v=n.n(k),_={components:{Form:o.a,FormRow:r.a,TopicsSelector:c.a,Button:u.a,ButtonGroup:p.a,LoadingButton:v.a},props:{submitting:Boolean,selectedTopics:{type:Array,default:function(){return[]},validator:function(e){return 0===(e=Array.prototype.filter.call(e,(function(e){return!("id"in e)||!("value"in e)}))).length}}},data:function(){return{topics:Array.prototype.slice.call(this.selectedTopics)}}},f=n("KHd+"),g=function(e){e.options.__langStrings={container_workspace:["assign_topics_label","save"],totara_topic:["assigntopicshelp"],moodle:["cancel"]}},b=Object(f.a)(_,a,[],!1,null,null,null);"function"==typeof g&&g(b),b.options.__hasBlocks={script:!0,template:!0},b.options.__file="client/src/container_workspace/components/form/WorkspaceAccessForm.vue";i.default=b.exports},BaY1:function(e,i){e.exports=tui.require("tui/components/sidepanel/SidePanel")},BxDI:function(e,i){e.exports=tui.require("tui/components/decor/Separator")},CWIl:function(e,i){e.exports=tui.require("totara_engage/grid")},CXEF:function(e,i){e.exports=tui.require("tui/components/icons/common/Show")},CdXQ:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-postDiscussionForm"},[n("PostAvatar",{attrs:{"profile-url":e.avatarImageUrl,"image-alt":e.avatarImageAlt,"image-src":e.avatarImageSrc}}),e._v(" "),n("WorkspaceDiscussionForm",{staticClass:"tui-postDiscussionForm__form",attrs:{submitting:e.submitting,"show-cancel-button":!1},on:{submit:function(i){return e.$emit("submit",i)}}})],1)};a._withStripped=!0;var t=n("w2wx"),r=n.n(t),s=n("M3bB"),o=n.n(s),d={components:{PostAvatar:r.a,WorkspaceDiscussionForm:o.a},props:{avatarImageUrl:{type:String,required:!0},avatarImageAlt:{type:String,required:!0},avatarImageSrc:{type:String,required:!0},submitting:Boolean}},c=n("KHd+"),l=Object(c.a)(d,a,[],!1,null,null,null);l.options.__hasBlocks={script:!0,template:!0},l.options.__file="client/src/container_workspace/components/form/PostDiscussionForm.vue";i.default=l.exports},CiZ3:function(e,i){e.exports=tui.require("totara_engage/components/form/Upload")},D9If:function(e,i){e.exports=tui.require("tui/components/grid/GridItem")},DPa1:function(e,i){e.exports=tui.require("container_workspace/components/content/tabs/WorkspaceDiscussionTab")},"Emo+":function(e,i){e.exports=tui.require("container_workspace/components/card/DiscussionWithCommentCard")},F98r:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-workspaceFileHeader"},[n("div",{staticClass:"tui-workspaceFileHeader__back"},[n("ButtonIcon",{attrs:{styleclass:{transparent:!0},"aria-label":e.$str("back","moodle"),text:e.$str("back","moodle")},on:{click:function(i){return e.$emit("go-back")}}},[n("BackArrow",{attrs:{size:"200",alt:e.$str("back","moodle")}})],1)],1),e._v(" "),n("div",{staticClass:"tui-workspaceFileHeader__title"},[e._v("\n    "+e._s(e.$str("files","container_workspace"))+"\n  ")])])};a._withStripped=!0;var t=n("Lht0"),r=n.n(t),s=n("5h9J"),o=n.n(s),d={components:{BackArrow:r.a,ButtonIcon:o.a}},c=n("KHd+"),l=function(e){e.options.__langStrings={moodle:["back"],container_workspace:["files"]}},u=Object(c.a)(d,a,[],!1,null,null,null);"function"==typeof l&&l(u),u.options.__hasBlocks={script:!0,template:!0},u.options.__file="client/src/container_workspace/components/head/WorkspaceFileHeader.vue";i.default=u.exports},FoZm:function(e,i){e.exports=tui.require("tui/format")},GF1c:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("LayoutTwoColumn",{staticClass:"tui-workspaceFilePage",on:{"direction-change":function(i){e.direction=i}},scopedSlots:e._u([{key:"left",fn:function(){return[n("SidePanel",{staticClass:"tui-workspaceFilePage__sidePanel",attrs:{"show-button-control":!1,"initially-open":!0,"limit-height":!1}},[e.showScreen?n("WorkspaceMenu",{staticClass:"tui-workspaceFilePage__sidePanel__menu",attrs:{"selected-workspace-id":e.workspaceId},on:{"create-workspace":e.navigateToWorkspace}}):n("WorkspaceControlMenu",{staticClass:"tui-workspacePage__head",attrs:{"workspace-id":e.workspaceId,"workspace-name":e.workspaceName,"show-navigation":!0}})],1)]},proxy:!0},{key:"right",fn:function(){return[e.$apollo.loading?e._e():n("div",{staticClass:"tui-workspaceFilePage__content"},[n("WorkspaceFileHeader",{on:{"go-back":e.goBack}}),e._v(" "),n("WorkspaceFileFilter",{attrs:{"selected-sort":e.inner.selectedSort,"selected-extension":e.inner.selectedExtension,"workspace-id":e.workspaceId,"show-sort":e.totalFiles>0},on:{"update-filter":e.updateFilter}}),e._v(" "),e.$apollo.loading||0!==e.totalFiles?n("WorkspaceFileTable",{attrs:{"workspace-id":e.workspaceId,"selected-sort":e.inner.selectedSort,"selected-extension":e.inner.selectedExtension},on:{open:e.handleOpen}}):n("p",{staticClass:"tui-workspaceFilePage__content__message"},[e._v("\n        "+e._s(e.$str("no_file_found","container_workspace"))+"\n      ")]),e._v(" "),n("ModalPresenter",{attrs:{open:e.openModal},on:{"request-close":function(i){e.openModal=!1}}},[n("WorkspaceFileViewModal",{attrs:{"file-name":e.innerFile.fileName,"download-url":e.innerFile.downloadUrl,"context-url":e.innerFile.contextUrl,"mime-type":e.innerFile.mimeType,extension:e.innerFile.extension,"file-type":e.innerFile.fileType,"alt-text":e.innerFile.altText,"file-url":e.innerFile.fileUrl}})],1)],1)]},proxy:!0}])})};a._withStripped=!0;var t=n("dj/p"),r=n.n(t),s=n("Hl3G"),o=n.n(s),d=n("BaY1"),c=n.n(d),l=n("zizw"),u=n.n(l),m=n("VI/h"),p=n.n(m),k=n("drxS"),v=n.n(k),_=n("Mnur"),f=n.n(_),g=n("xO7t"),b=n.n(g),w=n("6bRg"),N=n.n(w),h=n("ao45"),y={components:{SidePanel:c.a,LayoutTwoColumn:r.a,WorkspaceMenu:o.a,WorkspaceFileHeader:u.a,WorkspaceFileFilter:p.a,WorkspaceFileTable:v.a,ModalPresenter:f.a,WorkspaceFileViewModal:b.a,WorkspaceControlMenu:N.a},props:{workspaceId:{type:[Number,String],required:!0},selectedSort:{type:String,required:!0},selectedExtension:{type:String,default:""},workspaceName:{type:String,required:!0}},apollo:{totalFiles:{query:h.a,variables:function(){return{workspace_id:this.workspaceId,extension:this.inner.selectedExtension,sort:this.inner.selectedSort}},update:function(e){var i=e.cursor;return parseInt(i.total,10)}}},data:function(){return{totalFiles:0,inner:{selectedSort:this.selectedSort,selectedExtension:this.selectedExtension},openModal:!1,innerFile:{fileName:null,extension:null,downloadUrl:null,contextUrl:null,fileUrl:null,mimeType:null,fileType:null,altText:null},direction:"horizontal"}},computed:{showScreen:function(){return"horizontal"===this.direction}},methods:{updateFilter:function(e){var i=e.extension,n=e.sort;this.inner.selectedExtension=i,this.inner.selectedSort=n,this.currentPage=1},navigateToWorkspace:function(e){var i=e.id;document.location.href=this.$url("/container/type/workspace/workspace.php",{id:i})},goBack:function(){document.location.href=this.$url("/container/type/workspace/workspace.php?",{id:this.workspaceId})},handleOpen:function(e){var i=e.file_name,n=e.extension,a=e.context_url,t=e.download_url,r=e.file_url,s=e.mimetype,o=e.file_type,d=e.alt_text;this.innerFile.fileName=i,this.innerFile.extension=n,this.innerFile.contextUrl=a,this.innerFile.downloadUrl=t,this.innerFile.mimeType=s,this.innerFile.fileType=o,this.innerFile.altText=d||this.$str("imagealt","moodle"),this.innerFile.fileUrl=r,this.openModal=!0}}},S=n("KHd+"),F=function(e){e.options.__langStrings={moodle:["imagealt"]}},x=Object(S.a)(y,a,[],!1,null,null,null);"function"==typeof F&&F(x),x.options.__hasBlocks={script:!0,template:!0},x.options.__file="client/src/container_workspace/pages/WorkspaceFilePage.vue";i.default=x.exports},"H/tB":function(e,i){e.exports=tui.require("tui/tui")},HKzo:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("Modal",{staticClass:"tui-workspaceModal",attrs:{size:"large",dismissable:{esc:!0,backdropClick:!1,overlayClose:!1}}},[n("ModalContent",{staticClass:"tui-workspaceModal__content",attrs:{"close-button":!1,title:e.$str("create_space","container_workspace")}},[n("WorkspaceForm",{staticClass:"tui-workspaceModal__content__form",attrs:{submittin:e.submitting},on:{submit:e.createWorkspace,cancel:function(i){return e.$emit("request-close")}}})],1)],1)};a._withStripped=!0;var t=n("o0o1"),r=n.n(t),s=n("yXPU"),o=n.n(s),d=n("tkAW"),c=n.n(d),l=n("gsPT"),u=n.n(l),m=n("u5iS"),p=n.n(m),k=n("vyVp"),v={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"container_workspace_create_workspace"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"description"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"description_format"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"draft_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"topics"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspace"},name:{kind:"Name",value:"container_workspace_create"},arguments:[{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"description"},value:{kind:"Variable",name:{kind:"Name",value:"description"}}},{kind:"Argument",name:{kind:"Name",value:"description_format"},value:{kind:"Variable",name:{kind:"Name",value:"description_format"}}},{kind:"Argument",name:{kind:"Name",value:"draft_id"},value:{kind:"Variable",name:{kind:"Name",value:"draft_id"}}},{kind:"Argument",name:{kind:"Name",value:"topics"},value:{kind:"Variable",name:{kind:"Name",value:"topics"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"description_format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner_job_assignments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_members"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"joined"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"own"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_update"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_delete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_invite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_join"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]}]}}]}}]}}]},_={components:{Modal:c.a,ModalContent:p.a,WorkspaceForm:u.a},data:function(){return{submitting:!1}},methods:{createWorkspace:function(e){var i=this,n=e.name,a=e.description,t=e.topics,s=e.draftId;return o()(r.a.mark((function e(){var o,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.submitting){e.next=2;break}return e.abrupt("return");case 2:return i.submitting=!0,e.prev=3,e.next=6,i.$apollo.mutate({mutation:v,refetchAll:!1,variables:{name:n,description:a,topics:t,draft_id:s}});case 6:o=e.sent,d=o.data.workspace,i.$emit("create-workspace",d),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(3),e.next=15,Object(k.notify)({message:i.$str("error:create","container_workspace"),type:"error"});case 15:return e.prev=15,i.submitting=!1,e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[3,11,15,18]])})))()}}},f=n("KHd+"),g=function(e){e.options.__langStrings={container_workspace:["create_space","error:create"]}},b=Object(f.a)(_,a,[],!1,null,null,null);"function"==typeof g&&g(b),b.options.__hasBlocks={script:!0,template:!0},b.options.__file="client/src/container_workspace/components/modal/WorkspaceModal.vue";i.default=b.exports},HSAV:function(e,i){e.exports=tui.require("tui/components/form/SearchBox")},HgPy:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement;return(e._self._c||i)("SearchBox",{attrs:{"label-visible":!1,"aria-label":e.$str("search_members","container_workspace")},on:{submit:function(i){return e.$emit("submit",e.innerSearchTerm)}},model:{value:e.innerSearchTerm,callback:function(i){e.innerSearchTerm=i},expression:"innerSearchTerm"}})};a._withStripped=!0;var t=n("HSAV"),r={components:{SearchBox:n.n(t).a},props:{searchTerm:{type:String,default:""}},data:function(){return{innerSearchTerm:this.searchTerm}},watch:{searchTerm:function(e){this.innerSearchTerm=e}}},s=n("KHd+"),o=function(e){e.options.__langStrings={container_workspace:["search_members"]}},d=Object(s.a)(r,a,[],!1,null,null,null);"function"==typeof o&&o(d),d.options.__hasBlocks={script:!0,template:!0},d.options.__file="client/src/container_workspace/components/filter/MemberSearchBox.vue";i.default=d.exports},Hl3G:function(e,i){e.exports=tui.require("container_workspace/components/sidepanel/WorkspaceMenu")},"IMG+":function(e,i){e.exports=tui.require("container_workspace/components/sidepanel/content/WorkspaceDescription")},K1nw:function(e,i){e.exports=tui.require("totara_topic/components/form/TopicsSelector")},KGcv:function(e,i){e.exports=tui.require("tui/components/dropdown/DropdownItem")},KGot:function(e,i){e.exports=tui.require("tui/components/datatable/Cell")},KJhw:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-workspaceMembersTab"},[n("div",{staticClass:"tui-workspaceMembersTab__head"},[n("MemberSearchBox",{attrs:{"search-term":e.searchTerm},on:{submit:function(i){e.searchTerm=i}}})],1),e._v(" "),e.$apollo.queries.filter.loading?e._e():n("div",{staticClass:"tui-workspaceMembersTab__content"},[n("div",{staticClass:"tui-workspaceMembersTab__content__head"},[n("h3",{staticClass:"tui-workspaceMembersTab__content__head__title"},[n("span",[e._v(e._s(e.totalMemberText))])]),e._v(" "),n("SelectFilter",{attrs:{options:e.filter.sorts,label:e.$str("sortby","moodle"),"aria-label":e.$str("sortby","moodle")},model:{value:e.sort,callback:function(i){e.sort=i},expression:"sort"}})],1),e._v(" "),n("div",{staticClass:"tui-workspaceMembersTab__content__members"},[n("VirtualScroll",{attrs:{"data-key":"id","data-list":e.member.items,"aria-label":"MembersList","is-loading":e.$apollo.queries.member.loading,"page-mode":!0},on:{scrollbottom:e.onScrollToBottom},scopedSlots:e._u([{key:"item",fn:function(i){var a=i.item,t=i.posInSet,r=i.setSize;return[n("WorkspaceMemberCard",{staticClass:"tui-workspaceMembersTab__content__members__member",attrs:{"user-id":a.id,"user-full-name":a.user.fullname,"user-email":a.user.email,"profile-image-alt":a.user.profileimagealt||"","profile-image-url":a.user.profileimageurl,"job-assignments":a.job_assignments,"delete-able":a.member_interactor.can_remove,"workspace-id":e.workspaceId,"aria-posinset":t,"aria-setsize":r,"aria-labelledby":e.$id("item-"+a.id),"label-id":e.$id("item-"+a.id)},on:{"remove-member":e.removeMember}})]}},{key:"footer",fn:function(){return[n("PageLoader",{attrs:{fullpage:!1,loading:e.$apollo.queries.member.loading}})]},proxy:!0}],null,!1,1291397577)}),e._v(" "),e.isLoadMoreVisible&&e.member.cursor.next&&!e.$apollo.queries.member.loading?n("div",{staticClass:"tui-workspaceMembersTab__content__members__loadMoreContainer"},[n("div",{staticClass:"tui-workspaceMembersTab__content__members__viewedMembers"},[[e._v("\n            "+e._s(e.$str("vieweditems","container_workspace",e.member.items.length))+"\n            "+e._s(e.totalMemberText)+"\n          ")]],2),e._v(" "),n("Button",{staticClass:"tui-workspaceMembersTab__content__members__loadMore",attrs:{text:e.$str("loadmore","container_workspace")},on:{click:e.loadMore}})],1):e._e(),e._v(" "),e.member.items.length<=0&&!e.$apollo.queries.member.loading?n("p",{staticClass:"tui-workspaceMembersTab__content__members__message"},[e._v("\n        "+e._s(e.$str("no_member_found","container_workspace"))+"\n      ")]):e._e()],1)])])};a._withStripped=!0;var t=n("o0o1"),r=n.n(t),s=n("yXPU"),o=n.n(s),d=n("BMq0"),c=n.n(d),l=n("pZp9"),u=n.n(l),m=n("49h4"),p=n.n(m),k=n("UpZR"),v=n.n(k),_={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_member_filter_options"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"sorts"},name:{kind:"Name",value:"container_workspace_member_sorts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]}]}}]}}]},f={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_find_members"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"search_term"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sort"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"container_workspace_member_sort"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"cursor"},name:{kind:"Name",value:"container_workspace_member_cursor"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}},{kind:"Argument",name:{kind:"Name",value:"search_term"},value:{kind:"Variable",name:{kind:"Name",value:"search_term"}}},{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}},{kind:"Argument",name:{kind:"Name",value:"status"},value:{kind:"EnumValue",value:"ACTIVE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"next"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"members"},name:{kind:"Name",value:"container_workspace_members"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}},{kind:"Argument",name:{kind:"Name",value:"search_term"},value:{kind:"Variable",name:{kind:"Name",value:"search_term"}}},{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"Variable",name:{kind:"Name",value:"sort"}}},{kind:"Argument",name:{kind:"Name",value:"status"},value:{kind:"EnumValue",value:"ACTIVE"}},{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"job_assignments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"member_interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_remove"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"time_joined"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"DATELONG"}}],directives:[]}]}}]}}]},g=n("R5BP"),b=n.n(g),w=n("vF5l"),N=n.n(w),h=n("AdjL"),y=n.n(h),S={components:{MemberSearchBox:c.a,WorkspaceMemberCard:u.a,SelectFilter:p.a,VirtualScroll:b.a,Button:N.a,PageLoader:y.a},props:{workspaceId:{type:[String,Number],required:!0},selectedSort:{type:String,required:!0},totalMembers:{type:[String,Number],required:!0}},apollo:{filter:{query:_,update:function(e){var i=e.sorts;return{sorts:Array.prototype.map.call(i,(function(e){var i=e.label;return{id:e.value,label:i}}))}}},member:{query:f,fetchPolicy:"network-only",skip:function(){return this.$apollo.queries.filter.loading},variables:function(){return{workspace_id:this.workspaceId,sort:this.sort,search_term:this.searchTerm}},update:function(e){return{cursor:e.cursor,items:e.members}}}},data:function(){return{filter:{},isLoadMoreVisible:!1,member:{cursor:{total:0,next:null},items:[]},searchTerm:"",sort:this.selectedSort}},computed:{totalMemberText:function(){return 1==this.totalMembers?this.$str("one_member","container_workspace"):this.$str("total_member_x","container_workspace",this.totalMembers)}},methods:{removeMember:function(e){var i={search_term:this.searchTerm,sort:this.sort,workspace_id:this.workspaceId},n=v.a.readQuery({query:f,variables:i}),a=n.cursor,t=n.members;v.a.writeQuery({query:f,variables:i,data:{cursor:a,members:Array.prototype.filter.call(t,(function(i){return i.user.id!=e}))}})},onScrollToBottom:function(){var e=this;return o()(r.a.mark((function i(){return r.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!e.isLoadMoreVisible){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,e.loadMoreItems();case 4:e.isLoadMoreVisible=!0;case 5:case"end":return i.stop()}}),i)})))()},loadMore:function(){var e=this;return o()(r.a.mark((function i(){return r.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e.loadMoreItems();case 2:e.isLoadMoreVisible=!1;case 3:case"end":return i.stop()}}),i)})))()},loadMoreItems:function(){var e=this;return o()(r.a.mark((function i(){return r.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(e.member.cursor.next){i.next=2;break}return i.abrupt("return");case 2:e.$apollo.queries.member.fetchMore({variables:{cursor:e.member.cursor.next,workspace_id:e.workspaceId,sort:e.sort,search_term:e.searchTerm},updateQuery:function(e,i){var n=i.fetchMoreResult,a=e.members.concat(n.members);return{cursor:n.cursor,members:a}}});case 3:case"end":return i.stop()}}),i)})))()}}},F=n("KHd+"),x=function(e){e.options.__langStrings={container_workspace:["loadmore","one_member","total_member_x","no_member_found","vieweditems"],moodle:["sortby"]}},C=Object(F.a)(S,a,[],!1,null,null,null);"function"==typeof x&&x(C),C.options.__hasBlocks={script:!0,template:!0},C.options.__file="client/src/container_workspace/components/content/tabs/WorkspaceMembersTab.vue";i.default=C.exports},KOYE:function(e,i){e.exports=tui.require("container_workspace/components/sidepanel/content/WorkspacePrimaryAction")},Kwxl:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this.$createElement,i=this._self._c||e;return i("a",{attrs:{href:this.profileUrl}},[i("Avatar",{attrs:{src:this.imageSrc,alt:this.imageAlt,size:"xxsmall"}})],1)};a._withStripped=!0;var t=n("Xi9X"),r={components:{Avatar:n.n(t).a},props:{imageSrc:{required:!0,type:String},imageAlt:{required:!0,type:String},profileUrl:{required:!0,type:String}}},s=n("KHd+"),o=Object(s.a)(r,a,[],!1,null,null,null);o.options.__hasBlocks={script:!0,template:!0},o.options.__file="client/src/container_workspace/components/profile/DiscussionAvatar.vue";i.default=o.exports},LgKJ:function(e,i){e.exports=tui.require("container_workspace/components/contribution/Share")},Lht0:function(e,i){e.exports=tui.require("tui/components/icons/common/BackArrow")},"LmW+":function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-workspaceControlMenu"},[n("div",{staticClass:"tui-workspaceControlMenu__head"},[n("div",{staticClass:"tui-workspaceControlMenu__head__control"},[n("h1",{staticClass:"tui-workspaceControlMenu__head__control__title"},[e._v("\n        "+e._s(e.workspaceName)+"\n      ")]),e._v(" "),e.showNavigation?n("ButtonIcon",{staticClass:"tui-workspaceControlMenu__head__control__buttonIcon",attrs:{"aria-label":e.buttonMenuAriaLabel,styleclass:{transparentNoPadding:!0,small:!0}},on:{click:function(i){i.preventDefault(),e.showMenu=!e.showMenu}}},[n("ShowIcon")],1):e._e()],1),e._v(" "),n("WorkspaceMenu",{directives:[{name:"show",rawName:"v-show",value:e.showMenu&&e.showNavigation,expression:"showMenu && showNavigation"}],staticClass:"tui-workspaceControlMenu__head__menu",attrs:{"selected-workspace-id":e.workspaceId}})],1)])};a._withStripped=!0;var t=n("Hl3G"),r=n.n(t),s=n("5h9J"),o=n.n(s),d=n("CXEF"),c=n.n(d),l={components:{WorkspaceMenu:r.a,ButtonIcon:o.a,ShowIcon:c.a},props:{workspaceId:{type:[Number,String],required:!0},workspaceName:{type:String,required:!0},showNavigation:Boolean},data:function(){return{showMenu:!1}},computed:{buttonMenuAriaLabel:function(){return this.showMenu?this.$str("collapse_nav","container_workspace"):this.$str("expand_nav","container_workspace")}}},u=n("KHd+"),m=function(e){e.options.__langStrings={container_workspace:["collapse_nav","expand_nav"]}},p=Object(u.a)(l,a,[],!1,null,null,null);"function"==typeof m&&m(p),p.options.__hasBlocks={script:!0,template:!0},p.options.__file="client/src/container_workspace/components/sidepanel/WorkspaceControlMenu.vue";i.default=p.exports},M3bB:function(e,i){e.exports=tui.require("container_workspace/components/form/WorkspaceDiscussionForm")},MVIO:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-workspacePrimaryAction"},[n("ModalPresenter",{attrs:{open:e.modal.leaveConfirm},on:{"request-close":function(i){e.modal.leaveConfirm=!1}}},[n("WorkspaceWarningModal",{attrs:{title:e.$str("delete_warning_title","container_workspace"),"message-content":e.$str("leave_workspace_message","container_workspace"),"confirm-button-text":e.$str("leave","container_workspace")},on:{confirm:e.leaveWorkspace}})],1),e._v(" "),e.owner?e._e():[!e.joined&&e.joinAble?n("LoadingButton",{attrs:{text:e.joinButtonLabel,loading:e.submitting,"aria-disabled":e.joined||!e.joinAble,"aria-label":e.ariaJoinButtonLabel},on:{click:e.joinWorkspace}}):e.joined?n("Dropdown",{staticClass:"tui-workspacePrimaryAction__dropdown",scopedSlots:e._u([{key:"trigger",fn:function(i){var a=i.toggle;return[n("Button",{attrs:{text:e.$str("joined","container_workspace"),caret:!0},on:{click:function(e){return e.preventDefault(),a(e)}}})]}}],null,!1,2268143500)},[e._v(" "),n("DropdownItem",{on:{click:function(i){e.modal.leaveConfirm=!0}}},[e._v("\n        "+e._s(e.$str("leave_workspace","container_workspace"))+"\n      ")])],1):e._e()]],2)};a._withStripped=!0;var t=n("o0o1"),r=n.n(t),s=n("yXPU"),o=n.n(s),d=n("rLBA"),c=n.n(d),l=n("vF5l"),u=n.n(l),m=n("gLvT"),p=n.n(m),k=n("KGcv"),v=n.n(k),_=n("vyVp"),f=n("Mnur"),g=n.n(f),b=n("XgQu"),w=n.n(b),N=n("x4nq"),h={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"container_workspace_leave_workspace"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"member"},name:{kind:"Name",value:"container_workspace_leave"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"job_assignments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"member_interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_remove"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"time_joined"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"DATELONG"}}],directives:[]}]}}]}}]},y={components:{LoadingButton:c.a,Button:u.a,DropdownItem:v.a,Dropdown:p.a,ModalPresenter:g.a,WorkspaceWarningModal:w.a},props:{joinAble:{type:Boolean,required:!0},owner:{type:Boolean,required:!0},joined:{type:Boolean,required:!0},workspaceName:{type:String,required:!0},workspaceId:{type:[String,Number],required:!0}},data:function(){return{submitting:!1,modal:{leaveConfirm:!1}}},computed:{joinButtonLabel:function(){return this.joined?this.$str("joined","container_workspace"):this.$str("join_workspace","container_workspace")},ariaJoinButtonLabel:function(){return this.joined?this.$str("joined","container_workspace"):this.$str("join_space","container_workspace",this.workspaceName)}},methods:{joinWorkspace:function(){var e=this;return o()(r.a.mark((function i(){return r.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!e.submitting){i.next=2;break}return i.abrupt("return");case 2:return e.submitting=!0,i.prev=3,i.next=6,e.$apollo.mutate({mutation:N.a,refetchAll:!0,variables:{workspace_id:e.workspaceId}});case 6:e.$emit("join-workspace"),i.next=13;break;case 9:return i.prev=9,i.t0=i.catch(3),i.next=13,Object(_.notify)({message:e.$str("error:join_space","container_workspace"),type:"error"});case 13:return i.prev=13,e.submitting=!1,i.finish(13);case 16:case"end":return i.stop()}}),i,null,[[3,9,13,16]])})))()},leaveWorkspace:function(){var e=this;return o()(r.a.mark((function i(){return r.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!e.submitting){i.next=2;break}return i.abrupt("return");case 2:return e.submitting=!0,i.prev=3,i.next=6,e.$apollo.mutate({mutation:h,refetchAll:!0,variables:{workspace_id:e.workspaceId}});case 6:e.modal.leaveConfirm=!1,e.$emit("leave-workspace"),i.next=14;break;case 10:return i.prev=10,i.t0=i.catch(3),i.next=14,Object(_.notify)({message:e.$str("error:leave_space","container_workspace"),type:"error"});case 14:return i.prev=14,e.submitting=!1,i.finish(14);case 17:case"end":return i.stop()}}),i,null,[[3,10,14,17]])})))()}}},S=n("KHd+"),F=function(e){e.options.__langStrings={container_workspace:["join_workspace","join_space","joined","error:join_space","leave_workspace","delete_warning_title","leave_workspace_message","error:leave_space","leave"]}},x=Object(S.a)(y,a,[],!1,null,null,null);"function"==typeof F&&F(x),x.options.__hasBlocks={script:!0,template:!0},x.options.__file="client/src/container_workspace/components/sidepanel/content/WorkspacePrimaryAction.vue";i.default=x.exports},Mnur:function(e,i){e.exports=tui.require("tui/components/modal/ModalPresenter")},NAOU:function(e,i){e.exports=tui.require("tui/components/grid/Grid")},NHyM:function(e,i){e.exports=tui.require("container_workspace/components/sidepanel/WorkspaceSidePanel")},O3Z6:function(e,i){e.exports=tui.require("container_workspace/components/head/WorkspacePageHeader")},"Oh+1":function(e,i,n){var a={"./EmptySpacesPage":"WOCn","./EmptySpacesPage.vue":"WOCn","./SpacesPage":"1qGZ","./SpacesPage.vue":"1qGZ","./WorkspaceDiscussionPage":"o5Iv","./WorkspaceDiscussionPage.vue":"o5Iv","./WorkspaceFilePage":"GF1c","./WorkspaceFilePage.vue":"GF1c","./WorkspacePage":"8shQ","./WorkspacePage.vue":"8shQ"};function t(e){var i=r(e);return n(i)}function r(e){if(!n.o(a,e)){var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}return a[e]}t.keys=function(){return Object.keys(a)},t.resolve=r,e.exports=t,t.id="Oh+1"},PLRA:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return e.page.files.length>0?n("div",[n("Table",{staticClass:"tui-workspaceFileTable",attrs:{data:e.page.files,"expandable-rows":!1},scopedSlots:e._u([{key:"header-row",fn:function(){return[n("HeaderCell",{attrs:{size:"7"}},[e._v("\n        "+e._s(e.$str("file_name","container_workspace"))+"\n      ")]),e._v(" "),n("HeaderCell",{attrs:{size:"2"}},[e._v("\n        "+e._s(e.$str("format","container_workspace"))+"\n      ")]),e._v(" "),n("HeaderCell",{attrs:{size:"2"}},[e._v("\n        "+e._s(e.$str("size","moodle"))+"\n      ")]),e._v(" "),n("HeaderCell",{attrs:{size:"2"}},[e._v("\n        "+e._s(e.$str("file_date","container_workspace"))+"\n      ")]),e._v(" "),n("HeaderCell",{attrs:{size:"5"}},[e._v("\n        "+e._s(e.$str("uploaded_by","container_workspace"))+"\n      ")]),e._v(" "),n("HeaderCell",{attrs:{size:"4"}},[e._v("\n        "+e._s(e.$str("actions","container_workspace"))+"\n      ")])]},proxy:!0},{key:"row",fn:function(i){var a=i.row;return[n("Cell",{attrs:{size:"7","column-header":e.$str("file_name","container_workspace")}},[n("a",{attrs:{href:"javascript:;"},on:{click:function(i){return i.preventDefault(),e.$emit("open",a)}}},[e._v("\n          "+e._s(a.file_name)+"\n        ")])]),e._v(" "),n("Cell",{attrs:{size:"2","column-header":e.$str("format","container_workspace")}},[e._v("\n        "+e._s(a.extension)+"\n      ")]),e._v(" "),n("Cell",{attrs:{size:"2","column-header":e.$str("size","moodle")}},[e._v("\n        "+e._s(a.file_size)+"\n      ")]),e._v(" "),n("Cell",{attrs:{size:"2","column-header":e.$str("file_date","container_workspace")}},[e._v("\n        "+e._s(a.date)+"\n      ")]),e._v(" "),n("Cell",{attrs:{size:"5","column-header":e.$str("uploaded_by","container_workspace")}},[e._v("\n        "+e._s(a.author.fullname)+"\n      ")]),e._v(" "),n("Cell",{attrs:{size:"4","column-header":e.$str("actions","container_workspace")}},[n("div",{staticClass:"tui-workspaceFileTable__action"},[n("a",{attrs:{href:a.context_url}},[e._v("\n            "+e._s(e.$str("view_discussion","container_workspace"))+"\n          ")]),e._v(" "),n("a",{attrs:{href:a.download_url}},[e._v("\n            "+e._s(e.$str("download","moodle"))+"\n          ")])])])]}}],null,!1,639114150)}),e._v(" "),n("PageLoader",{attrs:{fullpage:!1,loading:e.$apollo.loading}}),e._v(" "),e.page.files.length<e.page.cursor.total&&!e.$apollo.loading?n("div",{staticClass:"tui-workspaceFileTable__loadMoreContainer"},[n("div",{staticClass:"tui-workspaceFileTable__viewedFiles"},[e._v("\n      "+e._s(e.$str("vieweditems","container_workspace",e.page.files.length))+"\n      "+e._s(e.$str("total_files","container_workspace",e.page.cursor.total))+"\n    ")]),e._v(" "),n("Button",{staticClass:"tui-contributionBaseContent__loadMore",attrs:{text:e.$str("loadmore","container_workspace")},on:{click:e.loadMoreItems}})],1):e._e()],1):e._e()};a._withStripped=!0;var t=n("o0o1"),r=n.n(t),s=n("yXPU"),o=n.n(s),d=n("yikf"),c=n.n(d),l=n("5qAA"),u=n.n(l),m=n("KGot"),p=n.n(m),k=n("vF5l"),v=n.n(k),_=n("AdjL"),f=n.n(_),g=n("ao45"),b={components:{HeaderCell:u.a,Cell:p.a,Button:v.a,PageLoader:f.a,Table:c.a},props:{workspaceId:{type:[Number,String],required:!0},selectedSort:{type:String,required:!0},selectedExtension:{type:String,default:""}},apollo:{page:{query:g.a,fetchPolicy:"network-only",variables:function(){return{workspace_id:this.workspaceId,extension:this.selectedExtension,sort:this.selectedSort}},update:function(e){return{cursor:e.cursor,files:e.files}}}},data:function(){return{page:{files:[],cursor:{total:0,next:null}}}},methods:{loadMoreItems:function(){var e=this;return o()(r.a.mark((function i(){return r.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(e.page.cursor.next){i.next=2;break}return i.abrupt("return");case 2:e.$apollo.queries.page.fetchMore({variables:{workspace_id:e.workspaceId,extension:e.selectedExtension,sort:e.selectedSort,cursor:e.page.cursor.next},updateQuery:function(e,i){var n=i.fetchMoreResult,a=e.files.concat(n.files);return{cursor:n.cursor,files:a}}});case 3:case"end":return i.stop()}}),i)})))()}}},w=n("KHd+"),N=function(e){e.options.__langStrings={container_workspace:["actions","size","uploaded_by","file_name","file_date","format","view_discussion","loadmore","vieweditems","total_files"],moodle:["download","size"]}},h=Object(w.a)(b,a,[],!1,null,null,null);"function"==typeof N&&N(h),h.options.__hasBlocks={script:!0,template:!0},h.options.__file="client/src/container_workspace/components/table/WorkspaceFileTable.vue";i.default=h.exports},PNtU:function(e,i){e.exports=tui.require("tui/components/lozenge/Lozenge")},Pcje:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement;return(e._self._c||i)("EngageAdderModal",{attrs:{title:e.$str("workspace:add_library","container_workspace"),open:e.showAdder,cards:e.contribution.cards,"filter-value":e.filterValue,"filter-component":"container_workspace","filter-area":"adder"},on:{added:e.adderUpdate,cancel:function(i){return e.$emit("close",i)},topic:e.filterTopic,search:e.filterSearch,section:e.filterSection}})};a._withStripped=!0;var t=n("YPxT"),r=n.n(t),s={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"totara_engage_share_with_recipient"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"items"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"totara_engage_share_item"}}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"recipient"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"totara_engage_recipient_in"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"shared"},name:{kind:"Name",value:"totara_engage_share_with_recipient"},arguments:[{kind:"Argument",name:{kind:"Name",value:"items"},value:{kind:"Variable",name:{kind:"Name",value:"items"}}},{kind:"Argument",name:{kind:"Name",value:"recipient"},value:{kind:"Variable",name:{kind:"Name",value:"recipient"}}}],directives:[]}]}}]},o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_contribution_cards"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"area"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"access"}},type:{kind:"NamedType",name:{kind:"Name",value:"totara_engage_access"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"type"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"topic"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sort"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"search"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"section"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"include_footnotes"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"footnotes_type"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"footnotes_item_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"footnotes_area"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"footnotes_component"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"contribution"},name:{kind:"Name",value:"container_workspace_contributions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}},{kind:"Argument",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"area"}}},{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"access"},value:{kind:"Variable",name:{kind:"Name",value:"access"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"type"}}},{kind:"ObjectField",name:{kind:"Name",value:"topic"},value:{kind:"Variable",name:{kind:"Name",value:"topic"}}},{kind:"ObjectField",name:{kind:"Name",value:"sort"},value:{kind:"Variable",name:{kind:"Name",value:"sort"}}},{kind:"ObjectField",name:{kind:"Name",value:"search"},value:{kind:"Variable",name:{kind:"Name",value:"search"}}},{kind:"ObjectField",name:{kind:"Name",value:"section"},value:{kind:"Variable",name:{kind:"Name",value:"section"}}}]}},{kind:"Argument",name:{kind:"Name",value:"footnotes"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_type"}}},{kind:"ObjectField",name:{kind:"Name",value:"item_id"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_item_id"}}},{kind:"ObjectField",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_area"}}},{kind:"ObjectField",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_component"}}}]}},{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"next"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"instanceid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"summary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tuicomponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timecreated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sharedbycount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bookmarked"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"extra"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owned"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"footnotes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_type"}}},{kind:"Argument",name:{kind:"Name",value:"item_id"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_item_id"}}},{kind:"Argument",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_area"}}},{kind:"Argument",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_component"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"include_footnotes"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tuicomponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"props"},arguments:[],directives:[]}]}}]}}]}}]}}]},d=n("pxdy"),c=n.n(d),l={components:{EngageAdderModal:r.a},mixins:[c.a],props:{workspaceId:{type:[String,Number],required:!0},showAdder:Boolean},watch:{showAdder:function(e){this.skipCardsQuery=!e}},created:function(){this.skipCardsQuery=!0},apollo:{contribution:{query:o,fetchPolicy:"network-only",variables:function(){return Object.assign({},this.filterValue,{workspace_id:this.workspaceId,area:"adder",include_footnotes:!1})},update:function(e){var i=e.contribution,n=i.cursor,a=i.cards;return{cursor:n,cards:this.canContribute?this.$_addContributeCard(a):a}},skip:function(){return this.skipCardsQuery}}},methods:{adderUpdate:function(e){var i=this;this.$apollo.mutate({mutation:s,refetchAll:!1,refetchQueries:["container_workspace_shared_cards"],variables:{items:e.map((function(e){return JSON.parse(e)})),recipient:{instanceid:this.workspaceId,component:"container_workspace",area:"LIBRARY"}}}).finally((function(){i.$emit("close")}))}}},u=n("KHd+"),m=function(e){e.options.__langStrings={container_workspace:["workspace:add_library"]}},p=Object(u.a)(l,a,[],!1,null,null,null);"function"==typeof m&&m(p),p.options.__hasBlocks={script:!0,template:!0},p.options.__file="client/src/container_workspace/components/contribution/Share.vue";i.default=p.exports},Pn5P:function(e,i){e.exports=tui.require("container_workspace/components/content/tabs/WorkspaceMembersTab")},Q6By:function(e,i){e.exports=tui.require("container_workspace/components/filter/DiscussionFilter")},QP7s:function(e,i,n){"use strict";i.a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_workspace_interactor"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"interactor"},name:{kind:"Name",value:"container_workspace_workspace_interactor"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_delete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_invite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_join"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"joined"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]}]}}]}}]}}]}},QgbB:function(e,i,n){"use strict";i.a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_get_workspace"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspace"},name:{kind:"Name",value:"container_workspace_workspace"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"HTML"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"description_format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner_job_assignments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_members"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"joined"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"own"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_update"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_delete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_invite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_join"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]}]}}]}}]}}]}},R5BP:function(e,i){e.exports=tui.require("tui/components/virtualscroll/VirtualScroll")},R6HV:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-originalSpaceCard",style:{"background-image":"url('"+e.image+"')"},on:{click:function(i){return e.handleClick(e.url)}}},[n("div",{staticClass:"tui-originalSpaceCard__titleBox"},[n("h4",{staticClass:"tui-originalSpaceCard__titleBox__title"},[n("a",{staticClass:"tui-originalSpaceCard__link",attrs:{href:e.url}},[e._v("\n        "+e._s(e.title)+"\n      ")])])]),e._v(" "),n("div",{staticClass:"tui-originalSpaceCard__actionBox"},[n("LoadingButton",{staticClass:"tui-originalSpaceCard__actionBox__button",attrs:{text:e.buttonLabel,"aria-label":e.buttonAriaLabel,loading:e.submitting,disabled:e.joinDisabled},on:{click:function(i){return i.stopPropagation(),e.$emit("join-workspace",e.workspaceId)}}})],1)])};a._withStripped=!0;var t=n("rLBA"),r={components:{LoadingButton:n.n(t).a},props:{submitting:Boolean,workspaceId:{type:[String,Number],required:!0},title:{type:String,required:!0},image:{type:String,required:!0},url:{type:String,required:!0},joined:Boolean,joinAble:Boolean},computed:{buttonLabel:function(){return this.joined?this.$str("joined","container_workspace"):this.joinAble?this.$str("join_me","container_workspace"):""},buttonAriaLabel:function(){return this.joined?this.$str("joined","container_workspace"):this.$str("join_space","container_workspace",this.title)},joinDisabled:function(){return this.submitting||this.joined||!this.joinAble}},methods:{handleClick:function(e){window.location.href=e}}},s=n("KHd+"),o=function(e){e.options.__langStrings={container_workspace:["join_space","join_me","joined"]}},d=Object(s.a)(r,a,[],!1,null,null,null);"function"==typeof o&&o(d),d.options.__hasBlocks={script:!0,template:!0},d.options.__file="client/src/container_workspace/components/card/OriginalSpaceCard.vue";i.default=d.exports},RVXm:function(e,i){e.exports=tui.require("container_workspace/components/sidepanel/content/WorkspaceAccess")},Re3N:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-recommendedSpaces"},[n("div",{staticClass:"tui-recommendedSpaces__head"},[n("h2",{staticClass:"tui-recommendedSpaces__head__title"},[n("span",[e._v(e._s(e.$str("recommended_spaces","container_workspace")))]),e._v(" "),e.$apollo.loading?n("Spinner"):e._e()],1),e._v(" "),n("a",{staticClass:"tui-recommendedSpaces__head__link",attrs:{href:e.$url("/container/type/workspace/spaces.php")}},[e._v("\n      "+e._s(e.$str("view_all_spaces","container_workspace"))+"\n    ")])]),e._v(" "),e.$apollo.loading||0===e.workspaces.length?e._e():n("SpaceCardsGrid",{staticClass:"tui-recommendedSpaces__grid",attrs:{"max-grid-units":e.maxGridUnits,workspaces:e.workspaces,submitting:e.submitting},on:{"join-workspace":e.joinWorkspace}})],1)};a._withStripped=!0;var t=n("o0o1"),r=n.n(t),s=n("yXPU"),o=n.n(s),d=n("0viy"),c=n.n(d),l=n("yc2X"),u=n.n(l),m={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ml_recommender_get_recommended_user_workspaces"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"user_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"cursor"},name:{kind:"Name",value:"ml_recommender_recommended_user_workspaces_cursor"},arguments:[{kind:"Argument",name:{kind:"Name",value:"user_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}},{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"next"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"workspaces"},name:{kind:"Name",value:"ml_recommender_recommended_user_workspaces"},arguments:[{kind:"Argument",name:{kind:"Name",value:"user_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}},{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"HTML"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"description_format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner_job_assignments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_members"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"joined"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"own"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_update"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_delete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_invite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_join"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]}]}}]}}]}}]},p=n("x4nq"),k=n("vyVp"),v={components:{Spinner:c.a,SpaceCardsGrid:u.a},props:{maxGridUnits:{type:[Number,String],required:!0}},apollo:{workspaces:{query:m,fetchPolicy:"network-only"}},data:function(){return{workspaces:[],submitting:!1}},methods:{joinWorkspace:function(e){var i=this;return o()(r.a.mark((function n(){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!i.submitting){n.next=2;break}return n.abrupt("return");case 2:return i.submitting=!0,n.prev=3,n.next=6,i.$apollo.mutate({mutation:p.a,refetchAll:!1,variables:{workspace_id:e},update:function(i,n){var a=n.data.member.workspace_interactor,t=i.readQuery({query:m,data:{workspaces:Array.prototype.map.call(t,(function(i){return i.id==e&&((i=Object.assign({},i)).interactor=a),i}))}}).workspaces}});case 6:i.$emit("join-workspace",e),n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(3),n.next=13,Object(k.notify)({message:i.$str("error:join_space","container_workspace"),type:"error"});case 13:return n.prev=13,i.submitting=!1,n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[3,9,13,16]])})))()}}},_=n("KHd+"),f=function(e){e.options.__langStrings={container_workspace:["recommended_spaces","view_all_spaces","error:join_space"]}},g=Object(_.a)(v,a,[],!1,null,null,null);"function"==typeof f&&f(g),g.options.__hasBlocks={script:!0,template:!0},g.options.__file="client/src/container_workspace/components/recommend/RecommendedSpaces.vue";i.default=g.exports},Sue0:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-discussionCard",attrs:{"data-id":e.discussionId}},[n("ModalPresenter",{attrs:{open:e.modal.delete},on:{"request-close":function(i){e.modal.delete=!1}}},[n("WorkspaceWarningModal",{attrs:{"message-content":e.$str("delete_discussion_warning_msg","container_workspace"),title:e.$str("delete_warning_title","container_workspace"),"confirm-button-text":e.$str("confirm","moodle")},on:{confirm:e.deleteDiscussion}})],1),e._v(" "),e.pinned?n("div",{staticClass:"tui-discussionCard__pinBox"},[n("Lozenge",{attrs:{text:e.$str("pinned_post","container_workspace"),type:"info"}})],1):e._e(),e._v(" "),n("div",{staticClass:"tui-discussionCard__card"},[n("DiscussionAvatar",{staticClass:"tui-discussionCard__card__avatar",attrs:{"image-src":e.creatorImageSrc,"image-alt":e.creatorImageAlt,"profile-url":e.profileUrl}}),e._v(" "),n("div",{staticClass:"tui-discussionCard__card__content"},[n("div",{staticClass:"tui-discussionCard__card__content__head"},[n("a",{attrs:{id:e.labelId,href:e.profileUrl}},[e._v("\n          "+e._s(e.creatorFullname)+"\n        ")]),e._v(" "),n("p",[e._v(e._s(e.timeDescription))]),e._v(" "),e.edited?n("p",{staticClass:"tui-discussionCard__card__content__head__flag"},[e._v("\n          "+e._s(e.$str("edited","container_workspace"))+"\n        ")]):e._e()]),e._v(" "),e.edit?n("EditPostDiscussionForm",{attrs:{"discussion-id":e.discussionId,submitting:e.submitting},on:{cancel:function(i){e.edit=!1},submit:e.updateDiscussionContent}}):n("div",{ref:"discussion-content",staticClass:"tui-discussionCard__card__content__body",domProps:{innerHTML:e._s(e.discussionContent)}}),e._v(" "),n("div",{staticClass:"tui-discussionCard__card__content__buttons"},[n("SimpleLike",{staticClass:"tui-discussionCard__card__content__buttons__like",attrs:{"button-aria-label":e.likeButtonAriaLabel,"total-likes":e.totalReactions,liked:e.reacted,disabled:!e.reactAble,component:"container_workspace",area:"discussion","show-text":!0,"instance-id":e.discussionId},on:{"update-like-status":e.updateReactStatus,"created-like":function(i){return e.updateReactStatus(!0)},"removed-like":function(i){return e.updateReactStatus(!1)}}}),e._v(" "),n("div",{staticClass:"tui-discussionCard__card__content__buttons__comment"},[n("ButtonIcon",{attrs:{"aria-label":e.$str("comment_on_discussion","container_workspace"),text:e.$str("comment","container_workspace"),styleclass:{small:!0,transparent:!0,transparentNoPadding:!0},disabled:!e.commentAble},on:{click:function(i){return e.$emit("trigger-comment")}}},[n("CommentIcon")],1),e._v(" "),0<e.totalComments?n("span",[e._v("\n            "+e._s(e.$str("bracket_number","container_workspace",e.totalComments))+"\n          ")]):e._e()],1)],1)],1),e._v(" "),n("Dropdown",{staticClass:"tui-discussionCard__card__dropDown",attrs:{position:"bottom-right"},scopedSlots:e._u([{key:"trigger",fn:function(i){var a=i.toggle,t=i.isOpen;return[n("ButtonIcon",{attrs:{"aria-expanded":t,"aria-label":e.$str("discussion_actions","container_workspace"),styleclass:{small:!0,transparentNoPadding:!0}},on:{click:function(e){return e.preventDefault(),a(e)}}},[n("MoreIcon",{attrs:{size:"300"}})],1)]}}])},[e._v(" "),e.updateAble?n("DropdownItem",{on:{click:function(i){e.edit=!0}}},[e._v("\n        "+e._s(e.$str("edit","moodle"))+"\n      ")]):e._e(),e._v(" "),e.deleteAble?n("DropdownItem",{on:{click:function(i){e.modal.delete=!0}}},[e._v("\n        "+e._s(e.$str("delete","moodle"))+"\n      ")]):e._e(),e._v(" "),e.showDiscussionLink?n("DropdownItem",{attrs:{href:e.discussionUrl}},[e._v("\n        "+e._s(e.$str("view_full_discussion","container_workspace"))+"\n      ")]):e._e(),e._v(" "),n("DropdownItem",{on:{click:e.handleCopyLink}},[e._v("\n        "+e._s(e.$str("copy_discussion_link","container_workspace"))+"\n      ")])],1)],1)],1)};a._withStripped=!0;var t=n("o0o1"),r=n.n(t),s=n("yXPU"),o=n.n(s),d=n("H/tB"),c=n.n(d),l=n("+ukd"),u=n.n(l),m=n("gLvT"),p=n.n(m),k=n("KGcv"),v=n.n(k),_=n("5h9J"),f=n.n(_),g=n("hCGN"),b=n.n(g),w=n("1R7l"),N=n.n(w),h=n("1G8L"),y=n.n(h),S=n("Y1eX"),F=n.n(S),x=n("vyVp"),C=n("PNtU"),A=n.n(C),V=n("Mnur"),D=n.n(V),T=n("XgQu"),I=n.n(T),$={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"container_workspace_update_discussion_content"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"content"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"content_format"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"draft_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"discussion"},name:{kind:"Name",value:"container_workspace_update_discussion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"content"},value:{kind:"Variable",name:{kind:"Name",value:"content"}}},{kind:"Argument",name:{kind:"Name",value:"content_format"},value:{kind:"Variable",name:{kind:"Name",value:"content_format"}}},{kind:"Argument",name:{kind:"Name",value:"draft_id"},value:{kind:"Variable",name:{kind:"Name",value:"draft_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"HTML"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"time_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"total_comments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_reactions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discussion_interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discussion_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_comment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_delete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_update"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_react"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reacted"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edited"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comment_cursor"},arguments:[],directives:[]}]}}]}}]},M={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"container_workspace_delete_discussion"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"result"},name:{kind:"Name",value:"container_workspace_delete_discussion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[]}]}}]},q={components:{DiscussionAvatar:u.a,SimpleLike:N.a,Dropdown:p.a,DropdownItem:v.a,ButtonIcon:f.a,MoreIcon:b.a,EditPostDiscussionForm:y.a,CommentIcon:F.a,Lozenge:A.a,ModalPresenter:D.a,WorkspaceWarningModal:I.a},props:{creatorImageSrc:{type:String,required:!0},creatorImageAlt:{type:String,default:""},creatorId:{type:[String,Number],required:!0},creatorFullname:{type:String,required:!0},discussionContent:{type:String,required:!0},timeDescription:{type:String,required:!0},pinned:Boolean,reacted:Boolean,totalComments:{type:[String,Number],required:!0},totalReactions:{type:[String,Number],required:!0},discussionId:{type:[String,Number],required:!0},reactAble:{type:Boolean,default:!0},updateAble:{type:Boolean,default:!0},deleteAble:{type:Boolean,default:!0},reportAble:{type:Boolean,default:!1},commentAble:{type:Boolean,default:!0},showDiscussionLink:{type:Boolean,default:!0},edited:Boolean,labelId:String},data:function(){return{edit:!1,submitting:!1,modal:{delete:!1}}},computed:{profileUrl:function(){return this.$url("/user/profile.php",{id:this.creatorId})},likeButtonAriaLabel:function(){return this.reacted?this.$str("remove_like_discussion","container_workspace"):this.$str("like_discussion","container_workspace")},discussionUrl:function(){return this.$url("/container/type/workspace/discussion.php",{id:this.discussionId})}},mounted:function(){this.$_scan()},updated:function(){this.$_scan()},methods:{$_scan:function(){if(this.$refs["discussion-content"]){var e=this.$refs["discussion-content"];c.a.scan(e)}},handleCopyLink:function(){var e=this;return o()(r.a.mark((function i(){var n;return r.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return(n=document.createElement("textarea")).value=e.discussionUrl,n.style.display="none",e.$el.appendChild(n),n.focus(),n.select(),i.prev=6,document.execCommand("copy"),i.next=10,Object(x.notify)({message:e.$str("copied_to_clipboard","container_workspace"),type:"success"});case 10:i.next=16;break;case 12:return i.prev=12,i.t0=i.catch(6),i.next=16,Object(x.notify)({message:e.$str("error:copy_to_clipboard","container_workspace"),type:"error"});case 16:return i.prev=16,e.$el.removeChild(n),i.finish(16);case 19:case"end":return i.stop()}}),i,null,[[6,12,16,19]])})))()},updateReactStatus:function(e){this.$emit("update-react-status",{discussionId:this.discussionId,status:e})},updateDiscussionContent:function(e){var i=this,n=e.content,a=e.contentFormat,t=e.itemId;return o()(r.a.mark((function e(){var s,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.submitting){e.next=2;break}return e.abrupt("return");case 2:return i.submitting=!0,e.prev=3,e.next=6,i.$apollo.mutate({mutation:$,refetchAll:!1,variables:{id:i.discussionId,content:n,content_format:a,draft_id:t}});case 6:s=e.sent,o=s.data.discussion,i.edit=!1,i.$emit("update-discussion",o),e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(3),e.next=16,Object(x.notify)({message:i.$str("error:update_discussion","container_workspace"),type:"error"});case 16:return e.prev=16,i.submitting=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[3,12,16,19]])})))()},deleteDiscussion:function(){var e=this;return o()(r.a.mark((function i(){var n;return r.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!e.submitting){i.next=2;break}return i.abrupt("return");case 2:return e.submitting=!0,i.prev=3,i.next=6,e.$apollo.mutate({mutation:M,refetchAll:!1,variables:{id:e.discussionId}});case 6:if(n=i.sent,!n.data.result){i.next=12;break}return e.modal.delete=!1,e.$emit("delete-discussion",e.discussionId),i.abrupt("return");case 12:return i.next=14,Object(x.notify)({message:e.$str("error:delete_discussion","container_workspace"),type:"error"});case 14:i.next=20;break;case 16:return i.prev=16,i.t0=i.catch(3),i.next=20,Object(x.notify)({message:e.$str("error:delete_discussion","container_workspace"),type:"error"});case 20:return i.prev=20,e.submitting=!1,i.finish(20);case 23:case"end":return i.stop()}}),i,null,[[3,16,20,23]])})))()}}},B=n("KHd+"),P=function(e){e.options.__langStrings={container_workspace:["discussion_actions","copy_discussion_link","like_discussion","remove_like_discussion","comment","comment_on_discussion","error:update_discussion","error:copy_to_clipboard","view_full_discussion","bracket_number","edited","copied_to_clipboard","pinned_post","delete_discussion_warning_msg","delete_warning_title","error:delete_discussion"],moodle:["edit","delete","confirm"]}},W=Object(B.a)(q,a,[],!1,null,null,null);"function"==typeof P&&P(W),W.options.__hasBlocks={script:!0,template:!0},W.options.__file="client/src/container_workspace/components/card/DiscussionCard.vue";i.default=W.exports},TBZn:function(e,i){e.exports=tui.require("container_workspace/grid/grid")},TXEh:function(e,i){e.exports=tui.require("tui/util")},URbu:function(e,i){e.exports=tui.require("container_workspace/components/form/upload/SpaceImagePicker")},USZJ:function(e,i,n){"use strict";n.r(i),n.d(i,"cardGrid",(function(){return a})),n.d(i,"workspaceBreakPoint",(function(){return t})),n.d(i,"workspaceBoundaries",(function(){return r}));var a={xs:{name:"xs",boundaries:[0,764],direction:"horizontal",cardUnits:12},s:{name:"s",boundaries:[765,992],direction:"horizontal",cardUnits:6},m:{name:"m",boundaries:[993,1192],direction:"horizontal",cardUnits:3},l:{name:"l",boundaries:[1193,1396],direction:"horizontal",cardUnits:2},xl:{name:"xl",boundaries:[1397,1672],direction:"horizontal",cardUnits:2}},t=[{name:"small",boundaries:[0,763]},{name:"medium",boundaries:[764,1192]},{name:"large",boundaries:[1192,1672]}],r={small:{gridDirection:"vertical",gridUnitsOuterLeftExpanded:1,gridUnitsOuterLeftCollapsed:11,gridUnitsOuterRightExpanded:11,gridUnitsOuterRightCollapsed:1,gridUnitsInnerLeftExpanded:10,gridUnitsInnerLeftCollapsed:10,gridUnitsInnerRightExpanded:12,gridUnitsInnerRightCollapsed:2},medium:{gridDirection:"vertical",gridUnitsOuterLeftExpanded:1,gridUnitsOuterLeftCollapsed:1,gridUnitsOuterRightExpanded:11,gridUnitsOuterRightCollapsed:1,gridUnitsInnerLeftExpanded:6,gridUnitsInnerLeftCollapsed:11,gridUnitsInnerRightExpanded:6,gridUnitsInnerRightCollapsed:1},large:{gridDirection:"horizontal",gridUnitsOuterLeftExpanded:2,gridUnitsOuterLeftCollapsed:1,gridUnitsOuterRightExpanded:10,gridUnitsOuterRightCollapsed:1,gridUnitsInnerRightExpanded:4,gridUnitsInnerRightCollapsed:1,gridUnitsInnerLeftExpanded:6,gridUnitsInnerLeftCollapsed:11}}},UWTz:function(e,i,n){"use strict";n.r(i);var a=n("USZJ");n.d(i,"cardGrid",(function(){return a.cardGrid})),n.d(i,"workspaceBreakPoint",(function(){return a.workspaceBreakPoint})),n.d(i,"workspaceBoundaries",(function(){return a.workspaceBoundaries}))},Uhf3:function(e,i){e.exports=tui.require("totara_engage/components/contribution/Filter")},UpZR:function(e,i){e.exports=tui.require("tui/apollo_client")},"VI/h":function(e,i){e.exports=tui.require("container_workspace/components/filter/WorkspaceFileFilter")},WDs9:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("Dropdown",{attrs:{position:e.position,open:e.open},scopedSlots:e._u([{key:"trigger",fn:function(i){var a=i.toggle,t=i.isOpen;return[e._t("trigger",[n("ButtonIcon",{attrs:{"aria-expanded":t?"true":"false","aria-label":e.$str("showactions","moodle"),styleclass:{small:!0,transparentNoPadding:!0}},on:{click:a}},[n("MoreIcon",{attrs:{size:"300"}})],1)],{toggle:a})]}}],null,!0)},[e._v(" "),e._t("dropdown-items",e._l(e.actions,(function(i,a){var t=i.action,r=i.label;return n("DropdownItem",{key:a,on:{click:t}},[e._v("\n      "+e._s(r)+"\n    ")])})))],2)};a._withStripped=!0;var t=n("gLvT"),r=n.n(t),s=n("KGcv"),o=n.n(s),d=n("hCGN"),c=n.n(d),l=n("5h9J"),u=n.n(l),m={components:{Dropdown:r.a,DropdownItem:o.a,MoreIcon:c.a,ButtonIcon:u.a},props:{position:String,open:Boolean,actions:{type:Array,validator:function(e){return 0===Array.prototype.filter.call(e,(function(e){return!("label"in e)||!("action"in e)})).length}}}},p=n("KHd+"),k=function(e){e.options.__langStrings={moodle:["more","showactions"]}},v=Object(p.a)(m,a,[],!1,null,null,null);"function"==typeof k&&k(v),v.options.__hasBlocks={script:!0,template:!0},v.options.__file="client/src/container_workspace/components/dropdown/WorkspaceDropdown.vue";i.default=v.exports},WOCn:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("LayoutTwoColumn",{staticClass:"tui-emptySpacesPage",scopedSlots:e._u([{key:"right",fn:function(i){var a=i.units;return n("div",{staticClass:"tui-emptySpacesPage__content"},[n("EmptySpacesHeader",{staticClass:"tui-emptySpacesPage__content__header"}),e._v(" "),n("hr",{staticClass:"tui-emptySpacesPage__content__horizontalLine"}),e._v(" "),n("RecommendSpaces",{staticClass:"tui-emptySpacesPage__content__recommendedSpaces",attrs:{"max-grid-units":a},on:{"join-workspace":e.joinWorkspace}})],1)}}])},[n("SidePanel",{staticClass:"tui-emptySpacesPage__sidePanel",attrs:{slot:"left","show-button-control":!1,"initially-open":!0},slot:"left"},[n("WorkspaceMenu",{staticClass:"tui-emptySpacesPage__sidePanel__menu",on:{"create-workspace":e.navigateToWorkspace}})],1)],1)};a._withStripped=!0;var t=n("dj/p"),r=n.n(t),s=n("Hl3G"),o=n.n(s),d=n("g5S5"),c=n.n(d),l=n("1l6u"),u=n.n(l),m=n("BaY1"),p=n.n(m),k=n("vyVp"),v=n("t5mg"),_={components:{SidePanel:p.a,LayoutTwoColumn:r.a,WorkspaceMenu:o.a,EmptySpacesHeader:c.a,RecommendSpaces:u.a},apollo:{notifications:{query:v.a,update:function(){return[]},result:function(e){var i=e.data.notifications;Array.prototype.forEach.call(i,(function(e){var i=e.message,n=e.type;Object(k.notify)({message:i,type:n,duration:5e3})}))}}},data:function(){return{notifications:[]}},methods:{navigateToWorkspace:function(e){var i=e.id;document.location.href=this.$url("/container/type/workspace/workspace.php",{id:i})},joinWorkspace:function(e){this.navigateToWorkspace({id:e})}}},f=n("KHd+"),g=function(e){e.options.__langStrings={container_workspace:["notification_deleted"]}},b=Object(f.a)(_,a,[],!1,null,null,null);"function"==typeof g&&g(b),b.options.__hasBlocks={script:!0,template:!0},b.options.__file="client/src/container_workspace/pages/EmptySpacesPage.vue";i.default=b.exports},XPV3:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-workspaceMenu"},[n("div",{staticClass:"tui-workspaceMenu__header"},[n("h3",{staticClass:"tui-workspaceMenu__header__title"},[n("span",[e._v(e._s(e.$str("your_spaces","container_workspace")))])]),e._v(" "),n("ContributeWorkspace",{staticClass:"tui-workspaceMenu__header__contribute",attrs:{disabled:e.$apollo.queries.workspaces.loading},on:{"create-workspace":e.addWorkspace}})],1),e._v(" "),n("div",{staticClass:"tui-workspaceMenu__items"},[e.$apollo.loading?n("div",{staticClass:"tui-workspaceMenu__items__loader"},[n("Spinner")],1):e._l(e.workspaces,(function(i,a){var t=i.url,r=i.name,s=i.id;return n("a",{key:a,staticClass:"tui-workspaceMenu__items__item",class:{"tui-workspaceMenu__items__item--active":e.selectedWorkspaceId==s},attrs:{href:t}},[e._v("\n        "+e._s(r)+"\n      ")])})),e._v(" "),n("div",{staticClass:"tui-workspaceMenu__separator"}),e._v(" "),n("a",{staticClass:"tui-workspaceMenu__findSpaces",attrs:{href:e.$url("/container/type/workspace/spaces.php")}},[e._v("\n      "+e._s(e.$str("find_spaces","container_workspace"))+"\n    ")])],2)])};a._withStripped=!0;var t=n("0viy"),r=n.n(t),s=n("ak/h"),o=n.n(s),d=n("UpZR"),c=n.n(d),l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_my_workspace_urls"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspaces"},name:{kind:"Name",value:"container_workspace_workspaces"},arguments:[{kind:"Argument",name:{kind:"Name",value:"source"},value:{kind:"EnumValue",value:"MEMBER_AND_OWNED"}},{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"EnumValue",value:"RECENT"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]},u={components:{ContributeWorkspace:o.a,Spinner:r.a},props:{selectedWorkspaceId:[Number,String]},apollo:{workspaces:{query:l}},methods:{addWorkspace:function(e){var i=Array.prototype.slice.call(this.workspaces);c.a.writeQuery({query:l,data:{workspaces:Array.prototype.concat.call(i,[e])}}),this.$emit("create-workspace",e)}}},m=n("KHd+"),p=function(e){e.options.__langStrings={container_workspace:["your_spaces","find_spaces"]}},k=Object(m.a)(u,a,[],!1,null,null,null);"function"==typeof p&&p(k),k.options.__hasBlocks={script:!0,template:!0},k.options.__file="client/src/container_workspace/components/sidepanel/WorkspaceMenu.vue";i.default=k.exports},XgQu:function(e,i){e.exports=tui.require("container_workspace/components/modal/WorkspaceWarningModal")},Xi9X:function(e,i){e.exports=tui.require("tui/components/avatar/Avatar")},Y1eX:function(e,i){e.exports=tui.require("tui/components/icons/common/Comment")},YMfc:function(e,i){e.exports=tui.require("tui/components/tag/Tag")},YPxT:function(e,i){e.exports=tui.require("totara_engage/components/modal/EngageAdderModal")},Z82V:function(e,i){e.exports=tui.require("totara_comment/components/box/CommentBox")},ZnYt:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this.$createElement,i=this._self._c||e;return i("a",{attrs:{href:this.profileUrl}},[i("Avatar",{attrs:{src:this.imageSrc,alt:this.imageAlt,size:"xsmall"}})],1)};a._withStripped=!0;var t=n("Xi9X"),r={components:{Avatar:n.n(t).a},props:{imageSrc:{required:!0,type:String},imageAlt:{required:!0,type:String},profileUrl:{required:!0,type:String}}},s=n("KHd+"),o=Object(s.a)(r,a,[],!1,null,null,null);o.options.__hasBlocks={script:!0,template:!0},o.options.__file="client/src/container_workspace/components/profile/PostAvatar.vue";i.default=o.exports},"ak/h":function(e,i){e.exports=tui.require("container_workspace/components/create/ContributeWorkspace")},ao45:function(e,i,n){"use strict";i.a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_get_files"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sort"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"container_workspace_file_sort"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"extension"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_alphanum"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"cursor"},name:{kind:"Name",value:"container_workspace_file_cursor"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}},{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}},{kind:"Argument",name:{kind:"Name",value:"extension"},value:{kind:"Variable",name:{kind:"Name",value:"extension"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"next"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"files"},name:{kind:"Name",value:"container_workspace_files"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}},{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}},{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"Variable",name:{kind:"Name",value:"sort"}}},{kind:"Argument",name:{kind:"Name",value:"extension"},value:{kind:"Variable",name:{kind:"Name",value:"extension"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"file_name"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"file_size"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"extension"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"date"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"DATELONG"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"alt_text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"download_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"context_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"file_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mimetype"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"file_type"},arguments:[],directives:[]}]}}]}}]}},bH8R:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-workspaceLibraryTab"},[n("ContributionBaseContent",{attrs:{units:e.units,loading:e.$apollo.loading,"loading-more":e.loadingMore,cards:e.contribution.cards,"total-cards":e.contribution.cursor.total,"show-heading":!1,"grid-direction":e.gridDirection,"show-footnotes":e.includeFootnotes,"is-load-more-visible":e.isLoadMoreVisible},on:{"scrolled-to-bottom":e.scrolledToBottom,"load-more":e.loadMore},scopedSlots:e._u([{key:"filters",fn:function(){return[n("ContributionFilter",{staticClass:"tui-workspaceLibraryTab__filter",attrs:{component:"container_workspace",area:"library","has-bottom-bar":!0,value:e.filterValue,"show-access":!1,"show-type":!0,"show-topic":!0,"show-sort":!0,"show-search":!0,"search-placeholder":e.$str("search_library","container_workspace")},on:{type:e.filterType,topic:e.filterTopic,search:e.filterSearch,sort:e.filterSort}})]},proxy:!0}])})],1)};a._withStripped=!0;var t=n("s5vj"),r=n.n(t),s=n("Uhf3"),o=n.n(s),d=n("pxdy"),c=n.n(d),l=n("QP7s"),u={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_shared_cards"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"area"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"access"}},type:{kind:"NamedType",name:{kind:"Name",value:"totara_engage_access"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"type"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"topic"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sort"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"search"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"section"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"saved"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"shared"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owned"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"include_footnotes"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"footnotes_type"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"footnotes_item_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"footnotes_area"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"footnotes_component"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"contribution"},name:{kind:"Name",value:"container_workspace_shared_cards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}},{kind:"Argument",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"area"}}},{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"access"},value:{kind:"Variable",name:{kind:"Name",value:"access"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"type"}}},{kind:"ObjectField",name:{kind:"Name",value:"topic"},value:{kind:"Variable",name:{kind:"Name",value:"topic"}}},{kind:"ObjectField",name:{kind:"Name",value:"sort"},value:{kind:"Variable",name:{kind:"Name",value:"sort"}}},{kind:"ObjectField",name:{kind:"Name",value:"search"},value:{kind:"Variable",name:{kind:"Name",value:"search"}}},{kind:"ObjectField",name:{kind:"Name",value:"section"},value:{kind:"Variable",name:{kind:"Name",value:"section"}}},{kind:"ObjectField",name:{kind:"Name",value:"saved"},value:{kind:"Variable",name:{kind:"Name",value:"saved"}}},{kind:"ObjectField",name:{kind:"Name",value:"shared"},value:{kind:"Variable",name:{kind:"Name",value:"shared"}}},{kind:"ObjectField",name:{kind:"Name",value:"owned"},value:{kind:"Variable",name:{kind:"Name",value:"owned"}}}]}},{kind:"Argument",name:{kind:"Name",value:"footnotes"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_type"}}},{kind:"ObjectField",name:{kind:"Name",value:"item_id"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_item_id"}}},{kind:"ObjectField",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_area"}}},{kind:"ObjectField",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_component"}}}]}},{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"next"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"instanceid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"summary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tuicomponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timecreated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sharedbycount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bookmarked"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"extra"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owned"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"footnotes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_type"}}},{kind:"Argument",name:{kind:"Name",value:"item_id"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_item_id"}}},{kind:"Argument",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_area"}}},{kind:"Argument",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_component"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"include_footnotes"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tuicomponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"props"},arguments:[],directives:[]}]}}]}}]}}]}}]},m={components:{ContributionBaseContent:r.a,ContributionFilter:o.a},mixins:[c.a],props:{workspaceId:{type:[Number,String],required:!0}},data:function(){return{interactor:{}}},computed:{canContribute:function(){return this.interactor.joined}},created:function(){this.filterValue=Object.assign({},this.filterValue,{sort:5}),this.includeFootnotes=!0},apollo:{interactor:{query:l.a,variables:function(){return{workspace_id:this.workspaceId}}},contribution:{query:u,fetchPolicy:"network-only",variables:function(){return Object.assign({},this.filterValue,{workspace_id:this.workspaceId,area:"library",include_footnotes:!0,footnotes_type:"shared",footnotes_item_id:this.workspaceId,footnotes_area:"LIBRARY",footnotes_component:"container_workspace"})},update:function(e){var i=e.contribution,n=i.cursor,a=i.cards;return{cursor:n,cards:this.canContribute?this.$_addContributeCard(a):a}},skip:function(){return this.skipCardsQuery}}},methods:{$_addContributeCard:function(e){var i={instanceid:this.workspaceId,component:"WorkspaceContributeCard",tuicomponent:"container_workspace/components/card/WorkspaceContributeCard",user:{}};return Array.prototype.concat([i],e)},adderOpen:function(){this.showAdder=!0},adderCancelled:function(){this.showAdder=!1},adderUpdate:function(e){this.addedItems=e,this.showAdder=!1}}},p=n("KHd+"),k=function(e){e.options.__langStrings={container_workspace:["search_library"]}},v=Object(p.a)(m,a,[],!1,null,null,null);"function"==typeof k&&k(v),v.options.__hasBlocks={script:!0,template:!0},v.options.__file="client/src/container_workspace/components/content/tabs/WorkspaceLibraryTab.vue";i.default=v.exports},cIrp:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("Modal",{staticClass:"tui-workspaceWarningModal",attrs:{dismissable:e.dismissable,"aria-labelledby":e.id}},[n("ModalContent",{attrs:{"close-button":e.closeButton,"title-id":e.id},on:{dismiss:function(i){return e.$emit("request-close")}},scopedSlots:e._u([{key:"buttons",fn:function(){return[n("ButtonGroup",[n("Button",{attrs:{styleclass:{primary:!0,small:!0},text:e.confirmButtonText},on:{click:function(i){return e.$emit("confirm")}}}),e._v(" "),n("Button",{attrs:{styleclass:{small:!0},text:e.cancelButtonText},on:{click:function(i){return i.preventDefault(),e.$emit("request-close")}}})],1)]},proxy:!0}])},[n("div",{staticClass:"tui-workspaceWarningModal__container"},[n("Warning",{attrs:{size:"700","custom-class":"tui-icon--warning"}}),e._v(" "),n("div",{staticClass:"tui-workspaceWarningModal__container__box"},[n("h4",{staticClass:"tui-workspaceWarningModal__container__box__title"},[e._v("\n          "+e._s(e.title)+"\n        ")]),e._v(" "),n("p",{staticClass:"tui-workspaceWarningModal__container__box__content",domProps:{innerHTML:e._s(e.messageContent)}})])],1)])],1)};a._withStripped=!0;var t=n("tkAW"),r=n.n(t),s=n("u5iS"),o=n.n(s),d=n("3wZ/"),c=n.n(d),l=n("BN8m"),u=n.n(l),m=n("vF5l"),p=n.n(m),k={components:{Modal:r.a,ModalContent:o.a,Warning:c.a,ButtonGroup:u.a,Button:p.a},props:{closeButton:{type:Boolean,default:!0},size:{type:String,default:"normal"},title:{type:String,required:!0},messageContent:{type:String,required:!0},confirmButtonText:{type:String,default:function(){return this.$str("remove","moodle")}},cancelButtonText:{type:String,default:function(){return this.$str("cancel","moodle")}}},data:function(){return{dismissable:{overlayClose:!1,esc:!0,backdropClick:!1},id:this.$id(this.title)}}},v=n("KHd+"),_=function(e){e.options.__langStrings={moodle:["cancel","remove"]}},f=Object(v.a)(k,a,[],!1,null,null,null);"function"==typeof _&&_(f),f.options.__hasBlocks={script:!0,template:!0},f.options.__file="client/src/container_workspace/components/modal/WorkspaceWarningModal.vue";i.default=f.exports},cNVA:function(e,i){e.exports=tui.require("container_workspace/components/modal/WorkspaceModal")},cseK:function(e,i){e.exports=tui.require("container_workspace/components/modal/WorkspaceAccessModal")},dTgY:function(e,i){e.exports=tui.require("container_workspace/index")},"dj/p":function(e,i){e.exports=tui.require("tui/components/layouts/LayoutTwoColumn")},drxS:function(e,i){e.exports=tui.require("container_workspace/components/table/WorkspaceFileTable")},dtfu:function(e,i){e.exports=tui.require("tui/components/responsive/Responsive")},eeTD:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("Modal",{staticClass:"tui-workspaceAccessModal",attrs:{dismissable:{backdropClick:!1,esc:!1}}},[n("ModalContent",{staticClass:"tui-workspaceAccessModal__content",attrs:{title:e.$str("accesssettings","totara_engage"),"close-button":!1}},[n("WorkspaceAccessForm",{attrs:{"selected-topics":e.selectedTopics,submitting:e.submitting},on:{cancel:function(i){return e.$emit("request-close")},submit:function(i){return e.$emit("submit-form",i)}}})],1)],1)};a._withStripped=!0;var t=n("8opU"),r=n.n(t),s=n("tkAW"),o=n.n(s),d=n("u5iS"),c=n.n(d),l={components:{WorkspaceAccessForm:r.a,Modal:o.a,ModalContent:c.a},props:{submitting:Boolean,selectedTopics:{type:Array,default:function(){return[]},validator:function(e){return 0===(e=Array.prototype.filter.call(e,(function(e){return!("id"in e)||!("value"in e)}))).length}}}},u=n("KHd+"),m=function(e){e.options.__langStrings={totara_engage:["accesssettings"]}},p=Object(u.a)(l,a,[],!1,null,null,null);"function"==typeof m&&m(p),p.options.__hasBlocks={script:!0,template:!0},p.options.__file="client/src/container_workspace/components/modal/WorkspaceAccessModal.vue";i.default=p.exports},ezt2:function(e,i,n){var a={"./card/DiscussionCard":"Sue0","./card/DiscussionCard.vue":"Sue0","./card/DiscussionWithCommentCard":"xGki","./card/DiscussionWithCommentCard.vue":"xGki","./card/OriginalSpaceCard":"R6HV","./card/OriginalSpaceCard.vue":"R6HV","./card/WorkspaceContributeCard":"4B50","./card/WorkspaceContributeCard.vue":"4B50","./card/WorkspaceMemberCard":"wa1w","./card/WorkspaceMemberCard.vue":"wa1w","./content/tabs/WorkspaceDiscussionTab":"lpqj","./content/tabs/WorkspaceDiscussionTab.vue":"lpqj","./content/tabs/WorkspaceLibraryTab":"bH8R","./content/tabs/WorkspaceLibraryTab.vue":"bH8R","./content/tabs/WorkspaceMembersTab":"KJhw","./content/tabs/WorkspaceMembersTab.vue":"KJhw","./contribution/Share":"Pcje","./contribution/Share.vue":"Pcje","./create/ContributeWorkspace":"BC15","./create/ContributeWorkspace.vue":"BC15","./dropdown/WorkspaceDropdown":"WDs9","./dropdown/WorkspaceDropdown.vue":"WDs9","./filter/DiscussionFilter":"48jh","./filter/DiscussionFilter.vue":"48jh","./filter/MemberSearchBox":"HgPy","./filter/MemberSearchBox.vue":"HgPy","./filter/WorkspaceFileFilter":"4Mpf","./filter/WorkspaceFileFilter.vue":"4Mpf","./filter/WorkspaceFilter":"nWqs","./filter/WorkspaceFilter.vue":"nWqs","./form/EditPostDiscussionForm":"k0LM","./form/EditPostDiscussionForm.vue":"k0LM","./form/PostDiscussionForm":"CdXQ","./form/PostDiscussionForm.vue":"CdXQ","./form/WorkspaceAccessForm":"BPqQ","./form/WorkspaceAccessForm.vue":"BPqQ","./form/WorkspaceDescriptionForm":"3MFw","./form/WorkspaceDescriptionForm.vue":"3MFw","./form/WorkspaceDiscussionForm":"hYrG","./form/WorkspaceDiscussionForm.vue":"hYrG","./form/WorkspaceForm":"wzO4","./form/WorkspaceForm.vue":"wzO4","./form/upload/SpaceImagePicker":"lzVh","./form/upload/SpaceImagePicker.vue":"lzVh","./grid/SpaceCardsGrid":"q9D0","./grid/SpaceCardsGrid.vue":"q9D0","./head/EmptySpacesHeader":"oZB7","./head/EmptySpacesHeader.vue":"oZB7","./head/WorkspaceFileHeader":"F98r","./head/WorkspaceFileHeader.vue":"F98r","./head/WorkspacePageHeader":"A300","./head/WorkspacePageHeader.vue":"A300","./modal/WorkspaceAccessModal":"eeTD","./modal/WorkspaceAccessModal.vue":"eeTD","./modal/WorkspaceFileViewModal":"p370","./modal/WorkspaceFileViewModal.vue":"p370","./modal/WorkspaceModal":"HKzo","./modal/WorkspaceModal.vue":"HKzo","./modal/WorkspaceWarningModal":"cIrp","./modal/WorkspaceWarningModal.vue":"cIrp","./profile/DiscussionAvatar":"Kwxl","./profile/DiscussionAvatar.vue":"Kwxl","./profile/PostAvatar":"ZnYt","./profile/PostAvatar.vue":"ZnYt","./recommend/RecommendedSpaces":"Re3N","./recommend/RecommendedSpaces.vue":"Re3N","./sidepanel/WorkspaceControlMenu":"LmW+","./sidepanel/WorkspaceControlMenu.vue":"LmW+","./sidepanel/WorkspaceMenu":"XPV3","./sidepanel/WorkspaceMenu.vue":"XPV3","./sidepanel/WorkspaceSidePanel":"sI8u","./sidepanel/WorkspaceSidePanel.vue":"sI8u","./sidepanel/content/WorkspaceAccess":"hbkh","./sidepanel/content/WorkspaceAccess.vue":"hbkh","./sidepanel/content/WorkspaceDescription":"vrou","./sidepanel/content/WorkspaceDescription.vue":"vrou","./sidepanel/content/WorkspacePrimaryAction":"MVIO","./sidepanel/content/WorkspacePrimaryAction.vue":"MVIO","./table/WorkspaceFileTable":"PLRA","./table/WorkspaceFileTable.vue":"PLRA"};function t(e){var i=r(e);return n(i)}function r(e){if(!n.o(a,e)){var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}return a[e]}t.keys=function(){return Object.keys(a)},t.resolve=r,e.exports=t,t.id="ezt2"},fCWf:function(e,i){e.exports=tui.require("tui/components/links/ActionLink")},fUGz:function(e,i){e.exports=tui.require("container_workspace/components/card/OriginalSpaceCard")},g0Fk:function(e,i){e.exports=tui.require("totara_engage/components/form/InlineEditing")},g5S5:function(e,i){e.exports=tui.require("container_workspace/components/head/EmptySpacesHeader")},gLvT:function(e,i){e.exports=tui.require("tui/components/dropdown/Dropdown")},grGL:function(e,i){e.exports=tui.require("totara_engage/components/contribution/Contribute")},gsPT:function(e,i){e.exports=tui.require("container_workspace/components/form/WorkspaceForm")},hCGN:function(e,i){e.exports=tui.require("tui/components/icons/common/More")},hYrG:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("Form",{staticClass:"tui-workspaceDiscussionForm",attrs:{vertical:!0,"input-width":"full"}},[n("FormRow",{attrs:{hidden:!0,label:e.$str("discussion","container_workspace"),required:!0},scopedSlots:e._u([{key:"default",fn:function(i){var a=i.id;return[n("WekaEditor",{key:e.editorKey,staticClass:"tui-workspaceDiscussionForm__editor",attrs:{id:a,component:"container_workspace",area:"discussion","instance-id":e.discussionId,doc:e.formContent.document,placeholder:e.$str("start_discussion","container_workspace")},on:{update:e.handleUpdate}})]}}])}),e._v(" "),n("ButtonGroup",{staticClass:"tui-workspaceDiscussionForm__buttonGroup"},[n("LoadingButton",{attrs:{loading:e.submitting,disabled:e.disableSubmit,"aria-disabled":e.disableSubmit,"aria-label":e.submitButtonText,text:e.submitButtonText,primary:!0},on:{click:function(i){return i.preventDefault(),e.submit(i)}}}),e._v(" "),e.showCancelButton?n("CancelButton",{attrs:{disabled:e.submitting},on:{click:function(i){return i.preventDefault(),e.$emit("cancel")}}}):e._e()],1)],1)};a._withStripped=!0;var t=n("i/kK"),r=n.n(t),s=n("nEm4"),o=n.n(s),d=n("BN8m"),c=n.n(d),l=n("nXMa"),u=n.n(l),m=n("rLBA"),p=n.n(m),k=n("2wx7"),v=n.n(k),_=n("FoZm"),f=n("TXEh"),g={components:{FormRow:r.a,Form:o.a,ButtonGroup:c.a,CancelButton:u.a,LoadingButton:p.a,WekaEditor:v.a},props:{submitting:Boolean,discussionId:{type:[String,Number],default:null},content:{type:String,default:null},contentFormat:{type:[String,Number],default:function(){return _.FORMAT_JSON_EDITOR}},showCancelButton:{type:Boolean,default:!0},submitButtonText:{type:String,default:function(){return this.$str("post","moodle")}}},data:function(){return{editorKey:"editor-weka-".concat(Object(f.uniqueId)()),formContent:{document:null,isEmpty:!0,itemId:null}}},computed:{disableSubmit:function(){return this.formContent.isEmpty||this.submitting}},watch:{content:{immediate:!0,handler:function(e){if(_.FORMAT_JSON_EDITOR==this.contentFormat){if(!e)return this.formContent.document=null,void(this.formContent.isEmpty=!0);this.formContent.document=JSON.parse(this.content),this.formContent.isEmpty=!1}}}},methods:{submit:function(){this.$emit("submit",{content:JSON.stringify(this.formContent.document),itemId:this.formContent.itemId}),this.formContent.document=null,this.formContent.isEmpty=!0,this.formContent.itemId=null,this.editorKey="editor-weka-".concat(Object(f.uniqueId)()),this.$forceUpdate()},handleUpdate:function(e){this.$_readJson(e)},$_readJson:Object(f.debounce)((function(e){this.formContent.document=e.getJSON(),this.formContent.isEmpty=e.isEmpty(),this.formContent.itemId=e.getFileStorageItemId()}),250,{perArgs:!1})}},b=n("KHd+"),w=function(e){e.options.__langStrings={container_workspace:["discussion","start_discussion"],moodle:["post"]}},N=Object(b.a)(g,a,[],!1,null,null,null);"function"==typeof w&&w(N),N.options.__hasBlocks={script:!0,template:!0},N.options.__file="client/src/container_workspace/components/form/WorkspaceDiscussionForm.vue";i.default=N.exports},hbkh:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-workspaceAccess"},[n("ModalPresenter",{attrs:{open:e.modal.access},on:{"request-close":function(i){e.modal.access=!1}}},[n("WorkspaceAccessModal",{attrs:{"selected-topics":e.selectedTopics,submitting:e.updating},on:{"submit-form":e.updateWorkspace}})],1),e._v(" "),n("div",{staticClass:"tui-workspaceAccess__info"},[n("p",{staticClass:"tui-workspaceAccess__info__timeDescription"},[e._v("\n      "+e._s(e.timeDescription)+"\n    ")]),e._v(" "),n("InlineEditing",{staticClass:"tui-workspaceAccess__info__inlineEditing",attrs:{"update-able":e.updateAble,"full-width":!0},on:{click:function(i){e.modal.access=!0}}},[n("div",{staticClass:"tui-workspaceAccess__info__inlineEditing__accessBox",attrs:{slot:"content"},slot:"content"},[n("div",{staticClass:"tui-workspaceAccess__info__inlineEditing__accessBox__access"},[n("AccessIcon",{staticClass:"tui-workspaceAccess__info__inlineEditing__accessBox__access__icon",attrs:{access:e.accessValue,size:"200"}}),e._v(" "),n("span",[e._v(" "+e._s(e.$str("public","totara_engage"))+" ")])],1),e._v(" "),n("div",{staticClass:"tui-workspaceAccess__info__inlineEditing__accessBox__topics"},[n("TagIcon",{attrs:{"custom-class":["tui-icon--dimmed","tui-workspaceAccess__info__inlineEditing__accessBox__topics__icon"],size:"200"}}),e._v(" "),n("div",{staticClass:"tui-workspaceAccess__info__inlineEditing__accessBox__topics__box"},e._l(e.selectedTopics,(function(i,a){var t=i.value;return n("Tag",{key:a,staticClass:"tui-workspaceAccess__info__inlineEditing__accessBox__topics__box__topic",attrs:{text:t,href:e.$url("/totara/catalog/index.php")}})})),1)],1)])])],1)],1)};a._withStripped=!0;var t=n("o0o1"),r=n.n(t),s=n("yXPU"),o=n.n(s),d=n("+1Jo"),c=n.n(d),l=n("YMfc"),u=n.n(l),m=n("iZSA"),p=n.n(m),k=n("g0Fk"),v=n.n(k),_=n("Mnur"),f=n.n(_),g=n("cseK"),b=n.n(g),w=n("vyVp"),N={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"container_workspace_update_workspace_access"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"topics"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspace"},name:{kind:"Name",value:"container_workspace_update"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"topics"},value:{kind:"Variable",name:{kind:"Name",value:"topics"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"description_format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner_job_assignments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_members"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"joined"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"own"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_update"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_delete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_invite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_join"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]}]}}]}}]}}]},h={components:{WorkspaceAccessModal:b.a,AccessIcon:c.a,Tag:u.a,TagIcon:p.a,InlineEditing:v.a,ModalPresenter:f.a},props:{workspaceId:{type:[Number,String],required:!0},timeDescription:{type:String,required:!0},accessValue:{type:String,required:!0},selectedTopics:{type:Array,required:!0,validator:function(e){return 0===(e=Array.prototype.filter.call(e,(function(e){return!("id"in e)||!("value"in e)}))).length}},updateAble:{type:Boolean,required:!0}},data:function(){return{updating:!1,modal:{access:!1}}},computed:{owner:function(){return this.workspace.owner?this.workspace.owner:{}}},methods:{updateWorkspace:function(e){var i=this,n=e.topics;return o()(r.a.mark((function e(){var a,t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.updating&&i.updateAble){e.next=2;break}return e.abrupt("return");case 2:return i.updating=!0,e.prev=3,e.next=6,i.$apollo.mutate({mutation:N,refetchAll:!1,variables:{id:i.workspaceId,topics:Array.prototype.map.call(n,(function(e){return e.id}))}});case 6:a=e.sent,t=a.workspace,i.modal.access=!1,i.$emit("update-workspace",t),e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(3),e.next=16,Object(w.notify)({message:i.$str("error:update","container_workspace",i.workspace.name),type:"error",duration:5e3});case 16:return e.prev=16,i.updating=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[3,12,16,19]])})))()}}},y=n("KHd+"),S=function(e){e.options.__langStrings={totara_engage:["public"],container_workspace:["error:update"]}},F=Object(y.a)(h,a,[],!1,null,null,null);"function"==typeof S&&S(F),F.options.__hasBlocks={script:!0,template:!0},F.options.__file="client/src/container_workspace/components/sidepanel/content/WorkspaceAccess.vue";i.default=F.exports},"i/kK":function(e,i){e.exports=tui.require("tui/components/form/FormRow")},iZSA:function(e,i){e.exports=tui.require("tui/components/icons/common/Tags")},jJ8l:function(e,i){e.exports=tui.require("tui/components/card/Card")},k0LM:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return e.$apollo.loading?e._e():n("WorkspaceDiscussionForm",{staticClass:"tui-editPostDiscussionForm",attrs:{content:e.discussion.draft_content,"content-format":e.discussion.content_format,"submit-button-text":e.$str("done","container_workspace"),submitting:e.submitting,"discussion-id":e.discussionId},on:{submit:e.submitUpdate,cancel:function(i){return e.$emit("cancel")}}})};a._withStripped=!0;var t=n("M3bB"),r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_get_discussion_draft_content"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"discussion"},name:{kind:"Name",value:"container_workspace_discussion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"draft_content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"RAW"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"content_format"},arguments:[],directives:[]}]}}]}}]},s={components:{WorkspaceDiscussionForm:n.n(t).a},props:{discussionId:{type:[String,Number],required:!0},submitting:Boolean},apollo:{discussion:{query:r,fetchPolicy:"no-cache",variables:function(){return{id:this.discussionId}}}},data:function(){return{discussion:{}}},methods:{submitUpdate:function(e){var i=e.content,n=e.itemId;this.$emit("submit",{content:i,contentFormat:this.discussion.content_format,itemId:n})}}},o=n("KHd+"),d=function(e){e.options.__langStrings={container_workspace:["done"]}},c=Object(o.a)(s,a,[],!1,null,null,null);"function"==typeof d&&d(c),c.options.__hasBlocks={script:!0,template:!0},c.options.__file="client/src/container_workspace/components/form/EditPostDiscussionForm.vue";i.default=c.exports},llww:function(e,i){e.exports=tui.require("container_workspace/components/form/WorkspaceDescriptionForm")},lnEz:function(e,i,n){"use strict";n.r(i);var a=n("o0o1"),t=n.n(a),r=n("yXPU"),s=n.n(r);i.default={data:function(){return{isLoadMoreVisible:!1}},methods:{onScrollToBottom:function(){var e=this;return s()(t.a.mark((function i(){return t.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!e.isLoadMoreVisible){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,e.loadMoreItems();case 4:e.isLoadMoreVisible=!0;case 5:case"end":return i.stop()}}),i)})))()},loadMore:function(){var e=this;return s()(t.a.mark((function i(){return t.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e.loadMoreItems();case 2:e.isLoadMoreVisible=!1;case 3:case"end":return i.stop()}}),i)})))()}}}},lpqj:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-workspaceDiscussionTab"},[e.canPostDiscussion?n("PostDiscussionForm",{attrs:{"avatar-image-alt":e.user.profileimagealt||"","avatar-image-src":e.user.profileimageurl,submitting:e.submitting,"avatar-image-url":e.$url("/user/profile",{id:e.user.id})},on:{submit:e.submit}}):e._e(),e._v(" "),n("Separator"),e._v(" "),n("DiscussionFilter",{staticClass:"tui-workspaceDiscussionTab__filter",attrs:{sort:e.sort,"search-term":e.searchTerm,"workspace-id":e.workspaceId},on:{"update-search-term":function(i){e.searchTerm=i},"update-sort":function(i){e.sort=i}}}),e._v(" "),n("VirtualScroll",{attrs:{"data-key":"id","data-list":e.page.discussions,"aria-label":e.$str("discussions_list","container_workspace"),"is-loading":e.$apollo.loading,"page-mode":!0},on:{scrollbottom:e.onScrollToBottom},scopedSlots:e._u([{key:"item",fn:function(i){var a=i.item,t=i.posInSet,r=i.setSize;return[n("DiscussionCard",{staticClass:"tui-workspaceDiscussionTab__card",attrs:{"creator-fullname":a.owner.fullname,"creator-image-alt":a.owner.profileimagealt||"","creator-image-src":a.owner.profileimageurl,"creator-id":a.owner.id,"discussion-content":a.content,"time-description":a.time_description,"total-comments":a.total_comments,"total-reactions":a.total_reactions,"discussion-id":a.id,"first-comment-cursor":a.comment_cursor,reacted:a.discussion_interactor.reacted,"update-able":a.discussion_interactor.can_update,"delete-able":a.discussion_interactor.can_delete,"comment-able":a.discussion_interactor.can_comment,"react-able":a.discussion_interactor.can_react,edited:a.edited,"aria-posinset":t,"aria-setsize":r,"aria-labelledby":e.$id("item-"+a.id),"label-id":e.$id("item-"+a.id)},on:{"update-discussion-react-status":e.updateDiscussionReactStatus,"update-discussion":e.updateDiscussion,"add-new-comment":e.addNewComment,"delete-discussion":e.deleteDiscussion}})]}},{key:"footer",fn:function(){return[n("PageLoader",{attrs:{fullpage:!1,loading:e.$apollo.loading}})]},proxy:!0}])}),e._v(" "),e.loadMoreVisibility?n("div",{staticClass:"tui-workspaceDiscussionTab__loadMoreContainer"},[n("div",{staticClass:"tui-workspaceDiscussionTab__viewedDiscussions"},[e._v("\n      "+e._s(e.$str("vieweditems","container_workspace",e.page.discussions.length))+"\n      "+e._s(e.$str("total_discussions","container_workspace",e.page.cursor.total))+"\n    ")]),e._v(" "),n("Button",{staticClass:"tui-workspaceDiscussionTab__loadMore",attrs:{text:e.$str("loadmore","container_workspace")},on:{click:e.loadMore}})],1):e._e()],1)};a._withStripped=!0;var t=n("o0o1"),r=n.n(t),s=n("yXPU"),o=n.n(s),d=n("BxDI"),c=n.n(d),l=n("Emo+"),u=n.n(l),m=n("Q6By"),p=n.n(m),k=n("UpZR"),v=n.n(k),_=n("vyVp"),f=n("z16U"),g=n.n(f),b=n("QP7s"),w={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"container_workspace_post_discussion"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"content"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"content_format"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"draft_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"discussion"},name:{kind:"Name",value:"container_workspace_create_discussion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}},{kind:"Argument",name:{kind:"Name",value:"content"},value:{kind:"Variable",name:{kind:"Name",value:"content"}}},{kind:"Argument",name:{kind:"Name",value:"content_format"},value:{kind:"Variable",name:{kind:"Name",value:"content_format"}}},{kind:"Argument",name:{kind:"Name",value:"draft_id"},value:{kind:"Variable",name:{kind:"Name",value:"draft_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"HTML"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"time_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"total_comments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_reactions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discussion_interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discussion_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_comment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_delete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_update"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_react"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reacted"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edited"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comment_cursor"},arguments:[],directives:[]}]}}]}}]},N={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_get_discussions"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"search_term"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sort"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"container_workspace_discussion_sort"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"cursor"},name:{kind:"Name",value:"container_workspace_discussion_cursor"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}},{kind:"Argument",name:{kind:"Name",value:"search_term"},value:{kind:"Variable",name:{kind:"Name",value:"search_term"}}},{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}},{kind:"Argument",name:{kind:"Name",value:"pinned"},value:{kind:"BooleanValue",value:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"next"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"discussions"},name:{kind:"Name",value:"container_workspace_discussions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}},{kind:"Argument",name:{kind:"Name",value:"search_term"},value:{kind:"Variable",name:{kind:"Name",value:"search_term"}}},{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}},{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"Variable",name:{kind:"Name",value:"sort"}}},{kind:"Argument",name:{kind:"Name",value:"pinned"},value:{kind:"BooleanValue",value:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"HTML"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"time_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"total_comments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_reactions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discussion_interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discussion_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_comment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_delete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_update"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_react"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reacted"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edited"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comment_cursor"},arguments:[],directives:[]}]}}]}}]},h=n("R5BP"),y=n.n(h),S=n("vF5l"),F=n.n(S),x=n("AdjL"),C=n.n(x),A=n("oFhe"),V=n.n(A),D={components:{Separator:c.a,PostDiscussionForm:g.a,DiscussionCard:u.a,DiscussionFilter:p.a,VirtualScroll:y.a,Button:F.a,PageLoader:C.a},mixins:[V.a],props:{workspaceId:{type:[Number,String],required:!0},selectedSort:{type:String,required:!0}},apollo:{interactor:{query:b.a,variables:function(){return{workspace_id:this.workspaceId}}},page:{query:N,fetchPolicy:"network-only",variables:function(){return{workspace_id:this.workspaceId,sort:this.sort,search_term:this.searchTerm}},update:function(e){return{cursor:e.cursor,discussions:e.discussions}}}},data:function(){return{interactor:{},submitting:!1,page:{cursor:{total:0,next:null},discussions:[]},sort:this.selectedSort,searchTerm:""}},computed:{canPostDiscussion:function(){return this.interactor.joined},user:function(){return this.interactor.user?this.interactor.user:{}},discussionQueryVariables:function(){return{workspace_id:this.workspaceId,sort:this.sort,search_term:this.searchTerm}},loadMoreVisibility:function(){return this.isLoadMoreVisible&&this.page.cursor.next&&!this.$apollo.loading}},watch:{selectedSort:function(e){this.sort=e}},methods:{$_getDiscussionCache:function(){return v.a.readQuery({query:N,variables:this.discussionQueryVariables})},submit:function(e){var i=this,n=e.content,a=e.itemId;return o()(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.submitting){e.next=2;break}return e.abrupt("return");case 2:return i.submitting=!0,e.prev=3,e.next=6,i.$apollo.mutate({mutation:w,refetchAll:!1,variables:{workspace_id:i.workspaceId,content:n,draft_id:a},update:function(e,n){var a=n.data.discussion,t={workspace_id:i.workspaceId,sort:i.sort,search_term:i.searchTerm},r=e.readQuery({query:N,variables:t}),s=r.cursor,o=r.discussions;(s=Object.assign({},s)).total+=1,e.writeQuery({query:N,variables:t,data:{cursor:s,discussions:Array.prototype.concat.call([a],o)}})}});case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(3),e.next=12,Object(_.notify)({message:i.$str("error:create_discussion","container_workspace",i.workspaceId),type:"error"});case 12:return e.prev=12,i.submitting=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[3,8,12,15]])})))()},updateDiscussionReactStatus:function(e){var i=e.discussionId,n=e.status,a=this.$_getDiscussionCache(),t=a.discussions,r=a.cursor;v.a.writeQuery({query:N,variables:this.discussionQueryVariables,data:{cursor:r,discussions:Array.prototype.map.call(t,(function(e){if(e.id==i){var a=Object.assign({},e),t=Object.assign({},a.discussion_interactor);return t.reacted=n,a.discussion_interactor=t,n?a.total_reactions+=1:0!=a.total_reactions&&(a.total_reactions-=1),a}return e}))}})},updateDiscussion:function(e){var i=this.$_getDiscussionCache(),n=i.discussions,a=i.cursor;v.a.writeQuery({query:N,variables:this.discussionQueryVariables,data:{cursor:a,discussions:Array.prototype.map.call(n,(function(i){return i.id===e.id?e:i}))}})},addNewComment:function(e){var i=this.$_getDiscussionCache(),n=i.discussions,a=i.cursor;v.a.writeQuery({query:N,variables:this.discussionQueryVariables,data:{cursor:a,discussions:Array.prototype.map.call(n,(function(i){if(i.id==e){var n=Object.assign({},i);return n.total_comments+=1,n}return i}))}})},loadMoreItems:function(){var e=this;return o()(r.a.mark((function i(){return r.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(e.page.cursor.next){i.next=2;break}return i.abrupt("return");case 2:e.$apollo.queries.page.fetchMore({variables:{cursor:e.page.cursor.next,workspace_id:e.workspaceId,sort:e.sort,search_term:e.searchTerm},updateQuery:function(e,i){var n=i.fetchMoreResult,a=e.discussions.concat(n.discussions);return{cursor:n.cursor,discussions:a}}});case 3:case"end":return i.stop()}}),i)})))()},deleteDiscussion:function(e){var i=this.$_getDiscussionCache(),n=i.discussions,a=i.cursor;v.a.writeQuery({query:N,variables:this.discussionQueryVariables,data:{cursor:a,discussions:Array.prototype.filter.call(n,(function(i){return i.id!=e}))}})}}},T=n("KHd+"),I=function(e){e.options.__langStrings={container_workspace:["error:create_discussion","loadmore","total_discussions","vieweditems","discussions_list"]}},$=Object(T.a)(D,a,[],!1,null,null,null);"function"==typeof I&&I($),$.options.__hasBlocks={script:!0,template:!0},$.options.__file="client/src/container_workspace/components/content/tabs/WorkspaceDiscussionTab.vue";i.default=$.exports},lzVh:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-spaceImagePicker",class:{"tui-spaceImagePicker--loading":e.$apollo.loading}},[e.$apollo.loading?n("Spinner"):n("Upload",{attrs:{"repository-id":e.metadata.repositoryId,"item-id":e.metadata.itemId,href:e.metadata.url,"accepted-types":e.metadata.acceptTypes,overwrite:!0,"one-file":!0},on:{load:e.handleFileLoaded,error:e.handleError,progress:e.progressing},scopedSlots:e._u([{key:"default",fn:function(i){var a=i.selectEvents,t=i.inputEvents;return n("div",{staticClass:"tui-spaceImagePicker__image",class:{"tui-spaceImagePicker__image--progressing":e.isUploadImageLoaded},style:e.backgroundStyle},[n("input",e._g({directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"inputFile",attrs:{type:"file"}},t)),e._v(" "),n("div",{staticClass:"tui-spaceImagePicker__image__loader"},[n("PageLoader",{attrs:{loading:e.isUploadImageLoaded}})],1),e._v(" "),n("Button",e._g({directives:[{name:"show",rawName:"v-show",value:!e.isUploadImageLoaded,expression:"!isUploadImageLoaded"}],staticClass:"tui-spaceImagePicker__image__button",attrs:{"aria-label":e.$str("edit_image","container_workspace"),text:e.$str("edit_image","container_workspace"),styleclass:{small:!0}}},a))],1)}}])})],1)};a._withStripped=!0;var t=n("CiZ3"),r=n.n(t),s=n("vF5l"),o=n.n(s),d=n("0viy"),c=n.n(d),l=n("AdjL"),u=n.n(l),m={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_upload_metadata"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"draft_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"file_area"},name:{kind:"Name",value:"container_workspace_file_area"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}},{kind:"Argument",name:{kind:"Name",value:"draft_id"},value:{kind:"Variable",name:{kind:"Name",value:"draft_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"item_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"repository_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accept_types"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"image_url"},name:{kind:"Name",value:"container_workspace_workspace_image"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}}],directives:[]}]}}]},p=Object.prototype.hasOwnProperty,k={components:{Upload:r.a,Button:o.a,Spinner:c.a,PageLoader:u.a},props:{draftId:[String,Number],workspaceId:[Number,String]},apollo:{metadata:{query:m,fetchPolicy:"network-only",skip:function(){return!(!p.call(this.metadata,"itemId")||!p.call(this.metadata,"workspaceId"))&&(this.metadata.itemId==this.draftId||this.metadata.workspaceId==this.workspaceId)},variables:function(){return{workspace_id:this.workspaceId,draft_id:this.draftId}},update:function(e){var i=e.file_area,n=i.item_id,a=i.repository_id,t=i.url,r={itemId:n,repositoryId:a,acceptTypes:i.accept_types,url:t,image:e.image_url,workspaceId:this.workspaceId};return this.$emit("ready",r),r}}},data:function(){return{metadata:{},uploadedImage:null,isUploadImageLoaded:!1}},computed:{backgroundStyle:function(){return this.$apollo.loading?{"background-image":null}:this.uploadedImage?{"background-image":'url("'.concat(this.uploadedImage,'")')}:{"background-image":'url("'.concat(this.metadata.image,'")')}}},methods:{handleFileLoaded:function(e){var i=e.file.url;this.uploadedImage=i,this.isUploadImageLoaded=!1,this.$emit("clear-error")},handleError:function(){this.uploadedImage=null,this.isUploadImageLoaded=!1,this.$emit("upload-error",this.$str("error:upload_image","container_workspace"))},progressing:function(){this.isUploadImageLoaded=!0}}},v=n("KHd+"),_=function(e){e.options.__langStrings={container_workspace:["edit_image","error:upload_image"]}},f=Object(v.a)(k,a,[],!1,null,null,null);"function"==typeof _&&_(f),f.options.__hasBlocks={script:!0,template:!0},f.options.__file="client/src/container_workspace/components/form/upload/SpaceImagePicker.vue";i.default=f.exports},nBTD:function(e,i){e.exports=tui.require("tui/components/form/FieldError")},nEm4:function(e,i){e.exports=tui.require("tui/components/form/Form")},nWqs:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-workspaceFilter"},[e.$apollo.loading?e._e():[n("FilterBar",{staticClass:"tui-workspaceFilter__filter",attrs:{title:e.$str("find_spaces","container_workspace")},scopedSlots:e._u([{key:"filters-left",fn:function(i){var a=i.stacked;return[n("SelectFilter",{attrs:{label:e.$str("topic","totara_topic"),"show-label":!0,options:e.options.topics,stacked:a},model:{value:e.selection.topic,callback:function(i){e.$set(e.selection,"topic",i)},expression:"selection.topic"}}),e._v(" "),n("SelectFilter",{attrs:{label:e.$str("membership","container_workspace"),"show-label":!0,options:e.options.sources,stacked:a},model:{value:e.selection.source,callback:function(i){e.$set(e.selection,"source",i)},expression:"selection.source"}})]}},{key:"filters-right",fn:function(i){var a=i.stacked;return[n("SearchBox",{attrs:{label:e.$str("search_spaces","container_workspace"),placeholder:e.$str("search_spaces","container_workspace"),"show-label":!1,stacked:a},on:{submit:e.submitSearch},model:{value:e.selection.searchTerm,callback:function(i){e.$set(e.selection,"searchTerm",i)},expression:"selection.searchTerm"}})]}}],null,!1,4194725960),model:{value:e.selection,callback:function(i){e.selection=i},expression:"selection"}}),e._v(" "),n("div",{staticClass:"tui-workspaceFilter__sortFilter"},[n("SelectFilter",{attrs:{label:e.$str("sortby","moodle"),"show-label":!0,options:e.options.sorts},model:{value:e.selection.sort,callback:function(i){e.$set(e.selection,"sort",i)},expression:"selection.sort"}})],1)]],2)};a._withStripped=!0;var t=n("59Wj"),r=n.n(t),s=n("49h4"),o=n.n(s),d=n("HSAV"),c=n.n(d),l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_workspace_filter_options"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"sources"},name:{kind:"Name",value:"container_workspace_workspace_sources"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"topics"},name:{kind:"Name",value:"totara_topic_system_topics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"sorts"},name:{kind:"Name",value:"container_workspace_workspace_sorts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]}]}}]}}]},u={components:{FilterBar:r.a,SelectFilter:o.a,SearchBox:c.a},props:{selectedTopic:{type:[String,Number],default:0},selectedSource:{type:String,default:null},selectedSort:{type:String,default:null},searchTerm:{type:String,default:""}},apollo:{options:{query:l,update:function(e){var i=e.sources,n=e.topics,a=e.sorts;return(n=Array.prototype.map.call(n,(function(e){var i=e.id,n=e.value;return{id:String(i),label:n}}))).unshift({id:0,label:this.$str("all","moodle")}),{topics:n,sources:Array.prototype.map.call(i,(function(e){return{id:e.value,label:e.label}})),sorts:Array.prototype.map.call(a,(function(e){return{id:e.value,label:e.label}}))}}}},data:function(){return{options:{},selection:{topic:this.selectedTopic,source:this.selectedSource,sort:this.selectedSort,searchTerm:this.searchTerm}}},methods:{submitSearch:function(){this.$emit("submit-search",this.selection)}}},m=n("KHd+"),p=function(e){e.options.__langStrings={container_workspace:["membership","search_spaces","find_spaces"],totara_topic:["topic"],moodle:["all","sortby"]}},k=Object(m.a)(u,a,[],!1,null,null,null);"function"==typeof p&&p(k),k.options.__hasBlocks={script:!0,template:!0},k.options.__file="client/src/container_workspace/components/filter/WorkspaceFilter.vue";i.default=k.exports},nXMa:function(e,i){e.exports=tui.require("tui/components/buttons/Cancel")},o5Iv:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return e.$apollo.queries.discussion.loading?e._e():n("Layout",{staticClass:"tui-workspaceDiscussionPage",attrs:{"show-left-side-panel-control":!1,"show-left-side-panel":!0,"show-right-side-panel":!0,"show-right-side-panel-control":!0,"left-side-panel-initially-open":!0,"right-side-panel-initially-open":!0,"right-side-panel-animated":!0,breakpoints:e.breakPoints,boundaries:e.boundaries}},[n("WorkspaceMenu",{attrs:{slot:"sidePanelLeft","selected-workspace-id":e.discussion.workspace_id},slot:"sidePanelLeft"}),e._v(" "),n("div",{staticClass:"tui-workspaceDiscussionPage__content",attrs:{slot:"column"},slot:"column"},[n("a",{staticClass:"tui-workspaceDiscussionPage__content__backButton",attrs:{href:e.$url("/container/type/workspace/workspace.php",{id:e.discussion.workspace_id})}},[n("BackArrow",{attrs:{size:"200"}}),e._v(" "),n("span",[e._v(" "+e._s(e.$str("discussions","container_workspace"))+" ")])],1),e._v(" "),n("DiscussionCard",{staticClass:"tui-workspaceDiscussionPage__content__discussion",attrs:{"discussion-id":e.discussion.id,"total-reactions":e.discussion.total_reactions,"total-comments":e.discussion.total_comments,"time-description":e.discussion.time_description,reacted:e.discussion.discussion_interactor.reacted,"comment-able":e.discussion.discussion_interactor.can_comment,"update-able":e.discussion.discussion_interactor.can_update,"delete-able":e.discussion.discussion_interactor.can_delete,"react-able":e.discussion.discussion_interactor.can_react,"report-able":e.discussion.discussion_interactor.can_report,"creator-id":e.discussion.owner.id,"creator-fullname":e.discussion.owner.fullname,"creator-image-alt":e.discussion.owner.profileimagealt||"","creator-image-src":e.discussion.owner.profileimageurl,"discussion-content":e.discussion.content,"show-discussion-link":!1,edited:e.discussion.edited},on:{"update-react-status":e.updateReactStatus,"update-discussion":e.updateDiscussion,"trigger-comment":e.scrollToCommentForm}}),e._v(" "),n("h3",{staticClass:"tui-workspaceDiscussionPage__content__title"},[n("span",[e._v("\n        "+e._s(e.$str("comments","totara_comment",e.discussion.total_comments))+"\n      ")]),e._v(" "),e.submitting?n("Spinner",{attrs:{size:"300"}}):e._e()],1),e._v(" "),n("CommentBox",{staticClass:"tui-workspaceDiscussionPage__content__commentBox",attrs:{area:"discussion",component:"container_workspace","instance-id":e.discussion.id,size:e.size,"submit-form-button-text":e.$str("comment","container_workspace"),"show-like-button-text":!0,"show-reply-button-text":!0,"with-border":!0,submitting:e.submitting,"comment-able":e.discussion.discussion_interactor.can_comment,"comment-inline-head":!0},on:{"update-submitting":function(i){e.submitting=i},"create-comment":e.updateDiscussionComments,"form-ready":e.setFormElement}})],1),e._v(" "),n("WorkspaceSidePanel",{attrs:{slot:"sidePanelRight","workspace-id":e.discussion.workspace_id},slot:"sidePanelRight"})],1)};a._withStripped=!0;var t=n("AMZF"),r=n.n(t),s=n("TBZn"),o=n("Hl3G"),d=n.n(o),c=n("5gBL"),l=n.n(c),u=n("NHyM"),m=n.n(u),p=n("Lht0"),k=n.n(p),v=n("Z82V"),_=n.n(v),f=n("UpZR"),g=n.n(f),b=n("0viy"),w=n.n(b),N=n("yAFK"),h={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_get_discussion"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"discussion"},name:{kind:"Name",value:"container_workspace_discussion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"HTML"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"time_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"total_comments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_reactions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discussion_interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discussion_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_comment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_delete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_update"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_react"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reacted"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edited"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comment_cursor"},arguments:[],directives:[]}]}}]}}]},y={components:{Layout:r.a,WorkspaceMenu:d.a,DiscussionCard:l.a,WorkspaceSidePanel:m.a,BackArrow:k.a,CommentBox:_.a,Spinner:w.a},props:{discussionId:{type:[Number,String],required:!0}},apollo:{discussion:{query:h,variables:function(){return{id:this.discussionId}}}},data:function(){return{discussion:null,submitting:!1,formElement:null}},computed:{breakPoints:function(){return s.workspaceBreakPoint},boundaries:function(){return s.workspaceBoundaries},size:function(){return N.SIZE_LARGE}},methods:{scrollToCommentForm:function(){this.formElement&&this.formElement.scrollIntoView()},setFormElement:function(e){this.formElement=e},updateDiscussion:function(e){g.a.writeQuery({query:h,variables:{id:this.discussionId},data:{discussion:e}})},updateDiscussionComments:function(){var e=g.a.readQuery({query:h,variables:{id:this.discussionId}}).discussion;(e=Object.assign({},e)).total_comments+=1,g.a.writeQuery({query:h,variables:{id:this.discussionId},data:{discussion:e}})},updateReactStatus:function(e){var i=e.status,n=g.a.readQuery({query:h,variables:{id:this.discussionId}}).discussion;n=Object.assign({},n),i?n.total_reactions+=1:0!=n.total_reactions&&(n.total_reactions-=1),n.discussion_interactor=Object.assign({},n.discussion_interactor),n.discussion_interactor.reacted=i,g.a.writeQuery({query:h,variables:{id:this.discussionId},data:{discussion:n}})}}},S=n("KHd+"),F=function(e){e.options.__langStrings={container_workspace:["discussions","back_to_discussions","comment"],totara_comment:["comments"]}},x=Object(S.a)(y,a,[],!1,null,null,null);"function"==typeof F&&F(x),x.options.__hasBlocks={script:!0,template:!0},x.options.__file="client/src/container_workspace/pages/WorkspaceDiscussionPage.vue";i.default=x.exports},oFhe:function(e,i){e.exports=tui.require("container_workspace/mixins/virtual_scroll_mixin")},oMuj:function(e,i){e.exports=tui.require("tui/components/form/InputText")},oZB7:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-emptySpacesHeader"},[n("ModalPresenter",{attrs:{open:e.openModal},on:{"request-close":function(i){e.openModal=!1}}},[n("WorkspaceModal",{on:{"create-workspace":e.navigateToSpace}})],1),e._v(" "),n("h1",{staticClass:"tui-emptySpacesHeader__title"},[e._v("\n    "+e._s(e.$str("no_spaces","container_workspace"))+"\n  ")]),e._v(" "),n("div",{staticClass:"tui-emptySpacesHeader__actionBox"},[n("ActionLink",{staticClass:"tui-emptySpacesHeader__actionBox__actionLink",attrs:{href:e.$url("/container/type/workspace/spaces.php"),text:e.$str("find_spaces","container_workspace"),styleclass:{primary:!0}}}),e._v(" "),n("p",[n("span",[e._v(e._s(e.$str("or","container_workspace")))]),e._v(" "),n("a",{attrs:{href:"#"},on:{click:function(i){i.preventDefault(),e.openModal=!0}}},[e._v("\n        "+e._s(e.$str("create_space","container_workspace"))+"\n      ")])]),e._v(" "),n("Popover",{attrs:{position:"top"}},[n("a",{attrs:{slot:"trigger",href:"#"},slot:"trigger"},[e._v("\n        "+e._s(e.$str("about_spaces","container_workspace"))+"\n      ")]),e._v(" "),n("p",[e._v("\n        "+e._s(e.$str("about_spaces_help","container_workspace"))+"\n      ")])])],1)],1)};a._withStripped=!0;var t=n("fCWf"),r=n.n(t),s=n("Mnur"),o=n.n(s),d=n("cNVA"),c=n.n(d),l=n("9G+f"),u=n.n(l),m={components:{ActionLink:r.a,ModalPresenter:o.a,WorkspaceModal:c.a,Popover:u.a},data:function(){return{openModal:!1}},methods:{navigateToSpace:function(e){var i=e.id;this.openModal=!1,document.location.href=this.$url("/container/type/workspace/workspace.php",{id:i})}}},p=n("KHd+"),k=function(e){e.options.__langStrings={container_workspace:["no_spaces","find_spaces","or","create_space","about_spaces","about_spaces_help"]}},v=Object(p.a)(m,a,[],!1,null,null,null);"function"==typeof k&&k(v),v.options.__hasBlocks={script:!0,template:!0},v.options.__file="client/src/container_workspace/components/head/EmptySpacesHeader.vue";i.default=v.exports},p370:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("Modal",{staticClass:"tui-workspaceFileViewModal",attrs:{dismissable:{overlayClose:!1,esc:!0,backdropClick:!0}}},[n("ModalContent",{staticClass:"tui-workspaceFileViewModal__content",attrs:{"close-button":!0}},[n("div",{staticClass:"tui-workspaceFileViewModal__header"},[n("p",{staticClass:"tui-workspaceFileViewModal__title"},[e._v(e._s(e.fileName))]),e._v(" "),n("div",{staticClass:"tui-workspaceFileViewModal__links"},[n("a",{staticClass:"tui-workspaceFileViewModal__discussion",attrs:{href:e.contextUrl}},[e._v("\n          "+e._s(e.$str("view_discussion","container_workspace"))+"\n        ")]),e._v(" "),n("a",{staticClass:"tui-workspaceFileViewModal__link",attrs:{href:e.downloadUrl}},[e._v("\n          "+e._s(e.$str("download","moodle"))+"\n        ")])])]),e._v(" "),"IMAGE"===e.fileType?[n("img",{staticClass:"tui-workspaceFileViewModal__media",attrs:{src:e.fileUrl,alt:e.altText}})]:"VIDEO"===e.fileType?[n("CoreVideoBlock",{staticClass:"tui-workspaceFileViewModal__media",attrs:{url:e.fileUrl,filename:e.fileName,mimetype:e.mimeType}})]:"AUDIO"===e.fileType?[n("audio",{staticClass:"tui-workspaceFileViewModal__audio",attrs:{controls:""}},[n("source",{attrs:{src:e.fileUrl,type:e.mimeType}})])]:n("div",{staticClass:"tui-workspaceFileViewModal__area"},[n("div",{staticClass:"tui-workspaceFileViewModal__area__icon"},[n("FileIcon",{attrs:{filename:e.fileName}})],1),e._v(" "),n("p",[e._v("\n        "+e._s(e.$str("file_preview_empty","container_workspace"))+"\n      ")])])],2)],1)};a._withStripped=!0;var t=n("tkAW"),r=n.n(t),s=n("u5iS"),o=n.n(s),d=n("rhow"),c=n.n(d),l=n("AL+t"),u=n.n(l),m={components:{Modal:r.a,ModalContent:o.a,FileIcon:c.a,CoreVideoBlock:u.a},props:{fileName:{type:String,required:!0},downloadUrl:{type:String,required:!0},contextUrl:{type:String,required:!0},fileUrl:{type:String,required:!0},extension:{type:String,required:!0},mimeType:{type:String,required:!0},fileType:{type:String,required:!0},altText:{type:String,required:!0}}},p=n("KHd+"),k=function(e){e.options.__langStrings={container_workspace:["view_discussion","file_preview_empty","file_image","file_video","file_audio"],moodle:["download"]}},v=Object(p.a)(m,a,[],!1,null,null,null);"function"==typeof k&&k(v),v.options.__hasBlocks={script:!0,template:!0},v.options.__file="client/src/container_workspace/components/modal/WorkspaceFileViewModal.vue";i.default=v.exports},pZp9:function(e,i){e.exports=tui.require("container_workspace/components/card/WorkspaceMemberCard")},pxdy:function(e,i){e.exports=tui.require("totara_engage/mixins/contribution_mixin")},q9D0:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-spaceCardsGrid"},e._l(e.rows,(function(i,a){var t=i.items;return n("Grid",{key:a,staticClass:"tui-spaceCardsGrid__row",attrs:{"max-units":e.maxGridUnits}},e._l(t,(function(i,a){var t=i.id,r=i.url,s=i.image,o=i.name,d=i.interactor,c=d.joined,l=d.can_join;return n("GridItem",{key:a,staticClass:"tui-spaceCardsGrid__row__card",attrs:{units:e.workspaceUnits}},[n("OriginalSpaceCard",{attrs:{"workspace-id":t,url:r,image:s,title:o,joined:c,"join-able":l,submitting:e.submitting},on:{"join-workspace":function(i){return e.$emit("join-workspace",i)}}})],1)})),1)})),1)};a._withStripped=!0;var t=n("NAOU"),r=n.n(t),s=n("D9If"),o=n.n(s),d=n("CWIl"),c=n("fUGz"),l={components:{OriginalSpaceCard:n.n(c).a,Grid:r.a,GridItem:o.a},props:{submitting:Boolean,maxGridUnits:{type:[Number,String],required:!0},workspaces:{type:Array,required:!0},workspaceUnits:{type:[Number,String],default:2}},computed:{rows:function(){return Object(d.calculateRow)(this.workspaces,this.workspacesPerRow)},workspacesPerRow:function(){return Math.floor(this.maxGridUnits/this.workspaceUnits)}}},u=n("KHd+"),m=Object(u.a)(l,a,[],!1,null,null,null);m.options.__hasBlocks={script:!0,template:!0},m.options.__file="client/src/container_workspace/components/grid/SpaceCardsGrid.vue";i.default=m.exports},qPS3:function(e,i,n){var a={".":"UWTz","./":"UWTz","./grid/grid":"USZJ","./grid/grid.js":"USZJ","./index":"UWTz","./index.js":"UWTz","./mixins/virtual_scroll_mixin":"lnEz","./mixins/virtual_scroll_mixin.js":"lnEz"};function t(e){var i=r(e);return n(i)}function r(e){if(!n.o(a,e)){var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}return a[e]}t.keys=function(){return Object.keys(a)},t.resolve=r,e.exports=t,t.id="qPS3"},rLBA:function(e,i){e.exports=tui.require("totara_engage/components/buttons/LoadingButton")},rhow:function(e,i){e.exports=tui.require("tui/components/icons/files/compute/FileIcon")},s5vj:function(e,i){e.exports=tui.require("totara_engage/components/contribution/BaseContent")},sI8u:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-workspaceSidePanel"},[e.$apollo.loading?e._e():[n("div",{staticClass:"tui-workspaceSidePanel__ownerInfo"},[n("div",{staticClass:"tui-workspaceSidePanel__ownerInfo__actions"},[n("h5",{staticClass:"tui-workspaceSidePanel__ownerInfo__actions__head"},[e._v("\n          "+e._s(e.$str("owner","container_workspace"))+"\n        ")]),e._v(" "),e.own||e.deleteAble?n("WorkspaceDropdown",{staticClass:"tui-workspaceSidePanel__ownerInfo__actions__dropDown",attrs:{position:"bottom-right",actions:e.actions}}):e._e()],1),e._v(" "),n("MiniProfileCard",{staticClass:"tui-workspaceSidePanel__ownerInfo__profileCard",attrs:{email:e.owner.email,name:e.owner.fullname,mention:e.owner.fullname,"avatar-src":e.owner.profileimageurl,"avatar-alt":e.owner.profileimagealt||"","job-assignment":e.ownerJobAssignment,"no-border":!0,interactive:!1,"avatar-size":"small"}}),e._v(" "),n("ModalPresenter",{attrs:{open:e.modal.confirm},on:{"request-close":function(i){e.modal.confirm=!1}}},[n("WorkspaceWarningModal",{attrs:{title:e.$str("delete_warning_title","container_workspace"),"message-content":e.$str("delete_warning_msg","container_workspace"),"confirm-button-text":e.$str("delete_workspace","container_workspace")},on:{confirm:e.handleDelete}})],1)],1),e._v(" "),n("WorkspaceAccess",{staticClass:"tui-workspaceSidePanel__overview",attrs:{"workspace-id":e.workspaceId,"update-able":e.updateAble,"selected-topics":e.workspace.topics,"access-value":e.workspace.access,"time-description":e.workspace.time_description},on:{"update-workspace":e.updateWorkspace}}),e._v(" "),n("WorkspaceDescription",{staticClass:"tui-workspaceSidePanel__description",attrs:{content:e.workspace.description||"","workspace-id":e.workspaceId,"update-able":e.updateAble},on:{"update-workspace":e.updateWorkspace}}),e._v(" "),n("WorkspacePrimaryAction",{staticClass:"tui-workspaceSidePanel__primaryAction",attrs:{"join-able":e.joinAble,owner:e.own,joined:e.joined,"workspace-id":e.workspaceId,"workspace-name":e.workspace.name}})]],2)};a._withStripped=!0;var t=n("IMG+"),r=n.n(t),s=n("RVXm"),o=n.n(s),d=n("+MEP"),c=n.n(d),l=n("UpZR"),u=n.n(l),m=n("KOYE"),p=n.n(m),k=n("Mnur"),v=n.n(k),_=n("cIrp"),f=n("WDs9"),g=n("QgbB"),b={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"container_workspace_delete_workspace"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"result"},name:{kind:"Name",value:"container_workspace_delete"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}}],directives:[]}]}}]},w=Object.prototype.hasOwnProperty,N={components:{WorkspaceDescription:r.a,WorkspaceAccess:o.a,MiniProfileCard:c.a,WorkspacePrimaryAction:p.a,ModalPresenter:v.a,WorkspaceWarningModal:_.default,WorkspaceDropdown:f.default},props:{workspaceId:{type:[String,Number],required:!0}},apollo:{workspace:{query:g.a,variables:function(){return{id:this.workspaceId}}}},data:function(){return{workspace:{},modal:{confirm:!1}}},computed:{updateAble:function(){return!!w.call(this.workspace,"interactor")&&this.workspace.interactor.can_update},owner:function(){if(!w.call(this.workspace,"owner"))return{};var e=this.workspace.owner;return e},ownerJobAssignment:function(){if(!w.call(this.workspace,"owner_job_assignments"))return"";var e=Array.prototype.slice.call(this.workspace.owner_job_assignments);return 0===e.length?"":Array.prototype.shift.call(e).fullname},deleteAble:function(){return!!w.call(this.workspace,"interactor")&&this.workspace.interactor.can_delete},own:function(){if(!w.call(this.workspace,"interactor"))return!1;var e=this.workspace.interactor.own;return e},joinAble:function(){return!!w.call(this.workspace,"interactor")&&this.workspace.interactor.can_join},joined:function(){if(!w.call(this.workspace,"interactor"))return!1;var e=this.workspace.interactor.joined;return e},actions:function(){return[{label:this.$str("delete_workspace","container_workspace"),action:this.$_requestConfirm.bind(this)}]}},methods:{updateWorkspace:function(e){u.a.writeQuery({query:g.a,variables:{id:this.workspaceId},data:{workspace:e}})},handleDelete:function(){var e=this;this.$apollo.mutate({mutation:b,variables:{workspace_id:this.workspace.id},refetchAll:!1}).then((function(i){i.data.result&&(e.modal.confirm=!1,window.location.href=e.$url("/container/type/workspace/index.php",{hold_notification:1}))}))},$_requestConfirm:function(){this.modal.confirm=!0}}},h=n("KHd+"),y=function(e){e.options.__langStrings={container_workspace:["owner","delete_warning_title","delete_warning_msg","delete_workspace"]}},S=Object(h.a)(N,a,[],!1,null,null,null);"function"==typeof y&&y(S),S.options.__hasBlocks={script:!0,template:!0},S.options.__file="client/src/container_workspace/components/sidepanel/WorkspaceSidePanel.vue";i.default=S.exports},t5mg:function(e,i,n){"use strict";i.a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_notifications"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"notifications"},name:{kind:"Name",value:"container_workspace_notifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}}]}},tBMW:function(e,i){e.exports=tui.require("container_workspace/components/content/tabs/WorkspaceLibraryTab")},tkAW:function(e,i){e.exports=tui.require("tui/components/modal/Modal")},txsu:function(e,i){e.exports=tui.require("tui/components/tabs/Tabs")},tyu8:function(e,i){e.exports=tui.require("totara_engage/index")},u5iS:function(e,i){e.exports=tui.require("tui/components/modal/ModalContent")},uV17:function(e,i,n){!function(){"use strict";"undefined"!=typeof tui&&tui._bundle.isLoaded("container_workspace")?console.warn('[tui bundle] The bundle "container_workspace" is already loaded, skipping initialisation.'):(tui._bundle.register("container_workspace"),tui._bundle.addModulesFromContext("container_workspace",n("qPS3")),tui._bundle.addModulesFromContext("container_workspace/components",n("ezt2")),tui._bundle.addModulesFromContext("container_workspace/pages",n("Oh+1")))}()},vF5l:function(e,i){e.exports=tui.require("tui/components/buttons/Button")},vgT7:function(e,i){e.exports=tui.require("tui/components/icons/common/Add")},vrou:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-workspaceDescription"},[n("InlineEditing",{directives:[{name:"show",rawName:"v-show",value:!e.editing,expression:"!editing"}],staticClass:"tui-workspaceDescription__inlineEditing",attrs:{"update-able":e.updateAble,"full-width":!0,"absolute-button":!0},on:{click:function(i){e.editing=!0}}},[n("div",{ref:"content",staticClass:"tui-workspaceDescription__inlineEditing__content",attrs:{slot:"content"},domProps:{innerHTML:e._s(e.description)},slot:"content"})]),e._v(" "),e.editing?n("Form",{attrs:{"workspace-id":e.workspaceId,"description-content":e.descriptionContent,submitting:e.updating},on:{cancel:function(i){e.editing=!1},submit:e.updateDescription}}):e._e()],1)};a._withStripped=!0;var t=n("o0o1"),r=n.n(t),s=n("yXPU"),o=n.n(s),d=n("g0Fk"),c=n.n(d),l=n("llww"),u=n.n(l),m=n("H/tB"),p=n.n(m),k=n("vyVp"),v=n("FoZm"),_={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"container_workspace_update_workspace_description"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"description"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"description_format"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspace"},name:{kind:"Name",value:"container_workspace_update"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"description"},value:{kind:"Variable",name:{kind:"Name",value:"description"}}},{kind:"Argument",name:{kind:"Name",value:"description_format"},value:{kind:"Variable",name:{kind:"Name",value:"description_format"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"description_format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner_job_assignments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_members"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"joined"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"own"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_update"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_delete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_invite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_join"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]}]}}]}}]}}]},f={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_workspace_description"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspace"},name:{kind:"Name",value:"container_workspace_workspace"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"RAW"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"description_format"},arguments:[],directives:[]}]}}]}}]},g={components:{InlineEditing:c.a,Form:u.a},props:{updateAble:{type:Boolean,required:!0},workspaceId:{type:[Number,String],required:!0},content:String},apollo:{descriptionContent:{query:f,fetchPolicy:"network-only",skip:function(){return!this.editing},variables:function(){return{id:this.workspaceId}},update:function(e){var i=e.workspace,n=i.description,a=i.description_format;return n=null!==n&&""!==n&&v.FORMAT_JSON_EDITOR==a?JSON.parse(n):null}}},data:function(){return{descriptionContent:null,editing:!1,updating:!1}},computed:{description:function(){return this.content?this.content:this.$str("no_description","container_workspace")}},watch:{content:function(){this.$_scan()}},mounted:function(){this.$_scan()},methods:{$_scan:function(){this.$refs.content&&p.a.scan(this.$refs.content)},updateDescription:function(e){var i=this,n=e.description;return o()(r.a.mark((function e(){var a,t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.updating&&i.updateAble){e.next=2;break}return e.abrupt("return");case 2:return i.updating=!0,e.prev=3,e.next=6,i.$apollo.mutate({mutation:_,refetchAll:!1,variables:{id:i.workspaceId,description:n}});case 6:a=e.sent,t=a.data.workspace,i.editing=!1,i.$emit("update-workspace",t),e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(3),e.next=16,Object(k.notify)({message:i.$str("error:update_description","container_workspace"),type:"error"});case 16:return e.prev=16,i.updating=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[3,12,16,19]])})))()}}},b=n("KHd+"),w=function(e){e.options.__langStrings={container_workspace:["no_description","error:update_description"]}},N=Object(b.a)(g,a,[],!1,null,null,null);"function"==typeof w&&w(N),N.options.__hasBlocks={script:!0,template:!0},N.options.__file="client/src/container_workspace/components/sidepanel/content/WorkspaceDescription.vue";i.default=N.exports},vyVp:function(e,i){e.exports=tui.require("tui/notifications")},w2wx:function(e,i){e.exports=tui.require("container_workspace/components/profile/PostAvatar")},wa1w:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("article",{staticClass:"tui-workspaceMemberCard"},[n("MiniProfileCard",{staticClass:"tui-workspaceMemberCard__profileCard",attrs:{"avatar-src":e.profileImageUrl,"avatar-alt":e.profileImageAlt,email:e.userEmail,name:e.userFullName,"job-assignment":e.jobAssignmentLabel,mention:e.userEmail,interactive:e.deleteAble,items:e.actions,"label-id":e.labelId,"drop-down-button-aria-label":e.$str("more_action_for_member","container_workspace",e.userFullName),"position-drop-down":"bottom-right"}},[e._t("default")],2),e._v(" "),n("ModalPresenter",{attrs:{open:e.modal.confirm},on:{"request-close":function(i){e.modal.confirm=!1}}},[n("WorkspaceWarningModal",{attrs:{title:e.$str("delete_warning_title","container_workspace"),"message-content":e.$str("remove_member_warning_msg","container_workspace",e.userFullName)},on:{confirm:e.removeMember}})],1)],1)};a._withStripped=!0;var t=n("o0o1"),r=n.n(t),s=n("yXPU"),o=n.n(s),d=n("+MEP"),c=n.n(d),l=n("vyVp"),u=n("Mnur"),m=n.n(u),p=n("XgQu"),k=n.n(p),v={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"container_workspace_remove_member_from_workspace"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"user_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"result"},name:{kind:"Name",value:"container_workspace_remove_member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}},{kind:"Argument",name:{kind:"Name",value:"user_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}}],directives:[]}]}}]},_=n("QgbB"),f={components:{MiniProfileCard:c.a,ModalPresenter:m.a,WorkspaceWarningModal:k.a},props:{jobAssignments:{type:Array,required:!0,validator:function(e){return Array.prototype.every.call(e,(function(e){return"fullname"in e}))}},userFullName:{type:String,required:!0},userEmail:{type:String,required:!0},profileImageUrl:{type:String,required:!0},profileImageAlt:{type:String,default:""},deleteAble:{type:Boolean,default:!1},userId:{type:[String,Number],required:!0},workspaceId:{type:[String,Number],required:!0},labelId:{type:String,required:!0}},data:function(){return{modal:{confirm:!1}}},computed:{jobAssignmentLabel:function(){return 0===this.jobAssignments.length?"":this.jobAssignments[0].fullname},actions:function(){return this.deleteAble?[{label:this.$str("remove","moodle"),action:this.$_requestConfirm.bind(this)}]:[]}},methods:{$_requestConfirm:function(){this.modal.confirm=!0},removeMember:function(){var e=this;return o()(r.a.mark((function i(){return r.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,e.$apollo.mutate({mutation:v,refetchAll:!1,variables:{workspace_id:e.workspaceId,user_id:e.userId},refetchQueries:[{query:_.a,variables:{id:e.workspaceId}}]});case 3:e.modal.confirm=!1,e.$emit("remove-member",e.userId),i.next=11;break;case 7:return i.prev=7,i.t0=i.catch(0),i.next=11,Object(l.notify)({message:e.$str("error:remove_user","container_workspace"),type:"error"});case 11:case"end":return i.stop()}}),i,null,[[0,7]])})))()}}},g=n("KHd+"),b=function(e){e.options.__langStrings={moodle:["remove"],container_workspace:["error:remove_user","delete_warning_title","remove_member_warning_msg","more_action_for_member"]}},w=Object(g.a)(f,a,[],!1,null,null,null);"function"==typeof b&&b(w),w.options.__hasBlocks={script:!0,template:!0},w.options.__file="client/src/container_workspace/components/card/WorkspaceMemberCard.vue";i.default=w.exports},wzO4:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("Form",{staticClass:"tui-workspaceForm",attrs:{vertical:!0,"input-width":"full"}},[n("div",{staticClass:"tui-workspaceForm__container"},[n("div",{staticClass:"tui-workspaceForm__container__inputs"},[n("FormRow",{staticClass:"tui-workspaceForm__container__inputs__formRow",attrs:{label:e.$str("space_name_label","container_workspace")},scopedSlots:e._u([{key:"default",fn:function(i){var a=i.id,t=i.label;return[n("InputText",{attrs:{id:a,disabled:e.submitting,placeholder:t},model:{value:e.name,callback:function(i){e.name=i},expression:"name"}})]}}])}),e._v(" "),n("FormRow",{staticClass:"tui-workspaceForm__container__inputs__formRow",attrs:{label:e.$str("description_label","container_workspace")},scopedSlots:e._u([{key:"default",fn:function(i){var a=i.id;return[n("Weka",{staticClass:"tui-workspaceForm__container__inputs__formRow__editor",attrs:{id:a,"aria-disabled":e.submitting,doc:e.description.doc,component:"container_workspace",area:"description"},on:{update:e.updateDescription,"editor-mounted":function(i){e.editorReady=!0}}})]}}])}),e._v(" "),n("FormRow",{staticClass:"tui-workspaceForm__container__inputs__formRow",attrs:{label:e.$str("assign_topics_label","container_workspace"),helpmsg:e.$str("assigntopicshelp","totara_topic")},scopedSlots:e._u([{key:"default",fn:function(i){var a=i.id;return[n("TopicsSelector",{attrs:{id:a,"selected-topics":e.selectedTopics},on:{change:function(i){e.selectedTopics=i}}})]}}])})],1),e._v(" "),n("FormRow",{staticClass:"tui-workspaceForm__container__imagePicker",scopedSlots:e._u([{key:"default",fn:function(i){var a=i.id;return[n("SpaceImagePicker",{attrs:{id:a,"draft-id":e.draftId},on:{ready:function(i){e.draftId=i.itemId},"upload-error":function(i){e.error.upload=i},"clear-error":function(i){e.error.upload=null}}}),e._v(" "),n("FieldError",{staticClass:"tui-workspaceForm__container__imagePicker__error",attrs:{error:e.error.upload}})]}}])})],1),e._v(" "),n("ButtonGroup",{staticClass:"tui-workspaceForm__buttonGroup"},[n("LoadingButton",{attrs:{loading:e.submitting||!e.editorReady,disabled:e.submitting||e.disableSubmit,text:e.$str("create","moodle"),"aria-label":e.$str("submit","moodle"),primary:!0,type:"submit"},on:{click:function(i){return i.preventDefault(),e.submit(i)}}}),e._v(" "),n("Button",{attrs:{text:e.$str("cancel","moodle"),disabled:e.submitting},on:{click:function(i){return i.preventDefault(),e.$emit("cancel")}}})],1)],1)};a._withStripped=!0;var t=n("nEm4"),r=n.n(t),s=n("i/kK"),o=n.n(s),d=n("oMuj"),c=n.n(d),l=n("BN8m"),u=n.n(l),m=n("vF5l"),p=n.n(m),k=n("K1nw"),v=n.n(k),_=n("rLBA"),f=n.n(_),g=n("2wx7"),b=n.n(g),w=n("TXEh"),N=n("URbu"),h=n.n(N),y=n("nBTD"),S=n.n(y),F={components:{LoadingButton:f.a,InputText:c.a,Form:r.a,FormRow:o.a,ButtonGroup:u.a,Button:p.a,TopicsSelector:v.a,Weka:b.a,SpaceImagePicker:h.a,FieldError:S.a},props:{submitting:Boolean},data:function(){return{name:"",description:{doc:null,empty:!0},draftId:null,selectedTopics:[],error:{upload:null},editorReady:!1}},computed:{disableSubmit:function(){return 0===this.name.length||0===this.selectedTopics.length}},methods:{submit:function(){var e=null;this.description.empty||(e=JSON.stringify(this.description.doc));var i={name:this.name,description:e,topics:this.selectedTopics.map((function(e){return e.id})),draftId:this.draftId};this.$emit("submit",i)},$_readJSON:Object(w.debounce)((function(e){this.description.doc=e.getJSON(),this.description.empty=e.isEmpty()}),250),updateDescription:function(e){this.$_readJSON(e)}}},x=n("KHd+"),C=function(e){e.options.__langStrings={container_workspace:["space_name_label","description_label","assign_topics_label"],moodle:["create","cancel","submit"],totara_topic:["assigntopicshelp"]}},A=Object(x.a)(F,a,[],!1,null,null,null);"function"==typeof C&&C(A),A.options.__hasBlocks={script:!0,template:!0},A.options.__file="client/src/container_workspace/components/form/WorkspaceForm.vue";i.default=A.exports},x4nq:function(e,i,n){"use strict";i.a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"container_workspace_join_workspace"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"member"},name:{kind:"Name",value:"container_workspace_join"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"workspace_interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"joined"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"own"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_delete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_update"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_invite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_join"},arguments:[],directives:[]}]}}]}}]}}]}},xGki:function(e,i,n){"use strict";n.r(i);var a=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("article",{staticClass:"tui-discussionWithCommentCard",attrs:{"data-id":e.discussionId}},[n("DiscussionCard",{staticClass:"tui-discussionWithCommentCard__discussionCard",attrs:{"creator-fullname":e.creatorFullname,"creator-image-alt":e.creatorImageAlt,"creator-image-src":e.creatorImageSrc,"creator-id":e.creatorId,"discussion-content":e.discussionContent,"time-description":e.timeDescription,"total-comments":e.totalComments,"total-reactions":e.totalReactions,"discussion-id":e.discussionId,pinned:e.pinned,"react-able":e.reactAble,"delete-able":e.deleteAble,"update-able":e.updateAble,"comment-able":e.commentAble,reacted:e.reacted,edited:e.edited,"label-id":e.labelId},on:{"trigger-comment":e.triggerComment,"update-react-status":function(i){return e.$emit("update-discussion-react-status",i)},"update-discussion":function(i){return e.$emit("update-discussion",i)},"delete-discussion":function(i){return e.$emit("delete-discussion",i)}}}),e._v(" "),n("CommentBox",{directives:[{name:"show",rawName:"v-show",value:e.showComments||e.showCommentForm,expression:"showComments || showCommentForm"}],ref:"comment-box",staticClass:"tui-discussionWithCommentCard__comments",attrs:{"instance-id":e.discussionId,component:"container_workspace",area:"discussion",size:e.size,"show-reply-button-text":!0,"show-like-button-text":!0,"comment-able":e.commentAble,"submit-form-button-text":e.$str("comment","container_workspace"),"with-border":!0,"show-comment-form":e.showCommentForm,"first-cursor":e.firstCommentCursor,"comment-inline-head":!0},on:{"form-ready":e.setFormElement,"create-comment":function(i){return e.$emit("add-new-comment",e.discussionId)}}})],1)};a._withStripped=!0;var t=n("o0o1"),r=n.n(t),s=n("yXPU"),o=n.n(s),d=n("5gBL"),c=n.n(d),l=n("Z82V"),u=n.n(l),m=n("yAFK"),p={components:{DiscussionCard:c.a,CommentBox:u.a},props:{firstCommentCursor:{type:String,default:null},creatorImageSrc:{type:String,required:!0},creatorImageAlt:{type:String,default:""},creatorId:{type:[String,Number],required:!0},creatorFullname:{type:String,required:!0},discussionContent:{type:String,required:!0},timeDescription:{type:String,required:!0},pinned:Boolean,reportAble:Boolean,reacted:Boolean,totalComments:{type:[String,Number],required:!0},totalReactions:{type:[String,Number],required:!0},discussionId:{type:[String,Number],required:!0},reactAble:{type:Boolean,default:!0},updateAble:{type:Boolean,default:!0},deleteAble:{type:Boolean,default:!0},commentAble:{type:Boolean,default:!0},edited:Boolean,labelId:String},data:function(){return{showCommentForm:!1,size:m.SIZE_LARGE,formElement:null}},computed:{showComments:function(){return parseInt(this.totalComments,10)>0}},methods:{setFormElement:function(e){null===this.formElement&&(this.formElement=e)},triggerComment:function(){var e=this;return o()(r.a.mark((function i(){return r.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return e.showCommentForm=!0,i.next=3,e.$nextTick();case 3:e.formElement&&e.formElement.scrollIntoView();case 4:case"end":return i.stop()}}),i)})))()}}},k=n("KHd+"),v=function(e){e.options.__langStrings={container_workspace:["comment"]}},_=Object(k.a)(p,a,[],!1,null,null,null);"function"==typeof v&&v(_),_.options.__hasBlocks={script:!0,template:!0},_.options.__file="client/src/container_workspace/components/card/DiscussionWithCommentCard.vue";i.default=_.exports},xO7t:function(e,i){e.exports=tui.require("container_workspace/components/modal/WorkspaceFileViewModal")},yAFK:function(e,i){e.exports=tui.require("totara_comment/size")},yc2X:function(e,i){e.exports=tui.require("container_workspace/components/grid/SpaceCardsGrid")},yikf:function(e,i){e.exports=tui.require("tui/components/datatable/Table")},z16U:function(e,i){e.exports=tui.require("container_workspace/components/form/PostDiscussionForm")},zizw:function(e,i){e.exports=tui.require("container_workspace/components/head/WorkspaceFileHeader")},zkAu:function(e,i){e.exports=tui.require("container_workspace/components/filter/WorkspaceFilter")}});