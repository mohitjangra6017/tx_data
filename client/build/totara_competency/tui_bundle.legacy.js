!function(e){function t(t){for(var i,r,o=t[0],c=t[1],l=t[2],d=0,m=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&m.push(a[r][0]),a[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);for(u&&u(t);m.length;)m.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],i=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(i=!1)}i&&(s.splice(t--,1),e=r(r.s=n[0]))}return e}var i={},a={18:0},s=[];function r(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var o=window.webpackJsonp=window.webpackJsonp||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;s.push(["EP7N",0]),n()}({"+6yQ":function(e,t){e.exports=tui.require("totara_competency/components/profile/competency_list/Filters")},"+ROZ":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("FilterBar",{staticClass:"tui-competencyProfileListFilters",attrs:{title:this.$str("filter_competencies","totara_competency")},scopedSlots:e._u([{key:"filters-left",fn:function(t){var i=t.stacked;return[e.isForArchived?e._e():n("SelectFilter",{attrs:{label:e.$str("proficiency_status","totara_competency"),"show-label":!0,options:e.proficientOptions,stacked:i},on:{input:e.filtersUpdated},model:{value:e.filters.proficient,callback:function(t){e.$set(e.filters,"proficient",t)},expression:"filters.proficient"}}),e._v(" "),n("SearchFilter",{attrs:{label:e.$str("search"),stacked:i},on:{input:e.filtersUpdatedDebounced},model:{value:e.filters.search,callback:function(t){e.$set(e.filters,"search",t)},expression:"filters.search"}})]}},{key:"filters-right",fn:function(t){var i=t.stacked;return[n("SelectFilter",{attrs:{label:e.$str("sortby"),"show-label":!0,stacked:i,options:e.orderOptions},on:{input:e.orderUpdated},model:{value:e.order,callback:function(t){e.order=t},expression:"order"}})]}}]),model:{value:e.filters,callback:function(t){e.filters=t},expression:"filters"}})};i._withStripped=!0;var a=n("59Wj"),s=n.n(a),r=n("49h4"),o=n.n(r),c=n("FBvN"),l=n.n(c),u=n("TXEh"),d={components:{FilterBar:s.a,SelectFilter:o.a,SearchFilter:l.a},props:{isForArchived:{required:!0,type:Boolean},defaultFilterValues:{type:Object,default:function(){return{search:"",proficient:null}}},defaultOrder:{required:!1,type:String,default:"alphabetical"}},data:function(){return{filters:{search:"",proficient:null},order:"alphabetical"}},computed:{proficientOptions:function(){return[{id:null,label:this.$str("all","totara_competency")},{id:!0,label:this.$str("proficient","totara_competency")},{id:!1,label:this.$str("not_proficient","totara_competency")}]},orderOptions:function(){return[{id:"alphabetical",label:this.$str("sort_alphabetical","totara_competency")},!this.isForArchived&&{id:"recently-assigned",label:this.$str("sort_recently_assigned","totara_competency")},this.isForArchived&&{id:"recently-archived",label:this.$str("sort_recently_archived","totara_competency")}].filter(Boolean)}},watch:{defaultFilters:function(e){this.filters.search=e.search,this.filters.proficient=e.proficient},defaultOrder:function(e){this.order=e}},created:function(){this.filtersUpdatedDebounced=Object(u.debounce)(this.filtersUpdated,500)},mounted:function(){this.filters.search=this.defaultFilterValues.search,this.filters.proficient=this.defaultFilterValues.proficient,this.order=this.defaultOrder},methods:{filtersUpdated:function(){this.$emit("filters-updated",this.filters)},orderUpdated:function(){this.$emit("order-updated",this.order)}}},m=n("KHd+"),p=function(e){e.options.__langStrings={totara_competency:["proficient","not_proficient","all","sort_alphabetical","sort_recently_archived","sort_recently_assigned","proficiency_status","filter_competencies"],moodle:["search","sortby"],admin:["filters"]}},_=Object(m.a)(d,i,[],!1,null,null,null);"function"==typeof p&&p(_),_.options.__hasBlocks={script:!0,template:!0},_.options.__file="client/src/totara_competency/components/profile/competency_list/Filters.vue";t.default=_.exports},"+TNE":function(e,t){e.exports=tui.require("totara_competency/components/details/ArchivedAssignments")},"+W9U":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Table",{attrs:{data:e.competencies},scopedSlots:e._u([{key:"header-row",fn:function(){return[n("HeaderCell",{attrs:{size:"10"}},[e._v("\n      "+e._s(e.$str("header_competency","totara_competency"))+"\n    ")]),e._v(" "),n("HeaderCell",{attrs:{size:"2",align:"center"}},[e._v("\n      "+e._s(e.$str("proficient","totara_competency"))+"\n    ")]),e._v(" "),n("HeaderCell",{attrs:{size:"3"}},[e._v("\n      "+e._s(e.$str("achievement_level","totara_competency"))+"\n    ")])]},proxy:!0},{key:"row",fn:function(t){var i=t.row;return[n("Cell",{attrs:{size:"10","column-header":e.$str("header_competency","totara_competency")}},[n("a",{attrs:{href:e.competencyDetailsLink(i)}},[e._v(e._s(i.competency.fullname))])]),e._v(" "),n("Cell",{attrs:{size:"2",align:"center","column-header":e.$str("proficient","totara_competency")}},[i.items[0].my_value&&i.items[0].my_value.proficient?n("CheckIcon",{attrs:{size:"200",alt:e.$str("yes")}}):n("span",[n("span",{attrs:{"aria-hidden":!0}},[e._v("-")]),e._v(" "),n("span",{staticClass:"sr-only"},[e._v(e._s(e.$str("no")))])])],1),e._v(" "),n("Cell",{attrs:{size:"3","column-header":e.$str("achievement_level","totara_competency")}},[i.items[0].my_value?n("MyRatingCell",{attrs:{value:i.items[0].my_value,scales:e.scales}}):e._e()],1)]}}])})};i._withStripped=!0;var a=n("yikf"),s=n.n(a),r=n("5qAA"),o=n.n(r),c=n("KGot"),l=n.n(c),u=n("4jJM"),d=n.n(u),m=n("8n92"),p=n.n(m),_={components:{Table:s.a,HeaderCell:o.a,Cell:l.a,CheckIcon:d.a,MyRatingCell:p.a},props:{competencies:{required:!0,type:Array},baseUrl:{required:!0,type:String},userId:{required:!0,type:Number},scales:{required:!0,type:Array}},methods:{competencyDetailsLink:function(e){var t={competency_id:e.competency.id};return this.isMine||(t.user_id=this.userId),this.$url("".concat(this.baseUrl,"/details/index.php"),t)}}},v=n("KHd+"),f=function(e){e.options.__langStrings={moodle:["yes","no"],totara_competency:["header_competency","achievement_level","proficient"]}},y=Object(v.a)(_,i,[],!1,null,null,null);"function"==typeof f&&f(y),y.options.__hasBlocks={script:!0,template:!0},y.options.__file="client/src/totara_competency/components/profile/competency_list/CurrentList.vue";t.default=y.exports},"+nXq":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tui-competencySummaryAchievementConfiguration"},[n("div",{staticClass:"tui-competencySummary__sectionHeader"},[n("h3",{staticClass:"tui-competencySummary__sectionHeader-title"},[e._v("\n      "+e._s(e.$str("achievement_paths","totara_competency"))+"\n    ")]),e._v(" "),n("a",{staticClass:"tui-competencySummary__sectionHeader-edit",attrs:{href:e.editUrl,title:e.$str("edit","moodle")}},[n("EditIcon",{attrs:{size:200,alt:e.$str("edit","moodle")}})],1)]),e._v(" "),!e.$apollo.loading&&e.hasPathways?[n("div",{staticClass:"tui-competencySummaryAchievementConfiguration__aggregation"},[n("span",{staticClass:"tui-competencySummaryAchievementConfiguration__aggregation-label"},[e._v("\n        "+e._s(e.$str("overall_rating_calc","totara_competency"))+"\n      ")]),e._v("\n\n      "+e._s(e.achievementConfiguration.overall_aggregation.title)+"\n    ")]),e._v(" "),e._l(e.pathGroups,(function(t,i){return n("Card",{key:"pathGroup"+i},[n("div",{staticClass:"tui-competencySummaryAchievementConfiguration__pathGroup"},e._l(t.scaleValues,(function(t,i){return n("Grid",{key:"scaleValue"+i,staticClass:"tui-competencySummaryAchievementConfiguration__scaleValue",attrs:{"stack-at":700}},[n("GridItem",{attrs:{units:2}},[n("h4",{staticClass:"tui-competencySummaryAchievementConfiguration__scaleValue-header"},[e._v("\n              "+e._s(t.value)+"\n            ")])]),e._v(" "),n("GridItem",{attrs:{units:10}},e._l(t.paths,(function(t,i){return n("div",{key:t.id},[i?n("Separator",{staticClass:"tui-competencySummaryAchievementConfiguration__scaleValue-or"},[n("OrBox")],1):e._e(),e._v(" "),n("Criteria",{attrs:{path:t}})],1)})),0)],1)})),1)])}))]:e.$apollo.loading?e._e():n("div",{staticClass:"tui-competencySummaryAchievementConfiguration__noPaths"},[e._v("\n    "+e._s(e.$str("no_paths","totara_competency"))+"\n  ")])],2)};i._withStripped=!0;var a=n("jJ8l"),s=n.n(a),r=n("E0Ja"),o=n.n(r),c=n("gfos"),l=n.n(c),u=n("NAOU"),d=n.n(u),m=n("D9If"),p=n.n(m),_=n("k7/G"),v=n.n(_),f=n("BxDI"),y=n.n(f),g={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_competency_achievement_criteria"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"competency_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"summarized"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totara_competency_achievement_criteria"},arguments:[{kind:"Argument",name:{kind:"Name",value:"competency_id"},value:{kind:"Variable",name:{kind:"Name",value:"competency_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"competency_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overall_aggregation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"aggregation_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"paths"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pathway_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instance_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sortorder"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"classification"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scale_value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"criteria_summary"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"summarized"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"item_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"item_aggregation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]},h={components:{Card:s.a,Criteria:o.a,EditIcon:l.a,Grid:d.a,GridItem:p.a,OrBox:v.a,Separator:y.a},props:{competencyId:{type:Number}},data:function(){return{editUrl:"",paths:[]}},computed:{hasPathways:function(){return this.achievementConfiguration.paths&&this.achievementConfiguration.paths.length>0},pathGroups:function(){var e=this,t=[],n=null,i=this.paths,a=[],s=function(s){var r=Object.assign({},i[s]);if(r.multiCriteria=r.criteria_summary.length>1,"MULTIVALUE"===r.classification)n?t.push({key:"group-"+s,scaleValues:[{value:e.$str("any_scale_value","totara_competency"),paths:[r]}]}):a.push({key:"group-"+s,scaleValues:[{value:e.$str("any_scale_value","totara_competency"),paths:[r]}]});else{n||(n={key:"group-"+s,scaleValues:[]});var o=n.scaleValues.findIndex((function(e){return e.value===r.scale_value}));-1===o&&(o=n.scaleValues.length,n.scaleValues.push({value:r.scale_value,paths:[]})),n.scaleValues[o].paths.push(r)}};for(var r in i)s(r);return n?[].concat(a,n,t):a}},apollo:{achievementConfiguration:{query:g,variables:function(){return{competency_id:this.competencyId,summarized:!0}},update:function(e){var t=e.totara_competency_achievement_criteria;return this.editUrl=this.$url("/totara/competency/competency_edit.php",{s:"achievement_paths",id:this.competencyId}),this.paths=t.paths,t}}}},k=n("KHd+"),b=function(e){e.options.__langStrings={moodle:["edit"],totara_competency:["achievement_paths","overall_rating_calc","any_scale_value","no_paths"]}},N=Object(k.a)(h,i,[],!1,null,null,null);"function"==typeof b&&b(N),N.options.__hasBlocks={script:!0,template:!0},N.options.__file="client/src/totara_competency/components/summary/AchievementConfiguration.vue";t.default=N.exports},"/X/1":function(e,t){e.exports=tui.require("tui/components/toggle/ToggleSet")},"19vc":function(e,t){e.exports=tui.require("tui/components/icons/common/Clear")},"1LXY":function(e,t){e.exports=tui.require("totara_competency/components/summary/LinkedCourses")},"1i2V":function(e,t){e.exports=tui.require("tui/components/tabs/Tab")},"2HWE":function(e,t){e.exports=tui.require("tui/components/icons/common/AddUser")},"2QNm":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tui-competencyAchievements"},[n("Loader",{attrs:{loading:e.loading}},[n("h3",{staticClass:"tui-competencyAchievements__title"},[e._v("\n      "+e._s(e.$str("ways_to_achieve_proficiency","totara_competency"))+"\n    ")]),e._v(" "),e.achievements.length?n("Tabs",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],key:e.assignmentId,staticClass:"tui-competencyAchievements__tabs",attrs:{"transparent-tabs":!0}},e._l(e.achievements,(function(t,i){return n("Tab",{key:i,attrs:{id:i,"always-render":!0,name:t.props.name}},[n(t.component,e._b({tag:"component",on:{loaded:e.itemLoaded}},"component",t.props,!1))],1)})),1):n("div",{staticClass:"tui-competencyAchievements__empty"},[e._v("\n      "+e._s(e.$str("no_achievement_criteria","totara_competency"))+"\n    ")])],1)],1)};i._withStripped=!0;var a=n("AdjL"),s=n.n(a),r=n("1i2V"),o=n.n(r),c=n("txsu"),l=n.n(c),u={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_competency_achievement_paths"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"assignment_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"user_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totara_competency_achievement_paths"},arguments:[{kind:"Argument",name:{kind:"Name",value:"assignment_id"},value:{kind:"Variable",name:{kind:"Name",value:"assignment_id"}}},{kind:"Argument",name:{kind:"Name",value:"user_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"class"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]},d={components:{Loader:s.a,Tab:o.a,Tabs:l.a},props:{assignment:{required:!0,type:Object},userId:{required:!0,type:Number}},data:function(){return{achievements:[],itemsLoaded:null,loading:!0}},apollo:{achievements:{query:u,context:{batch:!0},variables:function(){return{assignment_id:this.assignmentId,user_id:this.userId}},update:function(e){var t=this,n=e.totara_competency_achievement_paths,i=[];return n.forEach((function(e){var n=t.capitalizeFirstLetter(e.class),a="totara_competency/components/achievements/".concat(n);i.push({component:tui.asyncComponent(a),props:{userId:t.userId,assignmentId:t.assignmentId,type:e.type,name:e.name}})})),0===i.length&&(this.loading=!1),i}}},computed:{assignmentId:function(){return parseInt(this.assignment.id)},numberOfItems:function(){return this.achievements.length}},watch:{itemsLoaded:function(e){e===this.numberOfItems&&(this.loading=!1)},assignmentId:function(){this.loading=!1}},methods:{capitalizeFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.toLowerCase().slice(1)},itemLoaded:function(){this.itemsLoaded+=1}}},m=n("KHd+"),p=function(e){e.options.__langStrings={totara_competency:["no_achievement_criteria","ways_to_achieve_proficiency"]}},_=Object(m.a)(d,i,[],!1,null,null,null);"function"==typeof p&&p(_),_.options.__hasBlocks={script:!0,template:!0},_.options.__file="client/src/totara_competency/components/achievements/Achievements.vue";t.default=_.exports},"2zrd":function(e,t){e.exports=tui.require("tui/components/progresstracker/ProgressTracker")},"3fD/":function(e,t){e.exports=tui.require("tui_charts/components/ChartJs")},"3kcf":function(e,t){e.exports=tui.require("tui/components/filters/MultiSelectFilter")},"3s/G":function(e,t){e.exports=tui.require("totara_competency/components/summary/AchievementConfiguration")},"3wZ/":function(e,t){e.exports=tui.require("tui/components/icons/common/Warning")},"49h4":function(e,t){e.exports=tui.require("tui/components/filters/SelectFilter")},"4jJM":function(e,t){e.exports=tui.require("tui/components/icons/common/CheckSuccess")},"51bi":function(e,t){e.exports=tui.require("totara_competency/components/ProgressAssignmentFilters")},"554a":function(e,t){e.exports=tui.require("tui/components/filters/FilterSidePanel")},"59Wj":function(e,t){e.exports=tui.require("tui/components/filters/FilterBar")},"5h9J":function(e,t){e.exports=tui.require("tui/components/buttons/ButtonIcon")},"5qAA":function(e,t){e.exports=tui.require("tui/components/datatable/HeaderCell")},"76O+":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tui-competencyOverviewLinkedCourses"},[n("div",{staticClass:"tui-competencySummary__sectionHeader"},[n("h3",{staticClass:"tui-competencySummary__sectionHeader-title"},[e._v("\n      "+e._s(e.$str("linked_courses","totara_competency"))+"\n    ")]),e._v(" "),n("a",{staticClass:"tui-competencySummary__sectionHeader-edit",attrs:{href:e.editUrl,title:e.$str("edit","moodle")}},[n("EditIcon",{attrs:{size:200,alt:e.$str("edit","moodle")}})],1)]),e._v(" "),n("Table",{attrs:{data:e.data,"border-bottom-hidden":!0,"border-top-hidden":!0,"border-separator-hidden":!0,"hover-off":!0,"no-items-text":e.$str("no_courses_linked_yet","totara_competency")},scopedSlots:e._u([{key:"row",fn:function(t){var i=t.row;return[n("Cell",{attrs:{size:"6",valign:"center"}},[n("a",{attrs:{href:e.courseUrl(i.course_id)}},[e._v("\n          "+e._s(i.fullname)+"\n        ")])]),e._v(" "),n("Cell",{attrs:{size:"10",valign:"center"}},[n("span",[e._v("\n          "+e._s(e.$str(i.is_mandatory?"mandatory":"optional","totara_competency"))+"\n        ")])])]}}])})],1)};i._withStripped=!0;var a=n("KGot"),s=n.n(a),r=n("gfos"),o=n.n(r),c=n("yikf"),l=n.n(c),u={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_competency_linked_courses"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"competency_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totara_competency_linked_courses"},arguments:[{kind:"Argument",name:{kind:"Name",value:"competency_id"},value:{kind:"Variable",name:{kind:"Name",value:"competency_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"course_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_mandatory"},arguments:[],directives:[]}]}}]}}]},d={components:{Cell:s.a,EditIcon:o.a,Table:l.a},props:{competencyId:{required:!0,type:Number}},data:function(){return{data:[],editUrl:""}},apollo:{data:{query:u,variables:function(){return{competency_id:this.competencyId}},update:function(e){var t=e.totara_competency_linked_courses;return this.editUrl=this.$url("/totara/competency/competency_edit.php",{s:"linkedcourses",id:this.competencyId}),t}}},methods:{courseUrl:function(e){return this.$url("/course/view.php",{id:e})}}},m=n("KHd+"),p=function(e){e.options.__langStrings={moodle:["edit"],totara_competency:["linked_courses","mandatory","no_courses_linked_yet","optional"]}},_=Object(m.a)(d,i,[],!1,null,null,null);"function"==typeof p&&p(_),_.options.__hasBlocks={script:!0,template:!0},_.options.__file="client/src/totara_competency/components/summary/LinkedCourses.vue";t.default=_.exports},"7OoD":function(e,t){e.exports=tui.require("totara_competency/components/details/ActivityLogTable")},"85JN":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",{staticClass:"tui-competencySelfAssignment__header"},[e._v("\n    "+e._s(e.$str("competencies","totara_competency",e.totalCompetencyCount))+"\n  ")]),e._v(" "),n("SelectTable",{attrs:{value:e.value,data:e.competencies,"expandable-rows":!0,"select-all-enabled":!0},on:{input:function(t){return e.$emit("input",t)}},scopedSlots:e._u([{key:"header-row",fn:function(){return[n("ExpandCell",{attrs:{header:!0}}),e._v(" "),n("HeaderCell",{attrs:{size:"4"}},[e._v("\n        "+e._s(e.$str("header_competency","totara_competency"))+"\n      ")]),e._v(" "),n("HeaderCell",{attrs:{size:"4"}},[e._v("\n        "+e._s(e.$str("header_assignment_status","totara_competency"))+"\n      ")]),e._v(" "),n("HeaderCell",{attrs:{size:"4"}},[e._v("\n        "+e._s(e.$str("header_assignment_reasons","totara_competency"))+"\n      ")])]},proxy:!0},{key:"row",fn:function(t){var i=t.row,a=t.expand,s=t.expandState;return[n("ExpandCell",{attrs:{empty:!i.description,"expand-state":s},on:{click:function(e){return a()}}}),e._v(" "),n("Cell",{attrs:{size:"4","column-header":e.$str("header_competency","totara_competency")}},[e._v("\n        "+e._s(i.display_name)+"\n      ")]),e._v(" "),n("Cell",{attrs:{size:"4","column-header":e.$str("header_assignment_status","totara_competency")}},[e._v("\n        "+e._s(e.getAssignmentStatus(i))+"\n      ")]),e._v(" "),n("Cell",{attrs:{size:"4","column-header":i.user_assignments.length>0?e.$str("header_assignment_reasons","totara_competency"):""}},[n("ul",{staticClass:"tui-competencySelfAssignment__table-reasons"},e._l(i.user_assignments,(function(t){return n("li",{key:t.id},[e._v("\n            "+e._s(t.reason_assigned)+"\n          ")])})),0)])]}},{key:"expand-content",fn:function(t){var i=t.row;return[n("div",{staticClass:"tui-competencySelfAssignment__tableExpand"},[n("h4",{staticClass:"tui-competencySelfAssignment__tableExpand-header"},[e._v("\n          "+e._s(i.display_name)+"\n        ")]),e._v(" "),n("h5",{staticClass:"tui-competencySelfAssignment__tableExpand-subHeader"},[e._v("\n          "+e._s(e.$str("description","totara_competency"))+"\n        ")]),e._v(" "),n("div",{domProps:{innerHTML:e._s(i.description)}})])]}}])})],1)};i._withStripped=!0;var a=n("KGot"),s=n.n(a),r=n("rsf9"),o=n.n(r),c=n("5qAA"),l=n.n(c),u=n("mURQ"),d=n.n(u),m={components:{Cell:s.a,ExpandCell:o.a,HeaderCell:l.a,SelectTable:d.a},props:{value:{type:Array,required:!0},competencies:{type:Array,required:!0},totalCompetencyCount:{type:Number,required:!0}},data:function(){return{page:0}},methods:{getAssignmentStatus:function(e){return this.isAssigned(e)?this.$str("currently_assigned","totara_competency"):this.$str("not_assigned","totara_competency")},isAssigned:function(e){return Boolean(e.user_assignments)&&e.user_assignments.length>0}}},p=n("KHd+"),_=function(e){e.options.__langStrings={totara_competency:["all","competencies","currently_assigned","description","competencies","header_competency","header_assignment_status","header_assignment_reasons","not_assigned"]}},v=Object(p.a)(m,i,[],!1,null,null,null);"function"==typeof _&&_(v),v.options.__hasBlocks={script:!0,template:!0},v.options.__file="client/src/totara_competency/components/user_assignment/SelectionTable.vue";t.default=v.exports},"8cak":function(e,t){e.exports=tui.require("tui/components/progresstracker/ProgressTrackerCircle")},"8n92":function(e,t){e.exports=tui.require("totara_competency/components/profile/MyRatingCell")},"8xSY":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tui-competencyRatingScaleOverview"},[n("p",{staticClass:"tui-competencyRatingScaleOverview__title",attrs:{id:e.$id("rating-scale-title")}},[e._v("\n    "+e._s(e.$str("rating_scale","totara_competency"))+"\n  ")]),e._v(" "),n("ol",{staticClass:"tui-competencyRatingScaleOverview__list",attrs:{"aria-labelledby":e.$id("rating-scale-title")}},e._l(e.scaleValues,(function(t){return n("li",{key:t.id,staticClass:"tui-competencyRatingScaleOverview__list-item"},[n("div",{staticClass:"tui-competencyRatingScaleOverview__proficientStatus"},[e.isMinProficientValue(t)?n("CheckSuccess",{attrs:{size:"300"}}):e._e()],1),e._v(" "),n("div",{staticClass:"tui-competencyRatingScaleOverview__scaleValue"},[n("p",{staticClass:"tui-competencyRatingScaleOverview__scaleValue-name"},[e._v("\n          "+e._s(t.name)+"\n        ")]),e._v(" "),e.showDescription(t.description)?n("p",{staticClass:"tui-competencyRatingScaleOverview__scaleValue-description",domProps:{innerHTML:e._s(t.description)}}):e._e(),e._v(" "),n("span",{staticClass:"sr-only"},[e._v("\n          "+e._s(t.proficient?e.$str("is_proficient_value","totara_competency"):e.$str("is_not_proficient_value","totara_competency"))+"\n        ")])])])})),0)])};i._withStripped=!0;var a=n("4jJM"),s={components:{CheckSuccess:n.n(a).a},props:{scale:{required:!0,type:Object},showDescriptions:{type:Boolean,default:!1},reverseValues:{type:Boolean,default:!1}},computed:{scaleValues:function(){return this.reverseValues?this.scale.values.slice(0).reverse():this.scale.values},minProficientValue:function(){return this.scaleValues.slice(0).reverse().find((function(e){return e.proficient}))}},methods:{showDescription:function(e){return this.showDescriptions&&null!=e&&e.length>0},isMinProficientValue:function(e){return!!this.minProficientValue&&this.minProficientValue.id===e.id}}},r=n("KHd+"),o=function(e){e.options.__langStrings={totara_competency:["is_not_proficient_value","is_proficient_value","rating_scale"]}},c=Object(r.a)(s,i,[],!1,null,null,null);"function"==typeof o&&o(c),c.options.__hasBlocks={script:!0,template:!0},c.options.__file="client/src/totara_competency/components/RatingScaleOverview.vue";t.default=c.exports},"9G+f":function(e,t){e.exports=tui.require("tui/components/popover/Popover")},A9he:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Responsive",{attrs:{breakpoints:[{name:"small",boundaries:[0,1330]},{name:null,boundaries:[1331,1331]}]},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.currentBoundaryName;return[e.data.items&&e.data.items.length>0?n("Grid",{attrs:{"stack-at":1329}},e._l(e.data.items,(function(t,a){return n("GridItem",{key:a+t.name+t.overall_progress,attrs:{units:6}},[n("div",{staticClass:"tui-competencyCharts__chart",class:{"tui-competencyCharts__chart--center":"small"==i}},[n("IndividualAssignmentProgress",{attrs:{"assignment-progress":t,"user-id":e.userId,"is-current-user":e.isCurrentUser}})],1)])})),1):e._e()]}}])})};i._withStripped=!0;var a=n("NAOU"),s=n.n(a),r=n("D9If"),o=n.n(r),c=n("dtfu"),l=n.n(c),u=n("yuC0"),d=n.n(u),m={components:{Grid:s.a,GridItem:o.a,Responsive:l.a,IndividualAssignmentProgress:d.a},props:{data:{required:!0,type:Object},userId:{type:Number,required:!0},isCurrentUser:{type:Boolean,required:!0}}},p=n("KHd+"),_=Object(p.a)(m,i,[],!1,null,null,null);_.options.__hasBlocks={script:!0,template:!0},_.options.__file="client/src/totara_competency/components/profile/CompetencyCharts.vue";t.default=_.exports},AENL:function(e,t){e.exports=tui.require("totara_competency/components/user_assignment/SelectionTable")},AFyC:function(e,t){e.exports=tui.require("totara_competency/components/AssignmentProgress")},AdjL:function(e,t){e.exports=tui.require("tui/components/loader/Loader")},"Af/e":function(e,t){e.exports=tui.require("tui/components/icons/common/Archive")},BxDI:function(e,t){e.exports=tui.require("tui/components/decor/Separator")},"C+/B":function(e,t){e.exports=tui.require("tui/components/modal/ConfirmationModal")},C4bi:function(e,t){e.exports=tui.require("totara_competency/components/details/ProficientStatus")},D2rf:function(e,t){e.exports=tui.require("tui/components/icons/common/BarChart")},D9If:function(e,t){e.exports=tui.require("tui/components/grid/GridItem")},E0Ja:function(e,t){e.exports=tui.require("totara_competency/components/summary/AchievementConfigurationCriteria")},EP7N:function(e,t,n){!function(){"use strict";"undefined"!=typeof tui&&tui._bundle.isLoaded("totara_competency")?console.warn('[tui bundle] The bundle "totara_competency" is already loaded, skipping initialisation.'):(tui._bundle.register("totara_competency"),tui._bundle.addModulesFromContext("totara_competency/components",n("LcFQ")),tui._bundle.addModulesFromContext("totara_competency/pages",n("xu+/")))}()},FBvN:function(e,t){e.exports=tui.require("tui/components/filters/SearchFilter")},G2xx:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tui-competencyDetailArchivedAssignments"},[t("h4",{staticClass:"tui-competencyDetailArchivedAssignments__title"},[this._v("\n    "+this._s(this.$str("archived_assignments","totara_competency"))+"\n  ")]),this._v(" "),t("Loader",{attrs:{loading:this.$apollo.loading}},[t("ArchivedAssignmentsTable",{attrs:{assignments:this.archivedAssignmentList}})],1)],1)};i._withStripped=!0;var a=n("Ygam"),s=n.n(a),r=n("AdjL"),o=n.n(r),c=n("gqVV"),l={components:{ArchivedAssignmentsTable:s.a,Loader:o.a},props:{userId:{required:!0,type:Number},competencyId:{required:!0,type:Number}},data:function(){return{data:{competency:{},items:[]}}},apollo:{data:{query:c.a,variables:function(){return{user_id:this.userId,competency_id:this.competencyId}},update:function(e){var t=e.totara_competency_profile_competency_details;return{competency:t.competency,items:t.items}}}},computed:{archivedAssignmentList:function(){var e=[];return e=this.data.items.filter((function(e){return e.assignment.archived_at||"legacy"===e.assignment.type})).map((function(e){return{name:e.assignment.progress_name,archivedAt:e.assignment.archived_at,legacy:"legacy"===e.assignment.type,proficient:e.my_value.proficient}})),e}}},u=n("KHd+"),d=function(e){e.options.__langStrings={totara_competency:["archived_assignments"]}},m=Object(u.a)(l,i,[],!1,null,null,null);"function"==typeof d&&d(m),m.options.__hasBlocks={script:!0,template:!0},m.options.__file="client/src/totara_competency/components/details/ArchivedAssignments.vue";t.default=m.exports},HZ23:function(e,t){e.exports=tui.require("tui_charts/components/PercentageDoughnut")},IqB1:function(e,t){e.exports=tui.require("tui/components/collapsible/Collapsible")},"K+r5":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Table",{attrs:{data:e.groupedCompetencyData,"group-mode":!0,archived:!0},scopedSlots:e._u([{key:"header-row",fn:function(){return[n("HeaderCell",{attrs:{size:"3"}},[e._v("\n      "+e._s(e.$str("header_competency","totara_competency"))+"\n    ")]),e._v(" "),n("HeaderCell",{attrs:{size:"2"}},[e._v("\n      "+e._s(e.$str("header_reason_assigned","totara_competency"))+"\n    ")]),e._v(" "),n("HeaderCell",{attrs:{size:"2"}},[e._v("\n      "+e._s(e.$str("header_archived_date","totara_competency"))+"\n    ")]),e._v(" "),n("HeaderCell",{attrs:{size:"2",align:"center"}},[e._v("\n      "+e._s(e.$str("proficient","totara_competency"))+"\n    ")]),e._v(" "),n("HeaderCell",{attrs:{size:"2"}},[e._v("\n      "+e._s(e.$str("achievement_level","totara_competency"))+"\n    ")])]},proxy:!0},{key:"row",fn:function(t){var i=t.row,a=t.firstInGroup;return[n("Cell",{attrs:{size:"3","column-header":e.$str("header_competency","totara_competency"),"repeated-header":!a}},[n("a",{attrs:{href:e.competencyDetailsLink(i)}},[e._v(e._s(i.competency.fullname))])]),e._v(" "),n("Cell",{attrs:{size:"2","column-header":e.$str("header_reason_assigned","totara_competency")}},[e._v("\n      "+e._s(i.assignment&&i.assignment.progress_name)+"\n    ")]),e._v(" "),n("Cell",{attrs:{size:"2","column-header":e.$str("header_archived_date","totara_competency")}},[e._v("\n      "+e._s(i.assignment&&i.assignment.archived_at)+"\n    ")]),e._v(" "),n("Cell",{attrs:{size:"2",align:"center","column-header":e.$str("proficient","totara_competency")}},[i.proficient?n("CheckIcon",{attrs:{size:"200",alt:e.$str("yes")}}):n("span",[n("span",{attrs:{"aria-hidden":!0}},[e._v("-")]),e._v(" "),n("span",{staticClass:"sr-only"},[e._v(e._s(e.$str("no")))])])],1),e._v(" "),n("Cell",{attrs:{size:"2","column-header":e.$str("achievement_level","totara_competency")}},[i.my_value?n("MyRatingCell",{attrs:{value:i.my_value,scales:e.scales}}):e._e()],1)]}}])})};i._withStripped=!0;var a=n("yikf"),s=n.n(a),r=n("5qAA"),o=n.n(r),c=n("KGot"),l=n.n(c),u=n("8n92"),d=n.n(u),m={components:{Table:s.a,HeaderCell:o.a,Cell:l.a,MyRatingCell:d.a},props:{competencies:{required:!0,type:Array},baseUrl:{required:!0,type:String},userId:{required:!0,type:Number},scales:{required:!0,type:Array}},computed:{groupedCompetencyData:function(){return this.competencies.map((function(e){return{id:e.competency.id,rows:e.items.map((function(t){return Object.assign({competency:e.competency},t)}))}}))}},methods:{competencyDetailsLink:function(e){var t={competency_id:e.competency.id};return this.isMine||(t.user_id=this.userId),this.$url("".concat(this.baseUrl,"/details/index.php"),t)}}},p=n("KHd+"),_=function(e){e.options.__langStrings={moodle:["yes","no"],totara_competency:["header_competency","header_reason_assigned","header_archived_date","proficient","achievement_level"]}},v=Object(p.a)(m,i,[],!1,null,null,null);"function"==typeof _&&_(v),v.options.__hasBlocks={script:!0,template:!0},v.options.__file="client/src/totara_competency/components/profile/competency_list/ArchivedList.vue";t.default=v.exports},KGN9:function(e,t){e.exports=tui.require("tui/components/icons/common/List")},KGot:function(e,t){e.exports=tui.require("tui/components/datatable/Cell")},L1iN:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tui-competencyDetailAssignment"},[n("div",{staticClass:"tui-competencyDetailAssignment__bar"},[n("Grid",{attrs:{"stack-at":700}},[n("GridItem",{attrs:{units:4}},[n("SelectFilter",{staticClass:"tui-competencyDetailAssignment__bar-filter",attrs:{label:e.$str("assignment","totara_competency"),name:"select_assignment",large:!0,options:e.activeAssignmentList},on:{input:e.selectedAssignmentChange},model:{value:e.selectedAssignment,callback:function(t){e.selectedAssignment=t},expression:"selectedAssignment"}})],1),e._v(" "),n("GridItem",{class:"tui-competencyDetailAssignment__level",attrs:{units:4}},[n("div",{staticClass:"tui-competencyDetailAssignment__level-wrap",class:"tui-competencyDetailAssignment__level-wrap-"+e.selectedAssignmentProficiencyState},[n("p",{staticClass:"tui-competencyDetailAssignment__level-header"},[e._v("\n            "+e._s(e.$str("achievement_level","totara_competency"))+"\n            ")]),e._v(" "),n("div",{staticClass:"tui-competencyDetailAssignment__level-text"},[e._v("\n            "+e._s(e.selectedAssignmentProficiency.name)+"\n          ")])])]),e._v(" "),n("GridItem",{class:"tui-competencyDetailAssignment__status",attrs:{units:4}},[n("ProgressTrackerCircle",{attrs:{state:e.selectedAssignmentProficiencyState,target:"complete"!==e.selectedAssignmentProficiencyState}}),e._v(" "),n("span",{staticClass:"tui-competencyDetailAssignment__status-text",class:{"tui-competencyDetailAssignment__status-text-complete":"complete"===e.selectedAssignmentProficiencyState}},[e._v("\n          "+e._s(e.$str(e.selectedAssignmentProficiency.proficient?"proficient":"not_proficient","totara_competency"))+"\n        ")])],1)],1),e._v(" "),n("ConfirmationModal",{attrs:{title:e.$str("action_archive_user_modal_header","totara_competency"),open:e.showArchiveConfirmation},on:{confirm:e.makeArchiveAssignmentMutation,cancel:function(t){e.showArchiveConfirmation=!1}}},[n("p",[e._v("\n        "+e._s(e.$str("action_archive_user_assignment_modal","totara_competency"))+"\n      ")]),e._v(" "),n("p",[e._v("\n        "+e._s(e.$str("confirm_generic","totara_competency"))+"\n      ")])])],1),e._v(" "),n("div",{staticClass:"tui-competencyDetailAssignment__actions"},[e.showCanArchiveButton?n("ButtonIcon",{attrs:{"aria-label":"",styleclass:{small:!0},text:e.$str("action_archive_this","totara_competency")},on:{click:e.showArchiveConfirmDialog}},[n("ArchiveIcon")],1):e._e()],1)])};i._withStripped=!0;var a=n("Af/e"),s=n.n(a),r=n("5h9J"),o=n.n(r),c=n("C+/B"),l=n.n(c),u=n("NAOU"),d=n.n(u),m=n("D9If"),p=n.n(m),_=n("8cak"),v=n.n(_),f=n("49h4"),y=n.n(f),g=n("vyVp"),h={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"totara_competency_archive_user_assignment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"assignment_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totara_competency_archive_user_assignment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"assignment_id"},value:{kind:"Variable",name:{kind:"Name",value:"assignment_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"archived_assignment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]},k=n("gqVV"),b={components:{ArchiveIcon:s.a,ButtonIcon:o.a,ConfirmationModal:l.a,Grid:d.a,GridItem:p.a,ProgressTrackerCircle:v.a,SelectFilter:y.a},props:{activeAssignmentList:{required:!0,type:Array},selectedAssignmentProficiency:{type:Object},value:{type:Number},competencyId:{required:!0,type:Number},userId:{required:!0,type:Number}},data:function(){return{selectedAssignment:this.value,showArchiveConfirmation:!1}},computed:{selectedAssignmentProficiencyState:function(){return this.selectedAssignmentProficiency.id&&this.selectedAssignmentProficiency.proficient?"achieved":this.selectedAssignmentProficiency.id?"complete":"pending"},showCanArchiveButton:function(){return this.activeAssignmentList[this.selectedAssignment]&&this.activeAssignmentList[this.selectedAssignment].can_archive}},methods:{selectedAssignmentChange:function(e){this.$emit("input",e)},showArchiveConfirmDialog:function(){this.showArchiveConfirmation=!0},makeArchiveAssignmentMutation:function(){var e=this,t=this.activeAssignmentList.find((function(t){return t.id===e.value})).assignment_id;this.$apollo.mutate({mutation:h,variables:{assignment_id:t},refetchQueries:[{query:k.a,variables:{user_id:this.userId,competency_id:this.competencyId}}],refetchAll:!1}).then((function(){Object(g.notify)({type:"success",message:e.$str("event_assignment_archived","totara_competency")}),e.selectedAssignment=0})).catch((function(t){var n=t&&t.networkError&&t.networkError.result&&t.networkError.result.error,i=e.$str("error_generic_mutation","totara_competency");n&&(i=t.networkError.result.error),Object(g.notify)({type:"error",message:i})})).finally((function(){e.showArchiveConfirmation=!1}))}}},N=n("KHd+"),S=function(e){e.options.__langStrings={totara_competency:["achievement_level","action_archive_this","action_archive_user_modal_header","action_archive_user_assignment_modal","assignment","confirm_generic","error_generic_mutation","event_assignment_archived","more_information","not_proficient","proficient"]}},A=Object(N.a)(b,i,[],!1,null,null,null);"function"==typeof S&&S(A),A.options.__hasBlocks={script:!0,template:!0},A.options.__file="client/src/totara_competency/components/details/Assignment.vue";t.default=A.exports},Lany:function(e,t){e.exports=tui.require("totara_competency/components/details/Assignment")},LcFQ:function(e,t,n){var i={"./AssignmentProgress":"hp4n","./AssignmentProgress.vue":"hp4n","./IndividualAssignmentProgress":"QgWN","./IndividualAssignmentProgress.vue":"QgWN","./ProgressAssignmentFilters":"cA7o","./ProgressAssignmentFilters.vue":"cA7o","./RatingScaleOverview":"8xSY","./RatingScaleOverview.vue":"8xSY","./UserHeader":"sqAo","./UserHeader.vue":"sqAo","./achievements/AchievementLayout":"Q4If","./achievements/AchievementLayout.vue":"Q4If","./achievements/Achievements":"2QNm","./achievements/Achievements.vue":"2QNm","./achievements/Multivalue":"jdLl","./achievements/Multivalue.vue":"jdLl","./achievements/ProgressCircle":"vlwC","./achievements/ProgressCircle.vue":"vlwC","./achievements/Singlevalue":"qsSg","./achievements/Singlevalue.vue":"qsSg","./details/ActivityLog":"Le6S","./details/ActivityLog.vue":"Le6S","./details/ActivityLogTable":"O/qg","./details/ActivityLogTable.vue":"O/qg","./details/ArchivedAssignments":"G2xx","./details/ArchivedAssignments.vue":"G2xx","./details/ArchivedAssignmentsTable":"y1wy","./details/ArchivedAssignmentsTable.vue":"y1wy","./details/Assignment":"L1iN","./details/Assignment.vue":"L1iN","./details/ProficientStatus":"iJEf","./details/ProficientStatus.vue":"iJEf","./details/Progress":"jI4c","./details/Progress.vue":"jI4c","./profile/CompetencyCharts":"A9he","./profile/CompetencyCharts.vue":"A9he","./profile/CurrentProgress":"fM68","./profile/CurrentProgress.vue":"fM68","./profile/MyRatingCell":"Un8g","./profile/MyRatingCell.vue":"Un8g","./profile/NoCompetencyAssignments":"eIhO","./profile/NoCompetencyAssignments.vue":"eIhO","./profile/competency_list/ArchivedList":"K+r5","./profile/competency_list/ArchivedList.vue":"K+r5","./profile/competency_list/CurrentList":"+W9U","./profile/competency_list/CurrentList.vue":"+W9U","./profile/competency_list/Filters":"+ROZ","./profile/competency_list/Filters.vue":"+ROZ","./profile/competency_list/List":"wK6o","./profile/competency_list/List.vue":"wK6o","./summary/AchievementConfiguration":"+nXq","./summary/AchievementConfiguration.vue":"+nXq","./summary/AchievementConfigurationCriteria":"xfP8","./summary/AchievementConfigurationCriteria.vue":"xfP8","./summary/CompetencySummaryGeneral":"XFpB","./summary/CompetencySummaryGeneral.vue":"XFpB","./summary/LinkedCourses":"76O+","./summary/LinkedCourses.vue":"76O+","./user_assignment/SelectionTable":"85JN","./user_assignment/SelectionTable.vue":"85JN"};function a(e){var t=s(e);return n(t)}function s(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=s,e.exports=a,a.id="LcFQ"},Le6S:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tui-competencyDetailActivityLog"},[n("h4",{staticClass:"tui-competencyDetailActivityLog__title"},[e._v("\n    "+e._s(e.$str("activity_log","totara_competency"))+"\n  ")]),e._v(" "),e.assignments.length>1?n("FilterBar",{attrs:{title:e.$str("activity_log_filter","totara_competency")},scopedSlots:e._u([{key:"filters-left",fn:function(){return[n("SelectFilter",{attrs:{label:e.$str("assignment","totara_competency"),name:"activity_log_select",options:e.assignments,"show-label":!0,stacked:!1},model:{value:e.assignmentFilter,callback:function(t){e.assignmentFilter=t},expression:"assignmentFilter"}})]},proxy:!0}],null,!1,3296399798)}):e._e(),e._v(" "),n("Loader",{attrs:{loading:e.$apollo.loading}},[n("ActivityLogTable",{attrs:{log:e.log}})],1)],1)};i._withStripped=!0;var a=n("7OoD"),s=n.n(a),r=n("59Wj"),o=n.n(r),c=n("AdjL"),l=n.n(c),u=n("49h4"),d=n.n(u),m={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_competency_activity_log"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"competency_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"user_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filters"}},type:{kind:"NamedType",name:{kind:"Name",value:"totara_competency_activity_log_filters"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totara_competency_activity_log"},arguments:[{kind:"Argument",name:{kind:"Name",value:"competency_id"},value:{kind:"Variable",name:{kind:"Name",value:"competency_id"}}},{kind:"Argument",name:{kind:"Name",value:"user_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}},{kind:"Argument",name:{kind:"Name",value:"filters"},value:{kind:"Variable",name:{kind:"Name",value:"filters"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"date"},name:{kind:"Name",value:"timestamp"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"DATELONG"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"datetime"},name:{kind:"Name",value:"timestamp"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"DATETIMELONG"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"proficient_status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assignment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user_group_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"progress_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reason_assigned"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignment_action"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}}]},p={components:{ActivityLogTable:s.a,FilterBar:o.a,Loader:l.a,SelectFilter:d.a},props:{userId:{required:!0,type:Number},competencyId:{required:!0,type:Number}},data:function(){return{log:[],assignments:[],assignmentFilter:0}},apollo:{log:{query:m,variables:function(){return{user_id:this.userId,competency_id:this.competencyId,filters:this.selectedFilter}},update:function(e){var t=e.totara_competency_activity_log;return this.assignments=this.refreshAssignmentList(t),t}}},computed:{selectedFilter:function(){return this.assignmentFilter?{assignment_id:this.assignmentFilter}:{}}},methods:{refreshAssignmentList:function(e){var t=this,n={};return e.forEach((function(e){null!=e.assignment&&(n[e.assignment.id]={id:e.assignment.id,label:t.getFilterLabel(e)})})),(n=Object.values(n)).length>=this.assignments.length?(n.unshift({label:this.$str("all","moodle"),id:0}),n):this.assignments},getFilterLabel:function(e){var t=e.assignment.progress_name;if(this.isDirectlyAssigned(e.assignment)){var n={progress_name:e.assignment.progress_name,user_fullname_role:e.assignment.reason_assigned};t=this.$str("progress_name_by_user","totara_competency",n)}return t},isDirectlyAssigned:function(e){return"user"===e.user_group_type&&("admin"===e.type||"other"===e.type)}}},_=n("KHd+"),v=function(e){e.options.__langStrings={moodle:["all"],totara_competency:["activity_log","activity_log_filter","assignment","progress_name_by_user"]}},f=Object(_.a)(p,i,[],!1,null,null,null);"function"==typeof v&&v(f),f.options.__hasBlocks={script:!0,template:!0},f.options.__file="client/src/totara_competency/components/details/ActivityLog.vue";t.default=f.exports},Mnur:function(e,t){e.exports=tui.require("tui/components/modal/ModalPresenter")},NAOU:function(e,t){e.exports=tui.require("tui/components/grid/Grid")},NHmN:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a",{attrs:{href:e.goBackLink}},[e._v(e._s(e.goBackText))]),e._v(" "),n("h2",[e._v(e._s(e.pageHeading))]),e._v(" "),e.mutationError?n("div",{staticClass:"alert alert-danger alert-with-icon alert-dismissable fade-in",attrs:{role:"alert"}},[n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert"}},[n("FlexIcon",{attrs:{icon:"delete-ns"}})],1),e._v(" "),n("div",{staticClass:"alert-icon"},[n("FlexIcon",{attrs:{icon:"notification-error"}})],1),e._v(" "),n("div",{staticClass:"alert-message"},[e._v("\n      "+e._s(e.$str("error_generic_mutation","totara_competency"))+"\n    ")])]):e._e(),e._v(" "),n("Grid",{staticClass:"tui-competencySelfAssignment__actions",attrs:{"stack-at":900}},[n("GridItem",{attrs:{units:3}},[e.frameworks.length>1&&!e.isViewingSelections?n("SelectFilter",{attrs:{label:e.$str("competencyframeworks","totara_hierarchy"),"show-label":!1,options:e.frameworkOptions},model:{value:e.frameworkSelection,callback:function(t){e.frameworkSelection=t},expression:"frameworkSelection"}}):e._e()],1),e._v(" "),n("GridItem",{attrs:{units:6}},[n("Basket",{attrs:{items:e.selectedItems,"bulk-actions":e.basketActions},scopedSlots:e._u([{key:"status",fn:function(t){var i=t.empty;return[e.isViewingSelections&&!i?n("ButtonIcon",{attrs:{styleclass:{small:!0},text:e.$str("clearall","totara_core"),"aria-label":e.$str("clearall","totara_core")},on:{click:e.clearSelections}},[n("ClearIcon")],1):e._e()]}},{key:"actions",fn:function(t){var i=t.empty;return[e.isViewingSelections||i?e._e():n("Button",{attrs:{styleclass:{transparent:!0},text:e.$str("viewselected","totara_core")},on:{click:e.viewSelections}}),e._v(" "),e.isViewingSelections&&!i?n("Button",{attrs:{styleclass:{transparent:!0},text:e.$str("back_to_all_competencies","totara_competency")},on:{click:e.applyFilter}}):e._e()]}}])})],1)],1),e._v(" "),n("Grid",{staticClass:"tui-competencySelfAssignment__filter-table-grid",attrs:{"stack-at":900}},[e.isViewingSelections?e._e():n("GridItem",{attrs:{units:3}},[n("FilterSidePanel",{attrs:{title:e.$str("filter_competencies","totara_competency")},on:{"active-count-change":function(t){e.activeFilterCount=t}},model:{value:e.filters,callback:function(t){e.filters=t},expression:"filters"}},[n("SearchFilter",{attrs:{label:e.$str("search","totara_core"),placeholder:e.$str("search","totara_core"),"show-label":!1,stacked:!0},model:{value:e.filters.text,callback:function(t){e.$set(e.filters,"text",t)},expression:"filters.text"}}),e._v(" "),e.types.length>1?n("MultiSelectFilter",{attrs:{title:e.$str("competencytypes","totara_hierarchy"),"show-label":!0,options:e.competencyTypeOptions},model:{value:e.filters.type,callback:function(t){e.$set(e.filters,"type",t)},expression:"filters.type"}}):e._e(),e._v(" "),n("SelectFilter",{attrs:{label:e.$str("header_assignment_status","totara_competency"),"show-label":!0,stacked:!0,options:e.assignmentStatusesOptions},model:{value:e.filters.assignment_status,callback:function(t){e.$set(e.filters,"assignment_status",t)},expression:"filters.assignment_status"}})],1)],1),e._v(" "),n("GridItem",{attrs:{units:9,grows:""}},[n("Loader",{attrs:{loading:e.$apollo.loading}},[e.hasLoadedCompetencies?n("SelectionTable",{staticClass:"tui-competencySelfAssignment__table",attrs:{competencies:e.data.items,"total-competency-count":e.data.total},model:{value:e.selectedItems,callback:function(t){e.selectedItems=t},expression:"selectedItems"}}):e._e(),e._v(" "),e.shouldShowLoadMoreButton?n("Button",{attrs:{text:e.$str("loadmore","totara_core")},on:{click:e.loadMore}}):e._e()],1)],1)],1),e._v(" "),n("ConfirmationModal",{attrs:{title:e.$str("assign_competencies","totara_competency"),open:e.isShowingConfirmationModal},on:{confirm:e.confirmAssignment,cancel:function(t){e.isShowingConfirmationModal=!1}}},[n("p",[e._v("\n      "+e._s(e.selectionDescription)+"\n    ")]),e._v(" "),n("p",[e._v("\n      "+e._s(e.$str("confirm_generic","totara_competency"))+"\n    ")])])],1)};i._withStripped=!0;var a=n("o0o1"),s=n.n(a),r=n("yXPU"),o=n.n(r),c=n("RIqP"),l=n.n(c),u=n("xNwe"),d=n.n(u),m=n("vF5l"),p=n.n(m),_=n("5h9J"),v=n.n(_),f=n("19vc"),y=n.n(f),g=n("C+/B"),h=n.n(g),k=n("RJdj"),b=n("554a"),N=n.n(b),S=n("lBzj"),A=n.n(S),C=n("NAOU"),F=n.n(C),x=n("D9If"),w=n.n(x),$=n("AdjL"),q=n.n($),I=n("3kcf"),L=n.n(I),D=n("FBvN"),P=n.n(D),O=n("49h4"),V=n.n(O),T=n("AENL"),B=n.n(T),M={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_competency_user_assignable_competencies"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"user_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filters"}},type:{kind:"NamedType",name:{kind:"Name",value:"totara_competency_self_assigned_competencies_filter"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"order_by"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"order_dir"}},type:{kind:"NamedType",name:{kind:"Name",value:"totara_competency_order_dir"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totara_competency_user_assignable_competencies"},arguments:[{kind:"Argument",name:{kind:"Name",value:"user_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}},{kind:"Argument",name:{kind:"Name",value:"filters"},value:{kind:"Variable",name:{kind:"Name",value:"filters"}}},{kind:"Argument",name:{kind:"Name",value:"order_by"},value:{kind:"Variable",name:{kind:"Name",value:"order_by"}}},{kind:"Argument",name:{kind:"Name",value:"order_dir"},value:{kind:"Variable",name:{kind:"Name",value:"order_dir"}}},{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"display_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user_assignments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user_group_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reason_assigned"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"next_cursor"},arguments:[],directives:[]}]}}]}}]},E={components:{Basket:d.a,Button:p.a,ButtonIcon:v.a,ClearIcon:y.a,ConfirmationModal:h.a,FilterSidePanel:N.a,FlexIcon:A.a,Grid:F.a,GridItem:w.a,Loader:q.a,MultiSelectFilter:L.a,SearchFilter:P.a,SelectFilter:V.a,SelectionTable:B.a},props:{basePageHeading:{required:!0,type:String},goBackLink:{required:!0,type:String},goBackText:{required:!0,type:String},frameworks:{required:!0,type:Array},types:{required:!0,type:Array},userId:{required:!0,type:Number}},data:function(){return{allSelected:!1,selectedItems:[],isViewingSelections:!1,isShowingConfirmationModal:!1,isSaving:!1,mutationError:null,data:{items:[],total:null,next_cursor:null},frameworkSelection:null,filters:{assignment_status:"",text:"",type:[]},activeFilterCount:0,assignmentStatusesOptions:[{id:"",label:this.$str("any","totara_competency")},{id:1,label:this.$str("currently_assigned","totara_competency")},{id:0,label:this.$str("not_assigned","totara_competency")}],basketActions:[{label:this.$str("assign_competencies","totara_competency"),action:this.showConfirmationModal}]}},computed:{pageHeading:function(){return this.isViewingSelections?this.$str("view_selected_competencies","totara_competency"):this.basePageHeading},hasLoadedCompetencies:function(){return this.data&&null!==this.data.total},firstPageQueryVariables:function(){return{user_id:this.userId,filters:this.filtersForQuery,cursor:null}},subsequentPageQueryVariables:function(){return{user_id:this.userId,filters:this.filtersForQuery,cursor:this.data.next_cursor}},filtersForQuery:function(){return Object.assign({},this.filters,{framework:this.frameworkSelection})},hasEmptyResult:function(){return this.data&&0===this.data.total},isViewingDefaultOptions:function(){return null===this.frameworkSelection&&0===this.activeFilterCount},competencyTypeOptions:function(){return this.types.map((function(e){return{id:e.id,label:e.name}}))},frameworkOptions:function(){var e={id:null,label:this.$str("filter_framework_all_frameworks","totara_competency")},t=this.frameworks.map((function(e){return{id:e.id,label:e.name}}));return[e].concat(l()(t))},shouldShowLoadMoreButton:function(){return this.data.items.length>0&&""!==this.data.next_cursor},selectionDescription:function(){return 1===this.selectedItems.length?this.$str("one_competency_selected","totara_competency",this.selectedItems.length):this.$str("n_competencies_selected","totara_competency",this.selectedItems.length)}},watch:{frameworkSelection:"applyFilter",filters:{deep:!0,handler:"applyFilter"},data:function(){this.mutationError=null}},methods:{viewSelections:function(){var e=this;return o()(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$apollo.queries.data.refetch({user_id:e.userId,filters:{ids:e.selectedItems}});case 2:e.isViewingSelections=!0;case 3:case"end":return t.stop()}}),t)})))()},clearSelections:function(){var e=this;return o()(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.resetFilters(),e.selectedItems=[];case 2:case"end":return t.stop()}}),t)})))()},resetFilters:function(){this.filters=this.$options.data.call(this).filters},showConfirmationModal:function(){this.isShowingConfirmationModal=!0},confirmAssignment:function(){var e=this;return o()(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.tryAssign();case 2:e.isShowingConfirmationModal=!1;case 3:case"end":return t.stop()}}),t)})))()},tryAssign:function(){var e=this;return o()(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isSaving=!0,e.mutationError=null,t.prev=2,t.next=5,e.assign();case 5:window.location.href=e.goBackLink,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),e.mutationError=t.t0;case 11:return t.prev=11,e.isSaving=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[2,8,11,14]])})))()},assign:function(){return this.$apollo.mutate({mutation:k.a,variables:{user_id:this.userId,competency_ids:this.selectedItems},refetchAll:!1})},applyFilter:function(){var e=this;return o()(s.a.mark((function t(){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$apollo.queries.data.refetch(e.firstPageQueryVariables);case 2:return n=t.sent,e.isViewingSelections=!1,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))()},loadMore:function(){this.$apollo.queries.data.fetchMore({variables:this.subsequentPageQueryVariables,updateQuery:function(e,t){var n=t.fetchMoreResult;e=e.totara_competency_user_assignable_competencies;var i=n.totara_competency_user_assignable_competencies;return{totara_competency_user_assignable_competencies:{__typename:e.__typename,items:[].concat(l()(e.items),l()(i.items)),total:i.total,next_cursor:i.next_cursor}}}})}},apollo:{data:function(){return{query:M,variables:this.firstPageQueryVariables,update:function(e){return e.totara_competency_user_assignable_competencies}}}}},j=n("KHd+"),U=function(e){e.options.__langStrings={totara_core:["loadmore","search","viewselected"],totara_hierarchy:["assign","competencyframeworks","competencytypes"],totara_competency:["all","any","assign_competencies","back_to_all_competencies","competencies","confirm_generic","currently_assigned","error_generic_mutation","filter_framework_all_frameworks","filter_competencies","header_assignment_status","n_competencies_selected","no_competency_to_assign","not_assigned","one_competency_selected","view_selected_competencies"]}},H=Object(j.a)(E,i,[],!1,null,null,null);"function"==typeof U&&U(H),H.options.__hasBlocks={script:!0,template:!0},H.options.__file="client/src/totara_competency/pages/UserAssignment.vue";t.default=H.exports},NUDN:function(e,t){e.exports=tui.require("totara_competency/components/profile/CompetencyCharts")},"O/qg":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Table",{attrs:{data:e.log},scopedSlots:e._u([{key:"header-row",fn:function(){return[n("HeaderCell",{attrs:{size:"2"}},[e._v("\n      "+e._s(e.$str("date","moodle"))+"\n    ")]),e._v(" "),n("HeaderCell",{attrs:{size:"8"}},[e._v("\n      "+e._s(e.$str("description","moodle"))+"\n    ")]),e._v(" "),n("HeaderCell",{attrs:{size:"3"}},[e._v("\n      "+e._s(e.$str("proficiency_status","totara_competency"))+"\n    ")]),e._v(" "),n("HeaderCell",{attrs:{size:"3"}},[e._v("\n      "+e._s(e.$str("assignment","totara_competency"))+"\n    ")])]},proxy:!0},{key:"row",fn:function(t){var i=t.row;t.expand;return[n("Cell",{attrs:{size:"2","column-header":e.$str("date","moodle")}},[n("Popover",{attrs:{triggers:["hover"]},scopedSlots:e._u([{key:"trigger",fn:function(){return[n("span",{staticClass:"tui-competencyDetailActivityLog__date"},[e._v("\n            "+e._s(i.date)+"\n          ")])]},proxy:!0}],null,!0)},[e._v(" "),n("div",[e._v(e._s(i.datetime))])])],1),e._v(" "),n("Cell",{staticClass:"tui-competencyDetailActivityLog__description",attrs:{size:"8","column-header":e.$str("description","moodle")}},["assigned"===i.assignment_action?n("AddUserIcon",{attrs:{size:"200"}}):e._e(),e._v(" "),"unassigned_archived"===i.assignment_action||"unassigned_usergroup"===i.assignment_action?n("RemoveUserIcon",{attrs:{size:"200"}}):e._e(),e._v(" "),n("span",{class:{"tui-competencyDetailActivityLog__description-rating":null!=i.proficient_status,"tui-competencyDetailActivityLog__description-system":i.assignment&&"system"===i.assignment.type,"tui-competencyDetailActivityLog__description-tracking":i.assignment_action&&("tracking_started"===i.assignment_action||"tracking_ended"===i.assignment_action)}},[e._v("\n        "+e._s(i.description)+"\n      ")])],1),e._v(" "),n("Cell",{attrs:{size:"3","column-header":e.$str("proficiency_status","totara_competency")}},[null!=i.proficient_status?n("ProficientStatus",{attrs:{"proficient-status":i.proficient_status}}):e._e()],1),e._v(" "),n("Cell",{attrs:{size:"3","column-header":e.$str("assignment","totara_competency")}},[e.showProgressName(i)?n("span",[e._v("\n        "+e._s(i.assignment.progress_name)+"\n      ")]):e._e()])]}}])})};i._withStripped=!0;var a=n("2HWE"),s=n.n(a),r=n("KGot"),o=n.n(r),c=n("5qAA"),l=n.n(c),u=n("9G+f"),d=n.n(u),m=n("C4bi"),p=n.n(m),_=n("sIO8"),v=n.n(_),f=n("yikf"),y=n.n(f),g={components:{AddUserIcon:s.a,Cell:o.a,HeaderCell:l.a,Popover:d.a,ProficientStatus:p.a,RemoveUserIcon:v.a,Table:y.a},props:{log:{type:Array}},methods:{showProgressName:function(e){return null!=e.assignment&&!["tracking_started","tracking_ended"].includes(e.assignment_action)}}},h=n("KHd+"),k=function(e){e.options.__langStrings={moodle:["date","description"],totara_competency:["assignment","proficiency_status","progress_name_by_user"]}},b=Object(h.a)(g,i,[],!1,null,null,null);"function"==typeof k&&k(b),b.options.__hasBlocks={script:!0,template:!0},b.options.__file="client/src/totara_competency/components/details/ActivityLogTable.vue";t.default=b.exports},PNtU:function(e,t){e.exports=tui.require("tui/components/lozenge/Lozenge")},Q2E1:function(e,t){e.exports=tui.require("totara_competency/components/profile/competency_list/ArchivedList")},Q4If:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this.$createElement,t=this._self._c||e;return t("Grid",{staticClass:"tui-achievementLayout",class:{"tui-achievementLayout--borderless":this.noBorders},attrs:{"stack-at":750}},[t("GridItem",{attrs:{units:2}},[t("div",{staticClass:"tui-achievementLayout__left"},[this._t("left")],2)]),this._v(" "),t("GridItem",{attrs:{units:10}},[this._t("right")],2)],1)};i._withStripped=!0;var a=n("NAOU"),s=n.n(a),r=n("D9If"),o=n.n(r),c={components:{Grid:s.a,GridItem:o.a},props:{noBorders:{type:Boolean}}},l=n("KHd+"),u=Object(l.a)(c,i,[],!1,null,null,null);u.options.__hasBlocks={script:!0,template:!0},u.options.__file="client/src/totara_competency/components/achievements/AchievementLayout.vue";t.default=u.exports},QPG3:function(e,t){e.exports=tui.require("totara_competency/components/details/ActivityLog")},QgWN:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this.$createElement;return(this._self._c||e)("ChartJs",{attrs:{type:this.type,data:this.data,options:this.options,header:this.assignmentProgress.name},on:{click:this.chartClicked,hover:this.chartHovered}})};i._withStripped=!0;var a=n("3fD/"),s=n.n(a),r=n("i3se"),o=n.n(r),c=n("TXEh"),l=function(e,t,n){return{x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}},u=function(e,t,n,i){var a=e.offsetX,s=e.offsetY,r=n.helpers,o=t.ctx;if("bar"===t.config.type){var c=t.getElementsAtEvent(e);if(c.length>0){var u=c[0]._index;return void 0!==i.data.competencies[u]?i.data.competencies[u]:null}var d=t.scales["x-axis-0"],m=null;return d._computeLabelItems().forEach((function(e){var t=e.x,n=e.y,r=e.rotation,c=Math.abs(r)>=.001,u=function(e,t){var n=t.label,i=0;return e.font=t.font.fontString,void 0!==n&&""!=="".concat(n).trim()&&(i=e.measureText(n).width),{width:i,height:t.font.lineHeight}}(o,e),d=u.width,p=u.height;if(0!==d){var _=-(d+=4),v=_,f=(p+=4)/-2,y=p/-2,g=p/2,h=p/2,k={x:d/-2,y:-2},b={x:d/2,y:-2},N={x:b.x,y:p-2},S={x:k.x,y:p-2};if(c&&(k=l(_,f,r),b=l(0,y,r),N=l(0,g,r),S=l(v,h,r)),function(e,t,n,i,a,s,r,o,c,l){var u=Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2)),d=Math.sqrt(Math.pow(a-r,2)+Math.pow(s-o,2)),m=Math.sqrt(Math.pow(r-c,2)+Math.pow(o-l,2)),p=Math.sqrt(Math.pow(c-n,2)+Math.pow(l-i,2)),_=Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2)),v=Math.sqrt(Math.pow(a-e,2)+Math.pow(s-t,2)),f=Math.sqrt(Math.pow(r-e,2)+Math.pow(o-t,2)),y=Math.sqrt(Math.pow(c-e,2)+Math.pow(l-t,2)),g=(u+_+v)/2,h=(d+v+f)/2,k=(m+f+y)/2,b=(p+y+_)/2,N=Math.sqrt(g*(g-u)*(g-_)*(g-v)),S=Math.sqrt(h*(h-d)*(h-v)*(h-f)),A=Math.sqrt(k*(k-m)*(k-f)*(k-y)),C=Math.sqrt(b*(b-p)*(b-y)*(b-_));return Math.round(N+S+A+C)===Math.round(u*d)}(a,s,t+k.x,n+k.y,t+b.x,n+b.y,t+N.x,n+N.y,t+S.x,n+S.y)){i.debug&&(o.save(),o.strokeStyle="red",o.lineWidth=1,o.beginPath(),o.moveTo(t+k.x,n+k.y),o.lineTo(t+b.x,n+b.y),o.lineTo(t+N.x,n+N.y),o.lineTo(t+S.x,n+S.y),o.lineTo(t+k.x,n+k.y),o.stroke(),o.restore(),console.log("SCIENCE, B!"));var A=i.assignmentProgress.items.find((function(t){return t.competency.fullname===e.label}));A&&(m=A)}else i.debug&&console.log("OUTSIDE")}})),m?m.competency.id:null}for(var p=t.scale,_=p.options,v=_.ticks,f=v.display&&_.display?r.valueOrDefault(v.fontSize,n.defaults.global.defaultFontSize)+5:0,y=p.getDistanceFromCenterForValue(_.ticks.reverse?p.min:p.max),g=0;g<p.pointLabels.length;g++){var h=0===g?f/2:0,k=p.getPointPosition(g,y+h+5),b=p._pointLabelSizes[g],N=p.getIndexAngle(g),S=r.toDegrees(N),A="right";0===S||180===S?A="center":S<180&&(A="left");var C=0;90===S||270===S?C=b.h/2:(S>270||S<90)&&(C=b.h);var F=k.y-C-5,x=10+b.h,w=F+x,$=b.w+10,q=void 0;switch(A){case"center":q=k.x-$/2;break;case"left":q=k.x-5;break;case"right":q=k.x-$+5;break;default:console.log("ERROR: unknown textAlign "+A)}var I=q+$;if(i.debug&&(o.save(),o.strokeStyle="red",o.lineWidth=1,o.strokeRect(q,F,$,x),o.restore()),a>=q&&a<=I&&s<=w&&s>=F)return i.data.competencies[g]}return null},d={components:{ChartJs:s.a},props:{assignmentProgress:{required:!0,type:Object},userId:{type:Number,required:!0},isCurrentUser:{type:Boolean,required:!0},debug:{type:Boolean,default:!1}},computed:{options:function(){var e={tooltips:{filter:function(e,t){var n=t.labels[e.index];return[""].indexOf(n.trim())}},legend:{position:"bottom",display:!0,labels:{boxWidth:15,lineWidth:0,padding:25}}};if("radar"===this.type)e.scale={pointLabels:{fontSize:12,fontColor:o.a.getVar("tui-color-state")},ticks:{beginAtZero:!0,display:!1,max:100}};else{var t=this.assignmentProgress.items.slice(0,1).pop(),n=this.assignmentProgress.items.slice(-1).pop();t&&(t=t.competency.fullname),n&&(n=n.competency.fullname,this.assignmentProgress.items.length<=2&&(n="   ")),e.scales={yAxes:[{ticks:{beginAtZero:!0,display:!1,fontSize:12,max:110}}],xAxes:[{ticks:{min:t,max:n,fontSize:12,fontColor:o.a.getVar("tui-color-state")}}]}}return e.tooltips.callbacks={title:function(e,t){return Object(c.unique)(e.map((function(e){return e.index}))).map((function(e){return t.labels[e]})).join(", ")},label:function(e,t){var n=t.datasets[e.datasetIndex].label||"";return n&&t.datasets[e.datasetIndex].rawData[e.index]&&(n+=": "+t.datasets[e.datasetIndex].rawData[e.index].name),n}},e},data:function(){var e={labels:[],competencies:[],datasets:[{label:this.$str("achievement_level","totara_competency"),backgroundColor:o.a.getVar("tui-color-chart-transparent-1"),borderColor:o.a.getVar("tui-color-chart-background-1"),borderWidth:2,rawData:[],data:[],values:[]},{label:this.$str("proficiency_level","totara_competency"),backgroundColor:"bar"===this.type?"transparent":o.a.getVar("tui-color-chart-transparent-4"),borderColor:o.a.getVar("tui-color-chart-background-4"),pointBorderColor:o.a.getVar("tui-color-chart-background-4"),pointBackgroundColor:o.a.getVar("tui-color-chart-background-4"),borderWidth:2,steppedLine:"middle",rawData:[],data:[],values:[]}]};if(this.assignmentProgress.items.forEach(function(t){e.competencies.push(t.competency.id),e.labels.push(this.shorten(t.competency.fullname,50)),e.datasets[0].data.push(t.my_value.percentage),e.datasets[1].data.push(t.min_value.percentage),e.datasets[0].values.push(t.my_value.name),e.datasets[1].values.push(t.min_value.name),e.datasets[0].rawData.push(t.my_value),e.datasets[1].rawData.push(t.min_value)}.bind(this)),"bar"===this.type&&(e.datasets[1].type="line",e.datasets[0].data.length)){var t=e.datasets[1].data.slice(0,1).pop(),n=e.datasets[1].data.slice(-1).pop();if(this.assignmentProgress.items.length<=2)for(var i=this.assignmentProgress.items.length;i<=3;i++)e.datasets[0].data.push(null),e.datasets[1].data.push(n),e.competencies.push(null),3===i?e.labels.push("   "):e.labels.push(" ");e.datasets[0].rawData.push(null),e.datasets[0].rawData.unshift(null),e.datasets[1].rawData.push(null),e.datasets[1].rawData.unshift(null),e.datasets[0].data.push(null),e.datasets[0].data.unshift(null),e.datasets[1].data.unshift(t),e.datasets[1].data.push(n),e.competencies.push(null),e.competencies.unshift(null),e.labels.unshift(""),e.labels.push("")}return e},type:function(){return this.assignmentProgress.items.length<=2||this.assignmentProgress.items.length>=12?"bar":"radar"}},methods:{competencyLink:function(e){var t={competency_id:e};return this.isMine||(t.user_id=this.userId),this.$url("/totara/competency/profile/details/index.php",t)},chartHovered:function(e,t,n,i){var a=this;requestAnimationFrame((function(){u(e,n,i,a)?e.target.style.cursor="pointer":e.target.style.cursor="auto"}))},chartClicked:function(e,t,n,i){var a=u(e,n,i,this);a&&(window.location.href=this.competencyLink(a))},shorten:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ";return e.length<=t?e:e.substr(0,e.lastIndexOf(n,t))}}},m=n("KHd+"),p=function(e){e.options.__langStrings={totara_competency:["proficient","not_proficient","proficiency_level","achievement_level"]}},_=Object(m.a)(d,i,[],!1,null,null,null);"function"==typeof p&&p(_),_.options.__hasBlocks={script:!0,template:!0},_.options.__file="client/src/totara_competency/components/IndividualAssignmentProgress.vue";t.default=_.exports},R6ln:function(e,t){e.exports=tui.require("totara_competency/components/profile/competency_list/CurrentList")},RJdj:function(e,t,n){"use strict";t.a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"totara_competency_create_user_assignments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"user_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"competency_ids"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totara_competency_create_user_assignments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"user_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}},{kind:"Argument",name:{kind:"Name",value:"competency_ids"},value:{kind:"Variable",name:{kind:"Name",value:"competency_ids"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},Sn4P:function(e,t){e.exports=tui.require("totara_competency/components/achievements/Achievements")},TXEh:function(e,t){e.exports=tui.require("tui/util")},Un8g:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.scale?n("Popover",{attrs:{triggers:["click"]},scopedSlots:e._u([{key:"trigger",fn:function(){return[n("Button",{attrs:{styleclass:{reveal:!0},text:e.value.name}})]},proxy:!0}],null,!1,504032633)},[e._v(" "),n("RatingScaleOverview",{attrs:{scale:e.scale,"reverse-values":!0}})],1):e._e()};i._withStripped=!0;var a=n("vF5l"),s=n.n(a),r=n("9G+f"),o=n.n(r),c=n("pHFC"),l=n.n(c),u={components:{Button:s.a,Popover:o.a,RatingScaleOverview:l.a},props:{value:{required:!0,type:Object},scales:{required:!0,type:Array}},computed:{scale:function(){var e=this;return this.scales.find((function(t){return t.id===e.value.scale_id}))}}},d=n("KHd+"),m=Object(d.a)(u,i,[],!1,null,null,null);m.options.__hasBlocks={script:!0,template:!0},m.options.__file="client/src/totara_competency/components/profile/MyRatingCell.vue";t.default=m.exports},UsK0:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tui-competencyProfile"},[n("Loader",{attrs:{loading:e.$apollo.loading}},[e.isMine?e._e():n("UserHeader",{attrs:{"user-name":e.userName,"profile-picture":e.profilePicture}}),e._v(" "),n("div",{staticClass:"tui-competencyProfile__split tui-competencyProfile__titleSection"},[n("h2",{staticClass:"tui-competencyProfile__title"},[e._v("\n        "+e._s(e.$str("competency_profile","totara_competency"))+"\n      ")]),e._v(" "),e.noAssignments?e._e():n("div",{staticClass:"tui-competencyProfile__buttons"},[e.rateCompetenciesUrl?n("ActionLink",{attrs:{href:e.rateCompetenciesUrl,text:e.$str("rate_competencies","pathway_manual")}}):e._e(),e._v(" "),n("ActionLink",{attrs:{href:e.selfAssignmentUrl,text:e.isMine?e.$str("self_assign_competencies","totara_competency"):e.$str("assign_competencies","totara_competency")}})],1)]),e._v(" "),e.noAssignments?n("NoCompetencyAssignments",{attrs:{"is-mine":e.isMine,"self-assignment-url":e.selfAssignmentUrl}}):n("div",[n("h3",{staticClass:"tui-competencyProfile__sectionTitle"},[e._v("\n        "+e._s(e.$str("current_assignment_progress","totara_competency"))+"\n      ")]),e._v(" "),n("CurrentProgress",{attrs:{data:e.currentProgressData,"latest-achievement":e.data.latest_achievement,"is-current-user":e.isMine}}),e._v(" "),n("Responsive",{attrs:{breakpoints:[{name:"small",boundaries:[0,700]},{name:null,boundaries:[701,701]}]},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.currentBoundaryName;return[n("div",[n("h3",{staticClass:"tui-competencyProfile__sectionTitle"},[e._v("\n            "+e._s(e.$str("header_competencies","totara_competency"))+"\n          ")]),e._v(" "),n("div",{staticClass:"tui-competencyProfile__split tui-competencyProfile__filtersBar"},[n("ProgressAssignmentFilters",{attrs:{filters:e.filterOptions},model:{value:e.selectedFilters,callback:function(t){e.selectedFilters=t},expression:"selectedFilters"}}),e._v(" "),"small"!=i?n("div",{staticClass:"tui-competencyProfile__tabs"},[n("ToggleSet",{attrs:{"aria-label":e.$str("toggle_competency_view_format","totara_competency")},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[n("ToggleButton",{attrs:{value:"charts","aria-label":e.$str("toggle_charts","totara_competency")}},[n("BarChartIcon")],1),e._v(" "),n("ToggleButton",{attrs:{value:"table","aria-label":e.$str("toggle_table","totara_competency")}},[n("ListIcon")],1)],1)],1):e._e()],1),e._v(" "),"small"!=i&&"charts"===e.activeTab?n("div",[n("CompetencyCharts",{attrs:{data:e.data,"user-id":e.userId,"is-current-user":e.isMine}})],1):e._e(),e._v(" "),"small"==i||"table"===e.activeTab?n("div",[n("CompetencyList",{attrs:{filters:e.selectedFilters,"user-id":e.userId,"is-mine":e.isMine,"base-url":e.baseUrl}})],1):e._e()])]}}])})],1)],1)],1)};i._withStripped=!0;var a=n("J4zp"),s=n.n(a),r=n("D2rf"),o=n.n(r),c=n("KGN9"),l=n.n(c),u=n("dtfu"),d=n.n(u),m=n("AdjL"),p=n.n(m),_=n("fCWf"),v=n.n(_),f=n("51bi"),y=n.n(f),g=n("Vpbp"),h=n.n(g),k=n("NUDN"),b=n.n(k),N=n("epks"),S=n.n(N),A=n("kV+/"),C=n.n(A),F=n("/X/1"),x=n.n(F),w=n("Yoo0"),$=n.n(w),q=n("puHY"),I=n.n(q),L={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_competency_progress_for_user"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"user_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filters"}},type:{kind:"NamedType",name:{kind:"Name",value:"totara_competency_profile_assignment_filters"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totara_competency_profile_progress"},arguments:[{kind:"Argument",name:{kind:"Name",value:"user_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}},{kind:"Argument",name:{kind:"Name",value:"filters"},value:{kind:"Variable",name:{kind:"Name",value:"filters"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"overall_progress"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"proficient"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"min_value"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"percentage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"proficient"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"my_value"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"percentage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"proficient"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"competency"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"latest_achievement"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"filters"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user_group_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user_group_type"},arguments:[],directives:[]}]}}]}}]}}]},D=n("TXEh"),P={components:{ToggleSet:x.a,ToggleButton:C.a,BarChartIcon:o.a,ListIcon:l.a,Responsive:d.a,Loader:p.a,ActionLink:v.a,CurrentProgress:$.a,UserHeader:I.a,NoCompetencyAssignments:S.a,CompetencyCharts:b.a,CompetencyList:h.a,ProgressAssignmentFilters:y.a},props:{profilePicture:{required:!0,type:String},selfAssignmentUrl:{required:!0,type:String},userId:{required:!0,type:Number},userName:{required:!0,type:String},baseUrl:{required:!0,type:String},isMine:{required:!0,type:Boolean},canRateCompetencies:{required:!0,type:Boolean}},data:function(){return{data:{latest_achievement:null},activeTab:"charts",selectedFilters:this.$_addFilterKey({status:1,type:null,user_group_id:null,user_group_type:null}),currentProgressData:[]}},apollo:{data:{query:L,variables:function(){return{user_id:this.userId,filters:Object(D.pick)(this.selectedFilters,["status","type","user_group_id","user_group_type"])}},update:function(e){return e.totara_competency_profile_progress},result:function(e){var t=this,n=e.data.totara_competency_profile_progress;if(1!=this.selectedFilters.status||this.currentProgressData.length||(this.currentProgressData=n.items.slice(0)),n.filters&&n.filters.length){var i=this.selectedFilters,a=null===i.type&&null===i.user_group_id&&null===i.user_group_type;(a?n.filters.some((function(e){return e.status==t.selectedFilters.status})):n.filters.some((function(e){return t.$_filterKey(e)==t.selectedFilters.key})))||(this.selectedFilters=this.$_addFilterKey(a?{status:n.filters[0].status,type:null,user_group_id:null,user_group_type:null}:n.filters[0]))}}}},computed:{filterOptions:function(){var e=this;return this.data&&this.data.filters?Object.entries(Object(D.groupBy)(this.data.filters,(function(e){return e.status}))).map((function(t){var n=s()(t,2),i=(n[0],n[1]),a=e.$_addFilterKey({status:i[0].status,type:null,user_group_id:null,user_group_type:null});return{id:a.key,name:i[0].status_name,value:a,filters:i.map((function(t){var n=e.$_addFilterKey(e.$_filterValue(t));return{id:n.key,name:t.name,value:n}}))}})):[]},noAssignments:function(){return!this.$apollo.loading&&!this.filterOptions.length},rateCompetenciesUrl:function(){return this.canRateCompetencies?this.$url("/totara/competency/rate_competencies.php",{user_id:this.userId}):null}},methods:{$_filterValue:function(e){return Object(D.pick)(e,["status","type","user_group_id","user_group_type"])},$_addFilterKey:function(e){return Object.assign({key:this.$_filterKey(e)},e)},$_filterKey:function(e){return JSON.stringify([e.status,e.type,e.user_group_id,e.user_group_type])}}},O=n("KHd+"),V=function(e){e.options.__langStrings={totara_competency:["competency_profile","toggle_charts","toggle_competency_view_format","toggle_table","assign_competencies","self_assign_competencies","latest_achievement","current_assignment_progress","header_competencies"],pathway_manual:["rate_competencies"]}},T=Object(O.a)(P,i,[],!1,null,null,null);"function"==typeof V&&V(T),T.options.__hasBlocks={script:!0,template:!0},T.options.__file="client/src/totara_competency/pages/CompetencyProfile.vue";t.default=T.exports},Vpbp:function(e,t){e.exports=tui.require("totara_competency/components/profile/competency_list/List")},XFpB:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.$apollo.loading?e._e():n("div",{staticClass:"tui-competencySummaryGeneral"},[n("div",{staticClass:"tui-competencySummary__sectionHeader"},[n("h3",{staticClass:"tui-competencySummary__sectionHeader-title"},[e._v("\n      "+e._s(e.$str("general","moodle"))+"\n    ")]),e._v(" "),n("a",{staticClass:"tui-competencySummary__sectionHeader-edit",attrs:{href:e.editUrl,title:e.$str("edit","moodle")}},[n("EditIcon",{attrs:{size:200,alt:e.$str("edit","moodle")}})],1)]),e._v(" "),n("Table",{attrs:{data:e.rows,"border-bottom-hidden":!0,"border-top-hidden":!0,"border-separator-hidden":!0,"hover-off":!0},scopedSlots:e._u([{key:"row",fn:function(t){var i=t.row;return[n("Cell",{attrs:{size:"6",heavy:!0}},[n("div",{staticClass:"tui-competencySummaryGeneral__list-label",attrs:{role:"rowheader"}},[e._v("\n          "+e._s(i.label)+"\n        ")])]),e._v(" "),n("Cell",{attrs:{size:"10"}},[n("div",{staticClass:"tui-competencySummaryGeneral__list-value",attrs:{role:"cell"}},[i.values?e._l(i.values,(function(t,i){return n("div",{key:"general"+i},[e._v("\n              "+e._s(t)+"\n            ")])})):n("div",{domProps:{innerHTML:e._s(i.value)}})],2)])]}}],null,!1,3145416524)})],1)};i._withStripped=!0;var a=n("KGot"),s=n.n(a),r=n("gfos"),o=n.n(r),c=n("yikf"),l=n.n(c),u={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_competency_competency"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"competency_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totara_competency_competency"},arguments:[{kind:"Argument",name:{kind:"Name",value:"competency_id"},value:{kind:"Variable",name:{kind:"Name",value:"competency_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"display_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idnumber"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"framework"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"display_name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"display_name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assign_availability"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"aggregation_method"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"display_custom_fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}}]}}]},d={components:{Cell:s.a,EditIcon:o.a,Table:l.a},props:{competencyId:{type:Number,required:!0}},data:function(){return{competency:{},editUrl:""}},computed:{rows:function(){var e=[{label:this.$str("fullname","totara_competency"),value:this.competency.display_name},{label:this.$str("idnumber","totara_competency"),value:this.competency.idnumber},{label:this.$str("description","totara_competency"),value:this.competency.description},{label:this.$str("type","totara_competency"),value:!!this.competency.type&&this.competency.type.display_name},{label:this.$str("aggregationmethod","totara_hierarchy"),value:this.aggregationMethodName},{label:this.$str("assignment_creation_availability","totara_competency"),values:this.assignAvailabilityNames,value:!1}];return this.competency.display_custom_fields&&this.competency.display_custom_fields.forEach((function(t){e.push({label:t.title,value:t.value})})),e=e.filter((function(e){return e.value||e.values})),e},assignAvailabilityNames:function(){var e=this;if(!this.competency.assign_availability||!this.competency.assign_availability.length>0)return!1;var t=[];return this.competency.assign_availability.forEach((function(n){t.push(e.$str(1===n?"competency_assign_availability_self_simple":"competency_assign_availability_other_simple","totara_competency"))})),t},aggregationMethodName:function(){if(!this.competency.aggregation_method)return!1;var e=1===this.competency.aggregation_method?"all":2===this.competency.aggregation_method?"any":"off";return this.$str(e,"totara_competency")}},apollo:{competency:{query:u,variables:function(){return{competency_id:this.competencyId}},update:function(e){var t=e.totara_competency_competency;return this.editUrl=this.$url("/totara/hierarchy/item/edit.php",{prefix:"competency",id:t.id}),t}}}},m=n("KHd+"),p=function(e){e.options.__langStrings={moodle:["edit","general"],totara_competency:["all","any","assignment_creation_availability","competency_assign_availability_self_simple","competency_assign_availability_other_simple","description","fullname","idnumber","off","type"],totara_hierarchy:["aggregationmethod"]}},_=Object(m.a)(d,i,[],!1,null,null,null);"function"==typeof p&&p(_),_.options.__hasBlocks={script:!0,template:!0},_.options.__file="client/src/totara_competency/components/summary/CompetencySummaryGeneral.vue";t.default=_.exports},Xi9X:function(e,t){e.exports=tui.require("tui/components/avatar/Avatar")},Ygam:function(e,t){e.exports=tui.require("totara_competency/components/details/ArchivedAssignmentsTable")},Yoo0:function(e,t){e.exports=tui.require("totara_competency/components/profile/CurrentProgress")},YwmJ:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tui-competencySummary"},[n("div",{staticClass:"tui-competencySummary__header"},[n("a",{attrs:{href:e.backLinkUrl}},[e._v("\n      "+e._s(e.$str("back_to","totara_competency",e.frameworkName))+"\n    ")]),e._v(" "),n("h2",{staticClass:"tui-competencySummary__header-title"},[e._v("\n      "+e._s(e.$str("competency_title","totara_hierarchy",{framework:e.frameworkName,fullname:e.competencyName}))+"\n    ")])]),e._v(" "),n("General",{attrs:{"competency-id":e.competencyId}}),e._v(" "),n("LinkedCourses",{attrs:{"competency-id":e.competencyId}}),e._v(" "),e.performEnabled?n("AchievementConfiguration",{attrs:{"competency-id":e.competencyId}}):e._e()],1)};i._withStripped=!0;var a=n("3s/G"),s=n.n(a),r=n("bAb2"),o=n.n(r),c=n("1LXY"),l=n.n(c),u={components:{AchievementConfiguration:s.a,General:o.a,LinkedCourses:l.a},props:{competencyId:{type:Number,required:!0},competencyName:{type:String,required:!0},frameworkId:{type:Number,required:!0},frameworkName:{type:String,required:!0},performEnabled:{type:Boolean,required:!0}},computed:{backLinkUrl:function(){return this.$url("/totara/hierarchy/index.php",{prefix:"competency",frameworkid:this.frameworkId})}}},d=n("KHd+"),m=function(e){e.options.__langStrings={totara_competency:["back_to"],totara_hierarchy:["competency_title"]}},p=Object(d.a)(u,i,[],!1,null,null,null);"function"==typeof m&&m(p),p.options.__hasBlocks={script:!0,template:!0},p.options.__file="client/src/totara_competency/pages/CompetencySummary.vue";t.default=p.exports},Zoit:function(e,t){e.exports=tui.require("totara_competency/components/achievements/AchievementLayout")},bAb2:function(e,t){e.exports=tui.require("totara_competency/components/summary/CompetencySummaryGeneral")},cA7o:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",{staticClass:"sr-only"},[e._v("\n    "+e._s(e.$str("filter_viewing_by_assignment","totara_competency"))+"\n  ")]),e._v(" "),e.displayFilters?n("SelectFilter",{attrs:{"show-label":!0,label:e.$str("viewing_by_assignment","totara_competency"),options:e.filterOptions.map((function(e){return{id:e.id,label:e.name}})),disabled:e.disable,value:e.value&&e.value.key},on:{input:e.filterUpdated}}):e._e()],1)};i._withStripped=!0;var a=n("49h4"),s={components:{SelectFilter:n.n(a).a},props:{filters:{type:Array,required:!0},value:{type:Object,required:!0},disable:{type:Boolean,default:!1}},computed:{displayFilters:function(){return!(1===this.filters.length&&1===this.filters[0].status)},filterOptions:function(){var e=[];return this.filters.forEach((function(t){e.push({name:t.name,id:t.id,value:t.value}),t.filters.forEach((function(t){return e.push(Object.assign({},t,{name:"   "+t.name}))}))})),e}},methods:{toggle:function(){this.open=!this.open},filterUpdated:function(e){var t=this.filterOptions.find((function(t){return t.id==e}));this.$emit("input",t&&t.value)}}},r=n("KHd+"),o=function(e){e.options.__langStrings={totara_competency:["filter_viewing_by_assignment","viewing_by_assignment"]}},c=Object(r.a)(s,i,[],!1,null,null,null);"function"==typeof o&&o(c),c.options.__hasBlocks={script:!0,template:!0},c.options.__file="client/src/totara_competency/components/ProgressAssignmentFilters.vue";t.default=c.exports},dCLx:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tui-competencyDetail"},[n("div",{staticClass:"tui-competencyDetail__backLink"},[n("a",{attrs:{href:e.goBackLink}},[e._v("\n      "+e._s(e.goBackText)+"\n    ")])]),e._v(" "),n("Loader",{attrs:{loading:e.$apollo.loading}},[e.data.competency||e.$apollo.loading?e.data.competency?[n("h2",{staticClass:"tui-competencyDetail__title"},[e._v("\n        "+e._s(e.data.competency.fullname)+"\n      ")]),e._v(" "),n("Grid",{attrs:{"stack-at":700}},[n("GridItem",{attrs:{units:7}},[n("div",{staticClass:"tui-competencyDetail__description",domProps:{innerHTML:e._s(e.data.competency.description)}})]),e._v(" "),n("GridItem",{class:"tui-competencyDetail__buttons",attrs:{units:5}},[n("Button",{attrs:{styleclass:{small:!0},text:e.$str("archived_assignments","totara_competency")},on:{click:e.openArchivedAssignmentModal}}),e._v(" "),n("Button",{attrs:{styleclass:{small:!0},text:e.$str("activity_log","totara_competency")},on:{click:e.openActivityLogModal}})],1)],1),e._v(" "),n("div",{staticClass:"tui-competencyDetail__body"},[n("h3",{staticClass:"tui-competencyDetail__body-title"},[e._v("\n          "+e._s(e.$str("current_assignment_details","totara_competency"))+"\n        ")]),e._v(" "),e.activeAssignmentList.length?n("div",[n("Assignment",{attrs:{"active-assignment-list":e.activeAssignmentList,"selected-assignment-proficiency":e.selectedAssignmentProficiency,"competency-id":e.competencyId,"user-id":e.userId},model:{value:e.assignmentFilter,callback:function(t){e.assignmentFilter=t},expression:"assignmentFilter"}}),e._v(" "),n("Progress",{attrs:{"competency-id":e.competencyId,"my-value":e.selectedAssignmentProficiencyValue}}),e._v(" "),n("Achievements",{attrs:{assignment:e.selectedAssignmentData,"user-id":e.userId}})],1):n("div",{staticClass:"tui-competencyDetail__body-empty"},[e._v("\n          "+e._s(e.$str("no_active_assignments","totara_competency"))+"\n        ")])])]:e._e():n("NotificationBanner",{attrs:{dismissable:!1,message:e.$str("competency_does_not_exist","totara_competency"),type:"error"}})],2),e._v(" "),n("ModalPresenter",{attrs:{open:e.activityLogModalOpen},on:{"request-close":e.closeActivityLogModal}},[n("Modal",{attrs:{size:"sheet"}},[n("ActivityLog",{attrs:{"competency-id":e.competencyId,"user-id":e.userId}})],1)],1),e._v(" "),n("ModalPresenter",{attrs:{open:e.archivedAssignmentModalOpen},on:{"request-close":e.closeArchivedAssignmentModal}},[n("Modal",{attrs:{size:"sheet"}},[n("ArchivedAssignments",{attrs:{"competency-id":e.competencyId,"user-id":e.userId}})],1)],1)],1)};i._withStripped=!0;var a=n("Sn4P"),s=n.n(a),r=n("QPG3"),o=n.n(r),c=n("+TNE"),l=n.n(c),u=n("Lany"),d=n.n(u),m=n("vF5l"),p=n.n(m),_=n("NAOU"),v=n.n(_),f=n("D9If"),y=n.n(f),g=n("AdjL"),h=n.n(g),k=n("tkAW"),b=n.n(k),N=n("Mnur"),S=n.n(N),A=n("zdti"),C=n.n(A),F=n("kPEt"),x=n.n(F),w=n("gqVV"),$={components:{Achievements:s.a,ActivityLog:o.a,ArchivedAssignments:l.a,Assignment:d.a,Button:p.a,Grid:v.a,GridItem:y.a,Loader:h.a,Modal:b.a,ModalPresenter:S.a,NotificationBanner:C.a,Progress:x.a},props:{competencyId:{required:!0,type:Number},goBackLink:{required:!0,type:String},goBackText:{required:!0,type:String},userId:{required:!0,type:Number},showActivityLogByDefault:{default:!1,type:Boolean}},data:function(){return{activityLogModalOpen:!1,archivedAssignmentModalOpen:!1,assignmentFilter:0,data:{competency:null,items:[]}}},apollo:{data:{query:w.a,variables:function(){return{user_id:this.userId,competency_id:this.competencyId}},update:function(e){var t=e.totara_competency_profile_competency_details;return null===t?{competency:null,items:[]}:{competency:t.competency,items:t.items}}}},computed:{selectedAssignment:function(){return this.data.items.length&&this.data.items[this.assignmentFilter]?this.data.items[this.assignmentFilter]:null},selectedAssignmentData:function(){return this.selectedAssignment?this.selectedAssignment.assignment:{}},selectedAssignmentProficiency:function(){return this.selectedAssignment&&this.selectedAssignment.my_value?this.selectedAssignment.my_value:{}},selectedAssignmentProficiencyValue:function(){return this.selectedAssignmentProficiency&&this.selectedAssignmentProficiency.id?this.selectedAssignmentProficiency.id:NaN},activeAssignmentList:function(){var e=this,t=[];return t=this.data.items.map((function(t,n){return{archived:t.assignment.archived_at||"legacy"===t.assignment.type,id:n,assignment_id:t.assignment.id,can_archive:t.assignment.can_archive,label:e.getFilterLabel(t)}})).filter((function(e){return!e.archived})),t.length&&this.updateAssignmentFilterValue(t[0].id),t}},mounted:function(){this.activityLogModalOpen=this.showActivityLogByDefault},methods:{openActivityLogModal:function(){this.activityLogModalOpen=!0},openArchivedAssignmentModal:function(){this.archivedAssignmentModalOpen=!0},closeActivityLogModal:function(){this.activityLogModalOpen=!1},closeArchivedAssignmentModal:function(){this.archivedAssignmentModalOpen=!1},updateAssignmentFilterValue:function(e){this.assignmentFilter=e},getFilterLabel:function(e){var t=e.assignment.progress_name;if(this.isDirectlyAssigned(e.assignment)){var n={progress_name:e.assignment.progress_name,user_fullname_role:e.assignment.reason_assigned};t=this.$str("progress_name_by_user","totara_competency",n)}return t},isDirectlyAssigned:function(e){return"user"===e.user_group_type&&("admin"===e.type||"other"===e.type)}}},q=n("KHd+"),I=function(e){e.options.__langStrings={totara_competency:["activity_log","archived_assignments","current_assignment_details","competency_does_not_exist","no_active_assignments"]}},L=Object(q.a)($,i,[],!1,null,null,null);"function"==typeof I&&I(L),L.options.__hasBlocks={script:!0,template:!0},L.options.__file="client/src/totara_competency/pages/CompetencyDetail.vue";t.default=L.exports},dtfu:function(e,t){e.exports=tui.require("tui/components/responsive/Responsive")},e3MU:function(e,t){e.exports=tui.require("tui/components/buttons/InfoIconButton")},eIhO:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.display?n("div",{staticClass:"tui-noCompetencyAssignments"},[n("NotificationBanner",{attrs:{type:"warning",message:e.$str("no_competencies_assigned","totara_competency")}}),e._v(" "),n("div",{staticClass:"tui-noCompetencyAssignments__search-competencies"},[n("ActionLink",{attrs:{href:e.selfAssignmentUrl,text:e.isMine?e.$str("self_assign_competencies","totara_competency"):e.$str("assign_competencies","totara_competency"),styleclass:{primary:!0}}})],1)],1):e._e()};i._withStripped=!0;var a=n("fCWf"),s=n.n(a),r=n("zdti"),o=n.n(r),c={components:{ActionLink:s.a,NotificationBanner:o.a},props:{display:{type:Boolean,default:!0},selfAssignmentUrl:{required:!0,type:String},isMine:Boolean}},l=n("KHd+"),u=function(e){e.options.__langStrings={totara_competency:["assign_competencies","self_assign_competencies","no_competencies_assigned"]}},d=Object(l.a)(c,i,[],!1,null,null,null);"function"==typeof u&&u(d),d.options.__hasBlocks={script:!0,template:!0},d.options.__file="client/src/totara_competency/components/profile/NoCompetencyAssignments.vue";t.default=d.exports},epks:function(e,t){e.exports=tui.require("totara_competency/components/profile/NoCompetencyAssignments")},fCWf:function(e,t){e.exports=tui.require("tui/components/links/ActionLink")},fM68:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tui-competencyProfileCurrentProgress"},[n("Grid",{attrs:{"stack-at":900}},[n("GridItem",{attrs:{units:10}},[e.data.length?n("ul",{staticClass:"tui-competencyProfileCurrentProgress__progress"},e._l(e.data,(function(e,t){return n("li",{key:t},[n("AssignmentProgress",{attrs:{progress:e}})],1)})),0):n("div",[e._v("\n        "+e._s(e.$str(e.isCurrentUser?"no_current_assignments_self":"no_current_assignments_other","totara_competency"))+"\n      ")])]),e._v(" "),n("GridItem",{attrs:{units:2}},[n("div",{staticClass:"tui-competencyProfileCurrentProgress__userDetails"},[e.latestAchievement?n("div",{staticClass:"tui-competencyProfileCurrentProgress__latestAchievement"},[n("h4",{staticClass:"tui-competencyProfileCurrentProgress__latestAchievement-header"},[e._v("\n            "+e._s(e.$str("latest_achievement","totara_competency"))+"\n          ")]),e._v(" "),n("div",{staticClass:"tui-competencyProfileCurrentProgress__latestAchievement-content"},[e._v("\n            "+e._s(e.latestAchievement)+"\n          ")])]):e._e()])])],1)],1)};i._withStripped=!0;var a=n("AFyC"),s=n.n(a),r=n("NAOU"),o=n.n(r),c=n("D9If"),l=n.n(c),u={components:{AssignmentProgress:s.a,Grid:o.a,GridItem:l.a},props:{data:{required:!0,type:Array},latestAchievement:{required:!0,validator:function(e){return"string"==typeof e||null===e}},isCurrentUser:{type:Boolean,required:!0}}},d=n("KHd+"),m=function(e){e.options.__langStrings={pathway_manual:["rate_competencies"],totara_competency:["assign_competencies","no_current_assignments_other","no_current_assignments_self","self_assign_competencies","latest_achievement"]}},p=Object(d.a)(u,i,[],!1,null,null,null);"function"==typeof m&&m(p),p.options.__hasBlocks={script:!0,template:!0},p.options.__file="client/src/totara_competency/components/profile/CurrentProgress.vue";t.default=p.exports},gfos:function(e,t){e.exports=tui.require("tui/components/icons/common/Edit")},gqVV:function(e,t,n){"use strict";t.a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_competency_profile_competency_details"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"user_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"competency_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totara_competency_profile_competency_details"},arguments:[{kind:"Argument",name:{kind:"Name",value:"user_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}},{kind:"Argument",name:{kind:"Name",value:"competency_id"},value:{kind:"Variable",name:{kind:"Name",value:"competency_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"competency"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"proficient"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assignment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"archived_at"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"DATE"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"DATE"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user_group_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"progress_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reason_assigned"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_archive"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"my_value"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"percentage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"proficient"},arguments:[],directives:[]}]}}]}}]}}]}}]}},hp4n:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tui-assignmentProgress"},[n("PercentageDoughnut",{staticClass:"tui-assignmentProgress__progress-card",attrs:{percentage:e.progress.overall_progress,label:e.$str("chart_label_proficient","totara_competency"),"label-font-size":13,"label-font-weight":"bold","percentage-font-size":24,square:!0,"label-color":e.labelColor,color:e.color,"background-color":e.backgroundColor}}),e._v(" "),n("div",{staticClass:"tui-assignmentProgress__header"},[e._v("\n    "+e._s(e.progress.name)+"\n  ")])],1)};i._withStripped=!0;var a=n("HZ23"),s=n.n(a),r=n("i3se"),o=n.n(r),c={components:{PercentageDoughnut:s.a},props:{progress:{required:!0,type:Object}},computed:{color:function(){return o.a.getVar("--tui-color-secondary")},backgroundColor:function(){return o.a.getVar("--tui-color-neutral-4")},labelColor:function(){return o.a.getVar("--tui-color-text")}}},l=n("KHd+"),u=function(e){e.options.__langStrings={totara_competency:["chart_label_proficient"]}},d=Object(l.a)(c,i,[],!1,null,null,null);"function"==typeof u&&u(d),d.options.__hasBlocks={script:!0,template:!0},d.options.__file="client/src/totara_competency/components/AssignmentProgress.vue";t.default=d.exports},i3se:function(e,t){e.exports=tui.require("tui/theme")},iJEf:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"tui-competencyDetailProficientStatus",class:{"tui-competencyDetailProficientStatus-srOnly":!e.proficientStatus}},[e.proficientStatus?n("ProficientIcon",{attrs:{size:"200"}}):e._e(),e._v(" "),n("span",[e._v("\n    "+e._s(e.$str(e.proficientStatus?"proficient":"not_proficient","totara_competency"))+"\n  ")])],1)};i._withStripped=!0;var a=n("4jJM"),s={components:{ProficientIcon:n.n(a).a},props:{proficientStatus:{type:Boolean,required:!0}}},r=n("KHd+"),o=function(e){e.options.__langStrings={totara_competency:["not_proficient","proficient"]}},c=Object(r.a)(s,i,[],!1,null,null,null);"function"==typeof o&&o(c),c.options.__hasBlocks={script:!0,template:!0},c.options.__file="client/src/totara_competency/components/details/ProficientStatus.vue";t.default=c.exports},jI4c:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tui-competencyDetailProgress"},[n("ProgressTracker",{attrs:{items:e.formattedForTracker,"current-id":e.myValue,"popover-trigger-type":["click"],"target-id":e.minProficientValueId},scopedSlots:e._u([{key:"custom-popover-content",fn:function(t){var i=t.description,a=t.label,s=t.target;return[n("div",{staticClass:"tui-competencyDetailProgress__popover"},[s?n("div",{staticClass:"tui-competencyDetailProgress__popover-target"},[n("Lozenge",{attrs:{text:e.$str("proficient_level","totara_competency"),type:"success"}})],1):e._e(),e._v(" "),n("h5",{staticClass:"tui-competencyDetailProgress__popover-header"},[e._v("\n          "+e._s(a)+"\n        ")]),e._v(" "),i?n("div",{staticClass:"tui-competencyDetailProgress__popover-body",domProps:{innerHTML:e._s(i)}}):n("div",{staticClass:"tui-competencyDetailProgress__popover-body"},[e._v("\n          "+e._s(e.$str("no_description","totara_competency"))+"\n        ")])])]}}])})],1)};i._withStripped=!0;var a=n("PNtU"),s=n.n(a),r=n("2zrd"),o=n.n(r),c={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_competency_scale"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"competency_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totara_competency_scale"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"competency_id"},value:{kind:"Variable",name:{kind:"Name",value:"competency_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"values"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idnumber"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scaleid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numericscore"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sortorder"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"proficient"},arguments:[],directives:[]}]}}]}}]}}]},l={components:{Lozenge:s.a,ProgressTracker:o.a},props:{myValue:{type:[Number,String]},competencyId:{required:!0,type:Number}},data:function(){return{scale:{}}},apollo:{scale:{query:c,context:{batch:!0},variables:function(){return{competency_id:this.competencyId}},update:function(e){var t=e.totara_competency_scale;return this.$emit("loaded"),t}}},computed:{minProficientValueId:function(){return this.scale.values?this.scale.values.find((function(e){return e.proficient})).id:null},formattedForTracker:function(){return this.scale.values?this.scale.values.map((function(e){return{description:e.description,id:e.id,label:e.name}})):[]}}},u=n("KHd+"),d=function(e){e.options.__langStrings={totara_competency:["no_description","proficient_level"]}},m=Object(u.a)(l,i,[],!1,null,null,null);"function"==typeof d&&d(m),m.options.__hasBlocks={script:!0,template:!0},m.options.__file="client/src/totara_competency/components/details/Progress.vue";t.default=m.exports},jJ8l:function(e,t){e.exports=tui.require("tui/components/card/Card")},jdLl:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t(this.component,{tag:"component",attrs:{"assignment-id":this.assignmentId,"user-id":this.userId},on:{loaded:this.isLoaded}})],1)};i._withStripped=!0;var a={inheritAttrs:!1,props:{assignmentId:{required:!0,type:Number},type:{required:!0,type:String},userId:{required:!0,type:Number}},data:function(){return{component:null}},mounted:function(){var e="pathway_".concat(this.type,"/components/achievements/AchievementDisplay");this.component=tui.asyncComponent(e)},methods:{isLoaded:function(){this.$emit("loaded")}}},s=n("KHd+"),r=Object(s.a)(a,i,[],!1,null,null,null);r.options.__hasBlocks={script:!0,template:!0},r.options.__file="client/src/totara_competency/components/achievements/Multivalue.vue";t.default=r.exports},"k7/G":function(e,t){e.exports=tui.require("tui/components/decor/OrBox")},kPEt:function(e,t){e.exports=tui.require("totara_competency/components/details/Progress")},"kV+/":function(e,t){e.exports=tui.require("tui/components/toggle/ToggleButton")},lBzj:function(e,t){e.exports=tui.require("tui/components/icons/FlexIcon")},mURQ:function(e,t){e.exports=tui.require("tui/components/datatable/SelectTable")},"o0O/":function(e,t){e.exports=tui.require("tui/components/decor/AndBox")},pHFC:function(e,t){e.exports=tui.require("totara_competency/components/RatingScaleOverview")},puHY:function(e,t){e.exports=tui.require("totara_competency/components/UserHeader")},qsSg:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tui-competencyAchievementsScale"},e._l(e.achievements,(function(t,i){return n("div",{key:i},[n("Collapsible",{attrs:{"always-render":!0,"initial-state":!t.achieved,label:e.$str("work_towards_level","totara_competency")},scopedSlots:e._u([{key:"label-extra",fn:function(){return[n("span",{staticClass:"tui-competencyAchievementsScale__title"},[e._v("\n          "+e._s(t.scale_value.name)+"\n        ")])]},proxy:!0},t.achieved?{key:"collapsible-side-content",fn:function(){return[n("Lozenge",{attrs:{text:e.$str("criteria_fulfilled","totara_competency"),type:"success"}})]},proxy:!0}:null],null,!0)},[e._v(" "),e._v(" "),e._l(t.items,(function(i,a){return[n("div",{key:a,class:"tui-competencyAchievementsScale__item"},[n(i.component,e._b({tag:"component",on:{loaded:e.itemLoaded}},"component",i.props,!1))],1),e._v(" "),e.isLastItem(a,t.items)?e._e():n("div",{key:a+"orseparator",staticClass:"tui-competencyAchievementsScale__separator"},[n("AchievementLayout",{attrs:{"no-borders":!0},scopedSlots:e._u([{key:"left",fn:function(){return[n("OrBox")]},proxy:!0}],null,!0)})],1)]}))],2)],1)})),0)};i._withStripped=!0;var a=n("Zoit"),s=n.n(a),r=n("IqB1"),o=n.n(r),c=n("PNtU"),l=n.n(c),u=n("k7/G"),d=n.n(u),m={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_competency_scale_achievements"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"assignment_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"user_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totara_competency_scale_achievements"},arguments:[{kind:"Argument",name:{kind:"Name",value:"assignment_id"},value:{kind:"Variable",name:{kind:"Name",value:"assignment_id"}}},{kind:"Argument",name:{kind:"Name",value:"user_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"scale_value"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numericscore"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"proficient"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"achieved"},name:{kind:"Name",value:"has_scale_value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"date_achieved"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"DATE"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"pathway"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"instance_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pathway_type"},arguments:[],directives:[]}]}}]}}]}}]}}]},p={components:{AchievementLayout:s.a,Collapsible:o.a,Lozenge:l.a,OrBox:d.a},inheritAttrs:!1,props:{userId:{required:!0,type:Number},assignmentId:{required:!0,type:Number},type:String},data:function(){return{achievements:[],achievementComponents:[],itemsLoaded:0}},apollo:{achievements:{query:m,context:{batch:!0},variables:function(){return{assignment_id:this.assignmentId,user_id:this.userId}},update:function(e){var t=this,n=e.totara_competency_scale_achievements,i=[],a=0;return n.forEach((function(e){var n={achieved:!1,items:[],scale_value:e.scale_value};e.items.forEach((function(e){var i="pathway_".concat(e.pathway.pathway_type,"/components/achievements/AchievementDisplay");a+=1,n.items.push({component:tui.asyncComponent(i),props:{assignmentId:t.assignmentId,instanceId:parseInt(e.pathway.instance_id),userId:t.userId,dateAchieved:e.date_achieved}}),e.achieved&&(n.achieved=!0)})),0===a&&t.$emit("loaded"),i.push(n)})),i}}},computed:{numberOfItems:function(){return this.achievements?this.achievements.reduce((function(e,t){return e+t.items.length}),0):0}},watch:{itemsLoaded:function(e){e===this.numberOfItems&&this.$emit("loaded")}},methods:{isLastItem:function(e,t){return e===t.length-1},itemLoaded:function(){this.itemsLoaded+=1}}},_=n("KHd+"),v=function(e){e.options.__langStrings={totara_competency:["criteria_fulfilled","work_towards_level"]}},f=Object(_.a)(p,i,[],!1,null,null,null);"function"==typeof v&&v(f),f.options.__hasBlocks={script:!0,template:!0},f.options.__file="client/src/totara_competency/components/achievements/Singlevalue.vue";t.default=f.exports},rsf9:function(e,t){e.exports=tui.require("tui/components/datatable/ExpandCell")},sIO8:function(e,t){e.exports=tui.require("tui/components/icons/common/RemoveUser")},sqAo:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tui-competencyUserHeader"},[t("Avatar",{attrs:{src:this.profilePicture,size:"xsmall",alt:this.userName,"aria-hidden":!0}}),this._v(" "),t("div",{staticClass:"tui-competencyUserHeader__name"},[this._v("\n    "+this._s(this.userName)+"\n  ")])],1)};i._withStripped=!0;var a=n("Xi9X"),s={components:{Avatar:n.n(a).a},props:{userName:String,profilePicture:String}},r=n("KHd+"),o=Object(r.a)(s,i,[],!1,null,null,null);o.options.__hasBlocks={script:!0,template:!0},o.options.__file="client/src/totara_competency/components/UserHeader.vue";t.default=o.exports},tkAW:function(e,t){e.exports=tui.require("tui/components/modal/Modal")},txsu:function(e,t){e.exports=tui.require("tui/components/tabs/Tabs")},vF5l:function(e,t){e.exports=tui.require("tui/components/buttons/Button")},vlwC:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tui-progressCircle",class:{"tui-progressCircle--complete":e.complete}},[n("div",{staticClass:"tui-progressCircle__circle"},[n("span",{staticClass:"tui-progressCircle__circle-text"},[e._v("\n      "+e._s(e.$str("achieved_n_out_of_n","totara_competency",{current:e.completed,target:e.target}))+"\n    ")])]),e._v(" "),n("div",{staticClass:"tui-progressCircle__label"},[e._v("\n    "+e._s(e.$str("completed","totara_competency"))+"\n  ")])])};i._withStripped=!0;var a={props:{complete:{type:Boolean},completed:{type:Number},target:{type:Number}}},s=n("KHd+"),r=function(e){e.options.__langStrings={totara_competency:["achieved_n_out_of_n","completed"]}},o=Object(s.a)(a,i,[],!1,null,null,null);"function"==typeof r&&r(o),o.options.__hasBlocks={script:!0,template:!0},o.options.__file="client/src/totara_competency/components/achievements/ProgressCircle.vue";t.default=o.exports},vyVp:function(e,t){e.exports=tui.require("tui/notifications")},wK6o:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Loader",{attrs:{loading:e.$apollo.loading}},[n("Filters",{attrs:{"is-for-archived":!e.filterNotArchived,"default-order":e.order,"default-filter-values":{proficient:e.proficientFilter,search:e.searchFilter}},on:{"filters-updated":e.filtersUpdated,"order-updated":e.orderUpdated}}),e._v(" "),e.filterNotArchived?n("CurrentList",{attrs:{competencies:e.competencies,"base-url":e.baseUrl,"user-id":e.userId,scales:e.scales}}):n("ArchivedList",{attrs:{competencies:e.competencies,scales:e.scales,"base-url":e.baseUrl,"user-id":e.userId}})],1)],1)};i._withStripped=!0;var a=n("AdjL"),s=n.n(a),r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_competency_competency_progress_for_user"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"user_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"order"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filters"}},type:{kind:"NamedType",name:{kind:"Name",value:"totara_competency_profile_assignment_filters"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totara_competency_profile_competency_progress"},arguments:[{kind:"Argument",name:{kind:"Name",value:"user_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}},{kind:"Argument",name:{kind:"Name",value:"filters"},value:{kind:"Variable",name:{kind:"Name",value:"filters"}}},{kind:"Argument",name:{kind:"Name",value:"order"},value:{kind:"Variable",name:{kind:"Name",value:"order"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"competency"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"proficient"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assignment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"archived_at"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"DATE"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"progress_name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"my_value"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scale_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"percentage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"proficient"},arguments:[],directives:[]}]}}]}}]}}]}}]},o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_competency_scales"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"competency_id"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totara_competency_scales"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"competency_id"},value:{kind:"Variable",name:{kind:"Name",value:"competency_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"values"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idnumber"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scaleid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numericscore"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sortorder"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"proficient"},arguments:[],directives:[]}]}}]}}]}}]},c=n("+6yQ"),l=n.n(c),u=n("Q2E1"),d=n.n(u),m=n("R6ln"),p=n.n(m),_=n("TXEh"),v={components:{Loader:s.a,CurrentList:p.a,ArchivedList:d.a,Filters:l.a},props:{filters:{required:!1,type:Object,default:function(){return{}}},userId:{required:!0,type:Number},baseUrl:{required:!0,type:String},isMine:{required:!0,type:Boolean}},data:function(){return{competencies:[],order:"alphabetical",proficientFilter:null,searchFilter:"",scales:[]}},computed:{selectedFilters:function(){var e={search:this.searchFilter};return this.filterNotArchived&&(e.proficient=this.proficientFilter),Object.assign(e,Object(_.pick)(this.filters,["status","type","user_group_id","user_group_type"]))},filterNotArchived:function(){return this.filters&&2!==this.filters.status}},apollo:{competencies:{query:r,variables:function(){return this.filterNotArchived?"recently-archived"===this.order&&(this.order="alphabetical"):"recently-assigned"===this.order&&(this.order="alphabetical"),{user_id:this.userId,order:this.order,filters:this.selectedFilters}},update:function(e){return e.totara_competency_profile_competency_progress}},scales:{query:o,variables:function(){return{competency_id:this.competencies.map((function(e){return e.competency.id}))}},update:function(e){return e.totara_competency_scales},skip:function(){return!this.competencies.length}}},methods:{filtersUpdated:function(e){var t=e.search,n=e.proficient;this.searchFilter=t,this.proficientFilter=n},orderUpdated:function(e){this.order=e}}},f=n("KHd+"),y=Object(f.a)(v,i,[],!1,null,null,null);y.options.__hasBlocks={script:!0,template:!0},y.options.__file="client/src/totara_competency/components/profile/competency_list/List.vue";t.default=y.exports},xNwe:function(e,t){e.exports=tui.require("tui/components/basket/Basket")},xfP8:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Card",{attrs:{"no-border":!e.path.multiCriteria}},[n("div",{staticClass:"tui-competencySummaryAchievementCriteria",class:{"tui-competencySummaryAchievementCriteria--multi":e.path.multiCriteria}},[e._l(e.path.criteria_summary,(function(t,i){return[i?n("Separator",{key:i+"and",staticClass:"tui-competencySummaryAchievementCriteria__and"},[n("AndBox")],1):e._e(),e._v(" "),n("div",{key:i,staticClass:"tui-competencySummaryAchievementCriteria__criterion"},[n("div",[n("h5",{staticClass:"tui-competencySummaryAchievementCriteria__criterion-header"},[e._v("\n            "+e._s(t.item_type)+"\n          ")]),e._v(" "),t.item_aggregation?n("span",{staticClass:"tui-competencySummaryAchievementCriteria__criterion-aggregation"},[e._v("\n            ("+e._s(t.item_aggregation)+")\n          ")]):e._e()]),e._v(" "),n("div",{staticClass:"tui-competencySummaryAchievementCriteria__criterion-items"},e._l(t.items,(function(t,i){return n("div",{key:i},[e._v("\n            "+e._s(t.description)+"\n            "),t.error?n("span",[n("WarningIcon",{attrs:{size:200}}),e._v("\n              "+e._s(t.error)+"\n            ")],1):e._e()])})),0)])]}))],2)])};i._withStripped=!0;var a=n("o0O/"),s=n.n(a),r=n("jJ8l"),o=n.n(r),c=n("BxDI"),l=n.n(c),u=n("3wZ/"),d=n.n(u),m={components:{AndBox:s.a,Card:o.a,Separator:l.a,WarningIcon:d.a},props:{path:{type:Object}}},p=n("KHd+"),_=Object(p.a)(m,i,[],!1,null,null,null);_.options.__hasBlocks={script:!0,template:!0},_.options.__file="client/src/totara_competency/components/summary/AchievementConfigurationCriteria.vue";t.default=_.exports},"xu+/":function(e,t,n){var i={"./CompetencyDetail":"dCLx","./CompetencyDetail.vue":"dCLx","./CompetencyProfile":"UsK0","./CompetencyProfile.vue":"UsK0","./CompetencySummary":"YwmJ","./CompetencySummary.vue":"YwmJ","./UserAssignment":"NHmN","./UserAssignment.vue":"NHmN"};function a(e){var t=s(e);return n(t)}function s(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=s,e.exports=a,a.id="xu+/"},y1wy:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Table",{attrs:{data:e.assignments},scopedSlots:e._u([{key:"header-row",fn:function(){return[n("HeaderCell",{attrs:{size:"6"}},[e._v("\n      "+e._s(e.$str("assignment","totara_competency"))+"\n    ")]),e._v(" "),n("HeaderCell",{attrs:{size:"3"}},[e._v("\n      "+e._s(e.$str("assignment_date_archived","totara_competency"))+"\n    ")]),e._v(" "),n("HeaderCell",{attrs:{size:"3"}},[e._v("\n      "+e._s(e.$str("proficiency_status","totara_competency"))+"\n    ")])]},proxy:!0},{key:"row",fn:function(t){var i=t.row;t.expand;return[n("Cell",{attrs:{size:"6","column-header":e.$str("assignment","totara_competency")}},[e._v("\n      "+e._s(i.name)+"\n    ")]),e._v(" "),n("Cell",{attrs:{size:"3","column-header":e.$str("assignment_date_archived","totara_competency")}},[e._v("\n      "+e._s(i.archivedAt)+"\n    ")]),e._v(" "),n("Cell",{attrs:{size:"3","column-header":e.$str("proficiency_status","totara_competency")}},[n("div",{staticClass:"tui-competencyDetailArchivedAssignments__achievement"},[n("ProficientStatus",{attrs:{"proficient-status":i.proficient}}),e._v(" "),i.legacy?n("InfoIconButton",{attrs:{"aria-label":e.$str("more_information","totara_competency")}},[n("h4",{staticClass:"tui-competencyDetailArchivedAssignments__discontinued"},[e._v("\n            "+e._s(e.$str("legacy_assignment_rating_discontinued","totara_competency"))+"\n          ")]),e._v("\n          "+e._s(e.$str("legacy_assignment_rating_description","totara_competency"))+"\n        ")]):e._e()],1)])]}}])})};i._withStripped=!0;var a=n("KGot"),s=n.n(a),r=n("5qAA"),o=n.n(r),c=n("e3MU"),l=n.n(c),u=n("C4bi"),d=n.n(u),m=n("yikf"),p=n.n(m),_={components:{Cell:s.a,HeaderCell:o.a,InfoIconButton:l.a,ProficientStatus:d.a,Table:p.a},props:{assignments:{type:Array}}},v=n("KHd+"),f=function(e){e.options.__langStrings={totara_competency:["assignment","assignment_date_archived","legacy_assignment_rating_description","legacy_assignment_rating_discontinued","more_information","proficiency_status"]}},y=Object(v.a)(_,i,[],!1,null,null,null);"function"==typeof f&&f(y),y.options.__hasBlocks={script:!0,template:!0},y.options.__file="client/src/totara_competency/components/details/ArchivedAssignmentsTable.vue";t.default=y.exports},yikf:function(e,t){e.exports=tui.require("tui/components/datatable/Table")},yuC0:function(e,t){e.exports=tui.require("totara_competency/components/IndividualAssignmentProgress")},zdti:function(e,t){e.exports=tui.require("tui/components/notifications/NotificationBanner")}});