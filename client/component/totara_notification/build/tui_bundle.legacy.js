!function(e){var n={};function t(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)t.d(i,a,function(n){return e[n]}.bind(null,a));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s="Tdly")}({"/ghu":function(e,n,t){"use strict";t.r(n);var i=t("gLvT"),a=t.n(i),r=t("5h9J"),l=t.n(r),o=t("tNJr"),d=t.n(o),s=t("KGcv"),u=t.n(s),c={components:{Dropdown:a.a,ButtonIcon:l.a,MoreIcon:d.a,DropdownItem:u.a},props:{preferenceTitle:{type:String,required:!0},isDeletable:{type:Boolean,required:!0}}},m=(t("F4ve"),t("KHd+")),v=function(e){e.options.__langStrings={core:["edit","delete"],totara_notification:["edit_notification_name","actions_for","delete_notification_name"]}},_=Object(m.a)(c,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"tui-notificationAction"},[t("Dropdown",{scopedSlots:e._u([{key:"trigger",fn:function(n){var i=n.toggle,a=n.isOpen;return[t("ButtonIcon",{attrs:{"aria-expanded":a?"true":"false","aria-label":e.$str("actions_for","totara_notification",e.preferenceTitle),styleclass:{small:!0,transparentNoPadding:!0}},on:{click:i}},[t("MoreIcon",{attrs:{size:300}})],1)]}}])},[e._v(" "),t("DropdownItem",{attrs:{title:e.$str("edit_notification_name","totara_notification",e.preferenceTitle),"aria-label":e.$str("edit_notification_name","totara_notification",e.preferenceTitle)},on:{click:function(n){return e.$emit("edit-notification")}}},[e._v("\n      "+e._s(e.$str("edit","core"))+"\n    ")]),e._v(" "),e.isDeletable?t("DropdownItem",{attrs:{title:e.$str("delete_notification_name","totara_notification",e.preferenceTitle),"aria-label":e.$str("delete_notification_name","totara_notification",e.preferenceTitle)},on:{click:function(n){return e.$emit("delete-notification")}}},[e._v("\n      "+e._s(e.$str("delete","core"))+"\n    ")]):e._e()],1)],1)}),[],!1,null,null,null);"function"==typeof v&&v(_),_.options.__hasBlocks={script:!0,template:!0};n.default=_.exports},"3qs6":function(e,n){},"5h9J":function(e,n){e.exports=tui.require("tui/components/buttons/ButtonIcon")},"5qAA":function(e,n){e.exports=tui.require("tui/components/datatable/HeaderCell")},"6u1p":function(e,n,t){var i={"./action/NotifiableEventAction":"klUK","./action/NotifiableEventAction.vue":"klUK","./action/NotificationAction":"/ghu","./action/NotificationAction.vue":"/ghu","./form/DeliveryPreferenceForm":"tg4Y","./form/DeliveryPreferenceForm.vue":"tg4Y","./form/NotificationPreferenceForm":"oOjY","./form/NotificationPreferenceForm.vue":"oOjY","./form/field/ForceDeliveryChannels":"sUqY","./form/field/ForceDeliveryChannels.vue":"sUqY","./json_editor/nodes/Placeholder":"8Hmb","./json_editor/nodes/Placeholder.vue":"8Hmb","./modal/DeliveryPreferenceModal":"FnWa","./modal/DeliveryPreferenceModal.vue":"FnWa","./modal/NotificationPreferenceModal":"TyRh","./modal/NotificationPreferenceModal.vue":"TyRh","./table/NotificationTable":"kMiS","./table/NotificationTable.vue":"kMiS","./table/UserPreferencesTable":"tzWU","./table/UserPreferencesTable.vue":"tzWU"};function a(e){var n=r(e);return t(n)}function r(e){if(!t.o(i,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id="6u1p"},"7zst":function(e,n){e.exports=tui.require("totara_notification/components/form/NotificationPreferenceForm")},"8Hmb":function(e,n,t){"use strict";t.r(n);var i=t("9G+f"),a={components:{Popover:t.n(i).a},props:{placeholderKey:{type:String,required:!0},displayName:{type:String,required:!0}}},r=(t("ddbG"),t("KHd+")),l=Object(r.a)(a,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("Popover",{staticClass:"tui-placeholder",attrs:{"data-key":e.placeholderKey,"data-label":e.displayName,triggers:["hover"]},scopedSlots:e._u([{key:"trigger",fn:function(){return[t("span",{staticClass:"tui-placeholder__text",attrs:{slot:"trigger"},slot:"trigger"},[e._v("\n      "+e._s(e.displayName))])]},proxy:!0}])},[e._v(" "),[t("span",[e._v("\n      ["+e._s(e.placeholderKey)+"]\n    ")])]],2)}),[],!1,null,null,null);l.options.__hasBlocks={script:!0,template:!0};n.default=l.exports},"9G+f":function(e,n){e.exports=tui.require("tui/components/popover/Popover")},BKk5:function(e,n,t){var i={"./NotificationPage":"FD7q","./NotificationPage.vue":"FD7q","./UserPreferences":"fhDg","./UserPreferences.vue":"fhDg"};function a(e){var n=r(e);return t(n)}function r(e){if(!t.o(i,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id="BKk5"},BN8m:function(e,n){e.exports=tui.require("tui/components/buttons/ButtonGroup")},"C+/B":function(e,n){e.exports=tui.require("tui/components/modal/ConfirmationModal")},Djw7:function(e,n){e.exports=tui.require("totara_notification/components/action/NotifiableEventAction")},DkAd:function(e,n){},F4ve:function(e,n){},FD7q:function(e,n,t){"use strict";t.r(n);var i=t("yXPU"),a=t.n(i),r=t("o0o1"),l=t.n(r),o=t("bxeI"),d=t.n(o),s=t("XTJy"),u=t.n(s),c=t("Mnur"),m=t.n(c),v=t("oMyG"),_=t.n(v),f=t("C+/B"),k=t.n(f),p=t("coz5"),b=t.n(p),y=t("vyVp"),h={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_notification_event_resolvers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"extended_context"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"totara_notification_extended_context_input"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"resolvers"},name:{kind:"Name",value:"totara_notification_event_resolvers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"extended_context"},value:{kind:"Variable",name:{kind:"Name",value:"extended_context"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"class_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"plugin_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"recipients"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"class_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"notification_preferences"},arguments:[{kind:"Argument",name:{kind:"Name",value:"extended_context"},value:{kind:"Variable",name:{kind:"Name",value:"extended_context"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ancestor_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"RAW"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"body_content"},name:{kind:"Name",value:"body"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"HTML"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"body_format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subject"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"RAW"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"subject_content"},name:{kind:"Name",value:"subject"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"HTML"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"subject_format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overridden_body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overridden_subject"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overridden_recipient"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolver_class_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolver_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolver_component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_custom"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parent_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schedule_offset"},arguments:[{kind:"Argument",name:{kind:"Name",value:"unit"},value:{kind:"EnumValue",value:"DAY"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"schedule_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schedule_label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overridden_schedule"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overridden_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overridden_forced_delivery_channels"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"forced_delivery_channels"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"recipient"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"class_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"extended_context"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"context_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"area"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"item_id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"parent_value"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subject"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"RAW"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"RAW"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"body_format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schedule_offset"},arguments:[{kind:"Argument",name:{kind:"Name",value:"unit"},value:{kind:"EnumValue",value:"DAY"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"schedule_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subject_format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"forced_delivery_channels"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"recipient"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"class_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"valid_schedules"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[{kind:"Argument",name:{kind:"Name",value:"extended_context"},value:{kind:"Variable",name:{kind:"Name",value:"extended_context"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_enabled"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"default_delivery_channels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_sub_delivery_channel"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parent_component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"display_order"},arguments:[],directives:[]}]}}]}}]}}]},N={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"totara_notification_create_custom_notification_preference"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"context_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"extended_context_component"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"extended_context_area"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_area"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"extended_context_item_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"resolver_class_name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"title"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"body"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"body_format"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"subject"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"schedule_type"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"schedule_offset"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"subject_format"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"recipient"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"enabled"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"forced_delivery_channels"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"notification_preference"},name:{kind:"Name",value:"totara_notification_create_notification_preference"},arguments:[{kind:"Argument",name:{kind:"Name",value:"extended_context"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"context_id"},value:{kind:"Variable",name:{kind:"Name",value:"context_id"}}},{kind:"ObjectField",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"extended_context_component"}}},{kind:"ObjectField",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"extended_context_area"}}},{kind:"ObjectField",name:{kind:"Name",value:"item_id"},value:{kind:"Variable",name:{kind:"Name",value:"extended_context_item_id"}}}]}},{kind:"Argument",name:{kind:"Name",value:"resolver_class_name"},value:{kind:"Variable",name:{kind:"Name",value:"resolver_class_name"}}},{kind:"Argument",name:{kind:"Name",value:"title"},value:{kind:"Variable",name:{kind:"Name",value:"title"}}},{kind:"Argument",name:{kind:"Name",value:"body"},value:{kind:"Variable",name:{kind:"Name",value:"body"}}},{kind:"Argument",name:{kind:"Name",value:"body_format"},value:{kind:"Variable",name:{kind:"Name",value:"body_format"}}},{kind:"Argument",name:{kind:"Name",value:"subject"},value:{kind:"Variable",name:{kind:"Name",value:"subject"}}},{kind:"Argument",name:{kind:"Name",value:"schedule_type"},value:{kind:"Variable",name:{kind:"Name",value:"schedule_type"}}},{kind:"Argument",name:{kind:"Name",value:"schedule_offset"},value:{kind:"Variable",name:{kind:"Name",value:"schedule_offset"}}},{kind:"Argument",name:{kind:"Name",value:"subject_format"},value:{kind:"Variable",name:{kind:"Name",value:"subject_format"}}},{kind:"Argument",name:{kind:"Name",value:"recipient"},value:{kind:"Variable",name:{kind:"Name",value:"recipient"}}},{kind:"Argument",name:{kind:"Name",value:"enabled"},value:{kind:"Variable",name:{kind:"Name",value:"enabled"}}},{kind:"Argument",name:{kind:"Name",value:"forced_delivery_channels"},value:{kind:"Variable",name:{kind:"Name",value:"forced_delivery_channels"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ancestor_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"RAW"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"body_content"},name:{kind:"Name",value:"body"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"HTML"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"body_format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subject"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"RAW"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"subject_content"},name:{kind:"Name",value:"subject"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"HTML"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"subject_format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overridden_body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overridden_subject"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overridden_recipient"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolver_class_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolver_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolver_component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_custom"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parent_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schedule_offset"},arguments:[{kind:"Argument",name:{kind:"Name",value:"unit"},value:{kind:"EnumValue",value:"DAY"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"schedule_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schedule_label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overridden_schedule"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overridden_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overridden_forced_delivery_channels"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"forced_delivery_channels"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"recipient"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"class_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"extended_context"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"context_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"area"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"item_id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"parent_value"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subject"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"RAW"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"RAW"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"body_format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schedule_offset"},arguments:[{kind:"Argument",name:{kind:"Name",value:"unit"},value:{kind:"EnumValue",value:"DAY"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"schedule_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subject_format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"forced_delivery_channels"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"recipient"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"class_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}]},g={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"totara_notification_override_notification_preference"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"context_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"extended_context_component"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"extended_context_area"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_area"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"extended_context_item_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"resolver_class_name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"ancestor_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"title"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"body"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"body_format"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"subject"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"schedule_type"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"schedule_offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"subject_format"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"recipient"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"enabled"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"forced_delivery_channels"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"notification_preference"},name:{kind:"Name",value:"totara_notification_create_notification_preference"},arguments:[{kind:"Argument",name:{kind:"Name",value:"extended_context"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"context_id"},value:{kind:"Variable",name:{kind:"Name",value:"context_id"}}},{kind:"ObjectField",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"extended_context_component"}}},{kind:"ObjectField",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"extended_context_area"}}},{kind:"ObjectField",name:{kind:"Name",value:"item_id"},value:{kind:"Variable",name:{kind:"Name",value:"extended_context_item_id"}}}]}},{kind:"Argument",name:{kind:"Name",value:"resolver_class_name"},value:{kind:"Variable",name:{kind:"Name",value:"resolver_class_name"}}},{kind:"Argument",name:{kind:"Name",value:"ancestor_id"},value:{kind:"Variable",name:{kind:"Name",value:"ancestor_id"}}},{kind:"Argument",name:{kind:"Name",value:"title"},value:{kind:"Variable",name:{kind:"Name",value:"title"}}},{kind:"Argument",name:{kind:"Name",value:"body"},value:{kind:"Variable",name:{kind:"Name",value:"body"}}},{kind:"Argument",name:{kind:"Name",value:"body_format"},value:{kind:"Variable",name:{kind:"Name",value:"body_format"}}},{kind:"Argument",name:{kind:"Name",value:"subject"},value:{kind:"Variable",name:{kind:"Name",value:"subject"}}},{kind:"Argument",name:{kind:"Name",value:"schedule_type"},value:{kind:"Variable",name:{kind:"Name",value:"schedule_type"}}},{kind:"Argument",name:{kind:"Name",value:"schedule_offset"},value:{kind:"Variable",name:{kind:"Name",value:"schedule_offset"}}},{kind:"Argument",name:{kind:"Name",value:"subject_format"},value:{kind:"Variable",name:{kind:"Name",value:"subject_format"}}},{kind:"Argument",name:{kind:"Name",value:"recipient"},value:{kind:"Variable",name:{kind:"Name",value:"recipient"}}},{kind:"Argument",name:{kind:"Name",value:"enabled"},value:{kind:"Variable",name:{kind:"Name",value:"enabled"}}},{kind:"Argument",name:{kind:"Name",value:"forced_delivery_channels"},value:{kind:"Variable",name:{kind:"Name",value:"forced_delivery_channels"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ancestor_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"RAW"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"body_content"},name:{kind:"Name",value:"body"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"HTML"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"body_format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subject"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"RAW"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"subject_content"},name:{kind:"Name",value:"subject"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"HTML"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"subject_format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overridden_body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overridden_subject"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overridden_recipient"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overridden_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolver_class_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolver_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolver_component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_custom"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parent_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schedule_offset"},arguments:[{kind:"Argument",name:{kind:"Name",value:"unit"},value:{kind:"EnumValue",value:"DAY"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"schedule_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schedule_label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overridden_schedule"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overridden_forced_delivery_channels"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"forced_delivery_channels"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"recipient"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"class_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"extended_context"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"context_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"area"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"item_id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"parent_value"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subject"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"RAW"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"RAW"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"body_format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schedule_offset"},arguments:[{kind:"Argument",name:{kind:"Name",value:"unit"},value:{kind:"EnumValue",value:"DAY"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"schedule_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subject_format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"forced_delivery_channels"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"recipient"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"class_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}]},x={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"totara_notification_update_notification_preference"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"body"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"subject"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"body_format"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"title"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"schedule_type"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"schedule_offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"subject_format"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"recipient"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"enabled"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"forced_delivery_channels"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"notification_preference"},name:{kind:"Name",value:"totara_notification_update_notification_preference"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"body"},value:{kind:"Variable",name:{kind:"Name",value:"body"}}},{kind:"Argument",name:{kind:"Name",value:"subject"},value:{kind:"Variable",name:{kind:"Name",value:"subject"}}},{kind:"Argument",name:{kind:"Name",value:"body_format"},value:{kind:"Variable",name:{kind:"Name",value:"body_format"}}},{kind:"Argument",name:{kind:"Name",value:"title"},value:{kind:"Variable",name:{kind:"Name",value:"title"}}},{kind:"Argument",name:{kind:"Name",value:"schedule_type"},value:{kind:"Variable",name:{kind:"Name",value:"schedule_type"}}},{kind:"Argument",name:{kind:"Name",value:"schedule_offset"},value:{kind:"Variable",name:{kind:"Name",value:"schedule_offset"}}},{kind:"Argument",name:{kind:"Name",value:"subject_format"},value:{kind:"Variable",name:{kind:"Name",value:"subject_format"}}},{kind:"Argument",name:{kind:"Name",value:"recipient"},value:{kind:"Variable",name:{kind:"Name",value:"recipient"}}},{kind:"Argument",name:{kind:"Name",value:"enabled"},value:{kind:"Variable",name:{kind:"Name",value:"enabled"}}},{kind:"Argument",name:{kind:"Name",value:"forced_delivery_channels"},value:{kind:"Variable",name:{kind:"Name",value:"forced_delivery_channels"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ancestor_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"RAW"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"body_content"},name:{kind:"Name",value:"body"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"HTML"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"body_format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subject"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"RAW"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"subject_content"},name:{kind:"Name",value:"subject"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"HTML"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"subject_format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overridden_body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overridden_subject"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overridden_recipient"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolver_class_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolver_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolver_component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_custom"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parent_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schedule_offset"},arguments:[{kind:"Argument",name:{kind:"Name",value:"unit"},value:{kind:"EnumValue",value:"DAY"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"schedule_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schedule_label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overridden_schedule"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overridden_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overridden_forced_delivery_channels"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"forced_delivery_channels"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"recipient"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"class_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"extended_context"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"context_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"area"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"item_id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"parent_value"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subject"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"RAW"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"RAW"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"body_format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schedule_offset"},arguments:[{kind:"Argument",name:{kind:"Name",value:"unit"},value:{kind:"EnumValue",value:"DAY"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"schedule_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subject_format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"forced_delivery_channels"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"recipient"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"class_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}]},F={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"totara_notification_delete_notification_preference"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totara_notification_delete_notification_preference"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[]}]}}]},C={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"totara_notification_update_notifiable_event_default_delivery_channels"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"resolver_class_name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"default_delivery_channels"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"default_delivery_channels"},name:{kind:"Name",value:"totara_notification_update_default_delivery_channels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"resolver_class_name"},value:{kind:"Variable",name:{kind:"Name",value:"resolver_class_name"}}},{kind:"Argument",name:{kind:"Name",value:"default_delivery_channels"},value:{kind:"Variable",name:{kind:"Name",value:"default_delivery_channels"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_sub_delivery_channel"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parent_component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"display_order"},arguments:[],directives:[]}]}}]}}]},V={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"totara_notification_toggle_notifiable_event"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"resolver_class_name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"extended_context"}},type:{kind:"NamedType",name:{kind:"Name",value:"totara_notification_extended_context_input"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"is_enabled"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"notifiable_event"},name:{kind:"Name",value:"totara_notification_toggle_notifiable_event"},arguments:[{kind:"Argument",name:{kind:"Name",value:"resolver_class_name"},value:{kind:"Variable",name:{kind:"Name",value:"resolver_class_name"}}},{kind:"Argument",name:{kind:"Name",value:"extended_context"},value:{kind:"Variable",name:{kind:"Name",value:"extended_context"}}},{kind:"Argument",name:{kind:"Name",value:"is_enabled"},value:{kind:"Variable",name:{kind:"Name",value:"is_enabled"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"class_name"},arguments:[],directives:[]}]}}]}}]},S={components:{Layout:d.a,NotificationTable:u.a,ModalPresenter:m.a,NotificationPreferenceModal:_.a,DeleteConfirmationModal:k.a,DeliveryPreferenceModal:b.a},props:{title:{type:String,required:!0},contextId:{type:[Number,String],required:!0},preferredEditorFormat:[Number,String],extendedContext:{type:Object,default:function(){return{}},validate:function(e){return"component"in e&&"area"in e&&"itemId"in e&&(""===e.component&&""===e.area&&0==e.itemId||""!==e.component&&""!==e.area&&0!=e.itemId)}},canChangeDeliveryChannelDefaults:Boolean},apollo:{eventResolvers:{query:h,variables:function(){return{extended_context:{context_id:this.contextId,component:this.extendedContext.component,area:this.extendedContext.area,item_id:this.extendedContext.itemId}}},update:function(e){var n=e.resolvers,t={};return n.forEach((function(e){var n=e.component,i=e.plugin_name,a=e.recipients;t[n]||(t[n]={component:n,plugin_name:i,resolvers:[],recipients:a}),t[n].resolvers.push(e)})),Object.values(t)}}},data:function(){return{modal:{open:!1,title:"",state:null},deleteModal:{open:!1},deliveryPreferenceModal:{open:!1},deleting:!1,targetResolverClassName:null,targetDeletePreference:null,targetPreference:null,targetScheduleTypes:[],targetAvailableRecipients:[],targetDefaultDeliveryChannels:[],targetResolverLabel:null}},computed:{deleteNotificationTitle:function(){var e="";return this.targetDeletePreference&&(e=this.$str("delete_confirm_title","totara_notification",this.targetDeletePreference.title)),e},queryVariables:function(){return{extended_context:{context_id:this.contextId,component:this.extendedContext.component,area:this.extendedContext.area,item_id:this.extendedContext.itemId}}}},methods:{resetState:function(){this.targetResolverClassName=null,this.targetPreference=null,this.modal.title="",this.targetScheduleTypes=[],this.targetDefaultDeliveryChannels=[],this.targetResolverLabel=null},handleCreateCustomNotification:function(e){var n=e.resolverClassName,t=e.scheduleTypes,i=e.recipients,a=e.deliveryChannels;this.modal.title=this.$str("create_custom_notification_title","totara_notification"),this.modal.open=!0,this.modal.state="create",this.targetResolverClassName=n,this.targetScheduleTypes=t,this.targetAvailableRecipients=i,this.targetDefaultDeliveryChannels=a},handleEditNotification:function(e,n,t,i){var r=this;return a()(l.a.mark((function a(){return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.getOverriddenPreference(e);case 2:r.targetPreference=a.sent,r.targetResolverClassName=r.targetPreference.resolver_class_name,r.targetScheduleTypes=n,r.targetAvailableRecipients=t,r.targetDefaultDeliveryChannels=i,r.modal.title=r.$str("edit_notification","totara_notification"),r.modal.open=!0,r.modal.state="update";case 10:case"end":return a.stop()}}),a)})))()},handleUpdateDeliveryPreferences:function(e){var n=this,t=e.resolverClassName,i=e.resolverLabel,r=e.defaultDeliveryChannels;return a()(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.targetResolverClassName=t,n.targetResolverLabel=i,n.targetDefaultDeliveryChannels=r,n.deliveryPreferenceModal.open=!0;case 4:case"end":return e.stop()}}),e)})))()},deleteNotification:function(){var e=this;return a()(l.a.mark((function n(){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.handleDeleteNotification(e.targetDeletePreference);case 2:e.deleteModal.open=!1,Object(y.notify)({type:"success",message:e.$str("delete_success","totara_notification")});case 4:case"end":return n.stop()}}),n)})))()},handleDeleteNotification:function(e){var n=this;return a()(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.$apollo.mutate({mutation:F,variables:{id:e.id},update:function(t){var i=t.readQuery({query:h,variables:n.queryVariables}).resolvers,a=e.extended_context,r=e.id,l=e.resolver_class_name,o=a.component;i=(i=Object.assign([],i)).map((function(e){var n=e.notification_preferences;return n.map((function(e){return e.extended_context&&e.extended_context.component})).includes(o)&&e.class_name===l?((e=Object.assign({},e)).notification_preferences=n.filter((function(e){return e.id!==r})),e):e})),t.writeQuery({query:h,variables:n.queryVariables,data:{resolvers:i}})}});case 2:case"end":return t.stop()}}),t)})))()},confirmDeleteNotification:function(e){this.targetDeletePreference=e,this.deleteModal.open=!0},handleFormSubmit:function(e){var n=this;return a()(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("create"!==n.modal.state){t.next=5;break}return t.next=3,n.createCustomNotification(e);case 3:t.next=11;break;case 5:if("update"!==n.modal.state){t.next=10;break}return t.next=8,n.updateNotification(e);case 8:t.next=11;break;case 10:throw new Error("The modal state is invalid");case 11:n.modal.open=!1,Object(y.notify)({type:"success",message:"create"===n.modal.state?n.$str("saved_notification","totara_notification"):n.$str("updated_notification","totara_notification")});case 13:case"end":return t.stop()}}),t)})))()},createCustomNotification:function(e){var n=this,t=e.subject,i=e.body,r=e.title,o=e.body_format,d=e.resolver_class_name,s=e.schedule_type,u=e.schedule_offset,c=e.subject_format,m=e.recipient,v=e.enabled,_=e.forced_delivery_channels;return a()(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={body:i,subject:t,title:r,body_format:o,resolver_class_name:d,subject_format:c,context_id:n.contextId,schedule_type:s,schedule_offset:u,recipient:m,enabled:v,forced_delivery_channels:_},n.extendedContext.area&&n.extendedContext.component&&n.extendedContext.itemId&&(a.extended_context_area=n.extendedContext.area,a.extended_context_component=n.extendedContext.component,a.extended_context_item_id=n.extendedContext.itemId),e.next=4,n.$apollo.mutate({mutation:N,variables:a,update:function(e,t){var i=t.data.notification_preference,a=e.readQuery({query:h,variables:n.queryVariables}).resolvers,r=i.resolver_component,l=i.resolver_class_name;e.writeQuery({query:h,variables:n.queryVariables,data:{resolvers:a.map((function(e){if(e.component===r&&e.class_name===l){var n=(e=Object.assign({},e)).notification_preferences;e.notification_preferences=[i].concat(n)}return e}))}})}});case 4:case"end":return e.stop()}}),e)})))()},getOverriddenPreference:function(e){var n=this;return a()(l.a.mark((function t(){var i,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.extended_context.context_id!=n.contextId){t.next=2;break}return t.abrupt("return",e);case 2:return t.next=4,n.$apollo.mutate({mutation:g,variables:{context_id:n.contextId,resolver_class_name:e.resolver_class_name,extended_context_component:n.extendedContext.component,extended_context_area:n.extendedContext.area,extended_context_item_id:n.extendedContext.itemId,ancestor_id:e.ancestor_id?e.ancestor_id:e.id},update:function(e,t){var i=t.data.notification_preference,a=e.readQuery({query:h,variables:n.queryVariables}).resolvers,r=i.resolver_component,l=i.resolver_class_name,o=i.parent_id;e.writeQuery({query:h,variables:n.queryVariables,data:{resolvers:a.map((function(e){if(e.component===r&&e.class_name===l){var n=(e=Object.assign({},e)).notification_preferences;e.notification_preferences=n.map((function(e){return e.id==o?i:e}))}return e}))}})}});case 4:return i=t.sent,a=i.data.notification_preference,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})))()},updateNotification:function(e){var n=this,t=e.subject,i=e.title,r=e.body,o=e.body_format,d=e.schedule_type,s=e.schedule_offset,u=e.subject_format,c=e.recipient,m=e.enabled,v=e.forced_delivery_channels;return a()(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.targetPreference){e.next=2;break}throw new Error("Cannot run update while target preference is empty");case 2:return e.next=4,n.$apollo.mutate({mutation:x,variables:{id:n.targetPreference.id,subject:t,body:r,body_format:o,subject_format:u,title:n.targetPreference.is_custom&&!n.targetPreference.parent_id?i:void 0,schedule_type:d,schedule_offset:s,recipient:c,enabled:m,forced_delivery_channels:v},update:function(e,t){var i=t.data.notification_preference,a=e.readQuery({query:h,variables:n.queryVariables}).resolvers,r=i.resolver_component,l=i.resolver_class_name;e.writeQuery({query:h,variables:n.queryVariables,data:{resolvers:a.map((function(e){if(e.component===r&&e.class_name===l){var n=(e=Object.assign({},e)).notification_preferences;e.notification_preferences=n.map((function(e){return e.id==i.id?i:e}))}return e}))}})}});case 4:case"end":return e.stop()}}),e)})))()},handleNotificationPreferenceSubmit:function(e){var n=this,t=e.delivery_channels,i=e.resolver_class_name;return a()(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.$apollo.mutate({mutation:C,variables:{resolver_class_name:i,default_delivery_channels:t},update:function(e,t){var a=t.data.default_delivery_channels,r=e.readQuery({query:h,variables:n.queryVariables}).resolvers;r=(r=Object.assign([],r)).map((function(e){return e.class_name===i&&((e=Object.assign({},e)).default_delivery_channels=a),e})),e.writeQuery({query:h,variables:n.queryVariables,data:{resolvers:r}})}});case 2:n.deliveryPreferenceModal.open=!1;case 3:case"end":return e.stop()}}),e)})))()},statusToggle:function(e){var n=this,t=e.value,i=e.resolver;return a()(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.$apollo.mutate({mutation:V,variables:{resolver_class_name:i.class_name,extended_context:{context_id:n.contextId,component:n.extendedContext.component,area:n.extendedContext.area,item_id:n.extendedContext.itemId},is_enabled:t},update:function(e,a){var r=a.data.notifiable_event,l=e.readQuery({query:h,variables:n.queryVariables}).resolvers,o=i.notification_preferences;e.writeQuery({query:h,variables:n.queryVariables,data:{resolvers:l.map((function(e){return e.class_name===r.class_name&&((e=Object.assign({},e)).status=Object.assign({},e.status,{is_enabled:t,__typename:e.status.__typename}),e.notification_preferences=o.map((function(e){return e}))),e}))}})}});case 2:case"end":return e.stop()}}),e)})))()}}},D=t("KHd+"),T=function(e){e.options.__langStrings={core:["delete"],totara_notification:["create_custom_notification_title","delete_confirm_title","delete_confirm_message","delete_success","edit_delivery_preferences","edit_notification","saved_notification","updated_notification"]}},w=Object(D.a)(S,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("Layout",{staticClass:"tui-notificationPage",attrs:{title:e.title,loading:e.$apollo.loading},scopedSlots:e._u([e.$apollo.loading?null:{key:"content",fn:function(){return[t("NotificationTable",{staticClass:"tui-notificationPage__table",attrs:{"event-resolvers":e.eventResolvers,"context-id":parseInt(e.contextId),"show-delivery-preference-option":e.canChangeDeliveryChannelDefaults},on:{"status-toggle":e.statusToggle,"create-custom-notification":e.handleCreateCustomNotification,"edit-notification":e.handleEditNotification,"delete-notification":e.confirmDeleteNotification,"update-delivery-preferences":e.handleUpdateDeliveryPreferences}})]},proxy:!0},{key:"modals",fn:function(){return[t("ModalPresenter",{attrs:{open:e.modal.open},on:{"request-close":function(n){e.modal.open=!1},"close-complete":e.resetState}},[t("NotificationPreferenceModal",{attrs:{"context-id":e.contextId,"resolver-class-name":e.targetResolverClassName,preference:e.targetPreference||void 0,"parent-value":e.targetPreference?e.targetPreference.parent_value:null,title:e.modal.title,"valid-schedule-types":e.targetScheduleTypes,"available-recipients":e.targetAvailableRecipients,"default-delivery-channels":e.targetDefaultDeliveryChannels,"preferred-editor-format":null!==e.preferredEditorFormat?Number(e.preferredEditorFormat):null},on:{"form-submit":e.handleFormSubmit}})],1),e._v(" "),t("DeleteConfirmationModal",{attrs:{open:e.deleteModal.open,title:e.deleteNotificationTitle,"confirm-button-text":e.$str("delete","core"),loading:e.deleting},on:{confirm:e.deleteNotification,cancel:function(n){e.deleteModal.open=!1}}},[[t("p",[e._v(e._s(e.$str("delete_confirm_message","totara_notification")))])]],2),e._v(" "),e.canChangeDeliveryChannelDefaults?t("ModalPresenter",{attrs:{open:e.deliveryPreferenceModal.open},on:{"request-close":function(n){e.deliveryPreferenceModal.open=!1},"close-complete":e.resetState}},[t("DeliveryPreferenceModal",{attrs:{"context-id":e.contextId,"resolver-class-name":e.targetResolverClassName,"resolver-label":e.targetResolverLabel,"default-delivery-channels":e.targetDefaultDeliveryChannels,title:e.$str("edit_delivery_preferences","totara_notification")},on:{"form-submit":e.handleNotificationPreferenceSubmit}})],1):e._e()]},proxy:!0}],null,!0)})}),[],!1,null,null,null);"function"==typeof T&&T(w),w.options.__hasBlocks={script:!0,template:!0};n.default=w.exports},FnWa:function(e,n,t){"use strict";t.r(n);var i=t("tkAW"),a=t.n(i),r=t("u5iS"),l=t.n(r),o=t("HAvG"),d=t.n(o),s=t("Tdxx"),u={components:{Modal:a.a,ModalContent:l.a,DeliveryPreferenceForm:d.a},props:{title:{type:String,required:!0},showCloseButton:{type:Boolean,default:!0},defaultDeliveryChannels:{type:Array,required:!0,validator:Object(s.d)()},resolverClassName:{type:String,required:!0},resolverLabel:{type:String,required:!0},showOverride:Boolean,initialOverrideStatus:Boolean},methods:{handleSubmit:function(e,n){var t={resolver_class_name:this.resolverClassName,delivery_channels:e};this.$emit("form-submit",t,n)}}},c=t("KHd+"),m=function(e){e.options.__langStrings={totara_notification:["notification_trigger"]}},v=Object(c.a)(u,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("Modal",{attrs:{size:"large","aria-labelledby":e.$id("title"),dismissable:{esc:!0,backdropClick:!0,overlayClose:!1}}},[t("ModalContent",{attrs:{title:e.title,"title-id":e.$id("title"),"close-button":e.showCloseButton}},[t("p",[e._v("\n      "+e._s(e.$str("notification_trigger","totara_notification",e.resolverLabel))+"\n    ")]),e._v(" "),t("DeliveryPreferenceForm",{attrs:{"default-delivery-channels":e.defaultDeliveryChannels,"show-override":e.showOverride,"initial-override-status":e.initialOverrideStatus},on:{"form-submit":e.handleSubmit,cancel:function(n){return e.$emit("request-close")}}})],1)],1)}),[],!1,null,null,null);"function"==typeof m&&m(v),v.options.__hasBlocks={script:!0,template:!0};n.default=v.exports},GEsA:function(e,n){},HAvG:function(e,n){e.exports=tui.require("totara_notification/components/form/DeliveryPreferenceForm")},IqB1:function(e,n){e.exports=tui.require("tui/components/collapsible/Collapsible")},JThd:function(e,n){e.exports=tui.require("tui/components/icons/CheckSuccess")},"K2m/":function(e,n){e.exports=tui.require("totara_notification/components/table/UserPreferencesTable")},KGcv:function(e,n){e.exports=tui.require("tui/components/dropdown/DropdownItem")},KGot:function(e,n){e.exports=tui.require("tui/components/datatable/Cell")},"KHd+":function(e,n,t){"use strict";function i(e,n,t,i,a,r,l,o){var d,s="function"==typeof e?e.options:e;if(n&&(s.render=n,s.staticRenderFns=t,s._compiled=!0),i&&(s.functional=!0),r&&(s._scopeId="data-v-"+r),l?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(l)},s._ssrRegister=d):a&&(d=o?function(){a.call(this,(s.functional?this.parent:this).$root.$options.shadowRoot)}:a),d)if(s.functional){s._injectStyles=d;var u=s.render;s.render=function(e,n){return d.call(n),u(e,n)}}else{var c=s.beforeCreate;s.beforeCreate=c?[].concat(c,d):[d]}return{exports:e,options:s}}t.d(n,"a",(function(){return i}))},Mnur:function(e,n){e.exports=tui.require("tui/components/modal/ModalPresenter")},PuHf:function(e,n){e.exports=tui.require("totara_notification/components/action/NotificationAction")},Tdly:function(e,n,t){!function(){"use strict";"undefined"!=typeof tui&&tui._bundle.isLoaded("totara_notification")?console.warn('[tui bundle] The bundle "totara_notification" is already loaded, skipping initialisation.'):(tui._bundle.register("totara_notification"),tui._bundle.addModulesFromContext("totara_notification/components",t("6u1p")),tui._bundle.addModulesFromContext("totara_notification/pages",t("BKk5")))}()},Tdxx:function(e,n,t){"use strict";t.d(n,"a",(function(){return a})),t.d(n,"e",(function(){return r})),t.d(n,"c",(function(){return l})),t.d(n,"d",(function(){return o})),t.d(n,"b",(function(){return d}));var i=["subject","body","body_format","title","schedule_type","schedule_offset","subject_format","recipient","enabled","forced_delivery_channels"],a={ON_EVENT:"ON_EVENT",BEFORE_EVENT:"BEFORE_EVENT",AFTER_EVENT:"AFTER_EVENT"};function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=e.concat(i);return function(e){return 0===n.filter((function(n){return!(n in e)})).length}}function l(){return function(e){return e.every((function(e){return"class_name"in e&&"name"in e}))}}function o(){return function(e){return e.every((function(e){return"component"in e&&"label"in e&&"is_enabled"in e&&"is_sub_delivery_channel"in e&&"parent_component"in e}))}}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={subject:"",body:"",body_format:null,subject_format:null,title:null,schedule_type:a.ON_EVENT,schedule_offset:null,recipient:null,enabled:!1,forced_delivery_channels:[]};return function(){return Object.assign({},n,e)}}},TyRh:function(e,n,t){"use strict";t.r(n);var i=t("tkAW"),a=t.n(i),r=t("u5iS"),l=t.n(r),o=t("7zst"),d=t.n(o),s=t("Tdxx"),u={components:{Modal:a.a,ModalContent:l.a,NotificationPreferenceForm:d.a},props:{title:{type:String,required:!0},contextId:{type:Number,required:!0},showCloseButton:{type:Boolean,default:!0},preference:{type:Object,validator:Object(s.e)(),default:Object(s.b)({body_content:"",subject_content:""})},parentValue:{type:Object,validator:Object(s.e)(),default:function(){return null}},resolverClassName:{type:String,required:!0},validScheduleTypes:{type:Array,required:!0},availableRecipients:{type:Array,required:!0,validator:Object(s.c)()},defaultDeliveryChannels:{type:Array,required:!0,validator:Object(s.d)()},preferredEditorFormat:Number},methods:{handleSubmit:function(e){this.resolverClassName&&(e.resolver_class_name=this.resolverClassName),this.$emit("form-submit",e)}}},c=(t("tZ6d"),t("KHd+")),m=Object(c.a)(u,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("Modal",{attrs:{size:"large","aria-labelledby":e.$id("title"),dismissable:{esc:!0,backdropClick:!1,overlayClose:!1}}},[t("ModalContent",{attrs:{title:e.title,"title-id":e.$id("title"),"close-button":e.showCloseButton}},[t("NotificationPreferenceForm",{staticClass:"tui-notificationPreferenceModal__form",attrs:{"context-id":e.contextId,preference:e.preference,"parent-value":e.parentValue,"valid-schedule-types":e.validScheduleTypes,"resolver-class-name":e.resolverClassName,"available-recipients":e.availableRecipients,"default-delivery-channels":e.defaultDeliveryChannels,"preferred-editor-format":e.preferredEditorFormat},on:{submit:e.handleSubmit,cancel:function(n){return e.$emit("request-close")}}})],1)],1)}),[],!1,null,null,null);m.options.__hasBlocks={script:!0,template:!0};n.default=m.exports},UMYj:function(e,n){e.exports=tui.require("tui/components/editor/Editor")},UbXC:function(e,n){e.exports=tui.require("tui/components/form/RadioNumberInput")},VX2K:function(e,n){e.exports=tui.require("tui/components/form/Radio")},Vwoz:function(e,n){e.exports=tui.require("tui/components/collapsible/CollapsibleGroupToggle")},WBvU:function(e,n){e.exports=tui.require("tui/components/uniform")},XTJy:function(e,n){e.exports=tui.require("totara_notification/components/table/NotificationTable")},XaQC:function(e,n){e.exports=tui.require("totara_notification/components/form/field/ForceDeliveryChannels")},bxeI:function(e,n){e.exports=tui.require("tui/components/layouts/LayoutOneColumn")},coz5:function(e,n){e.exports=tui.require("totara_notification/components/modal/DeliveryPreferenceModal")},dB5e:function(e,n){e.exports=tui.require("tui/editor")},ddbG:function(e,n){},e3MU:function(e,n){e.exports=tui.require("tui/components/buttons/InfoIconButton")},fhDg:function(e,n,t){"use strict";t.r(n);var i=t("yXPU"),a=t.n(i),r=t("o0o1"),l=t.n(r),o=t("bxeI"),d=t.n(o),s=t("K2m/"),u=t.n(s),c=t("vyVp"),m=t("Mnur"),v=t.n(m),_=t("coz5"),f=t.n(_),k={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"totara_notification_update_notifiable_event_user_preference"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"resolver_class_name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"is_enabled"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"user_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"extended_context"}},type:{kind:"NamedType",name:{kind:"Name",value:"totara_notification_extended_context_input"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"user_preference_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"notifiable_event_user_preference"},name:{kind:"Name",value:"totara_notification_update_notifiable_event_user_preference"},arguments:[{kind:"Argument",name:{kind:"Name",value:"resolver_class_name"},value:{kind:"Variable",name:{kind:"Name",value:"resolver_class_name"}}},{kind:"Argument",name:{kind:"Name",value:"is_enabled"},value:{kind:"Variable",name:{kind:"Name",value:"is_enabled"}}},{kind:"Argument",name:{kind:"Name",value:"user_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}},{kind:"Argument",name:{kind:"Name",value:"extended_context"},value:{kind:"Variable",name:{kind:"Name",value:"extended_context"}}},{kind:"Argument",name:{kind:"Name",value:"user_preference_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_preference_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"plugin_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolver_class_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user_preference_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overridden_delivery_channels"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"delivery_channels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_sub_delivery_channel"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parent_component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"display_order"},arguments:[],directives:[]}]}}]}}]}}]},p={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"totara_notification_update_user_delivery_channels"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"resolver_class_name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"delivery_channels"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"user_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"extended_context"}},type:{kind:"NamedType",name:{kind:"Name",value:"totara_notification_extended_context_input"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"user_preference_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"notifiable_event_user_preference"},name:{kind:"Name",value:"totara_notification_update_notifiable_event_user_delivery_channels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"resolver_class_name"},value:{kind:"Variable",name:{kind:"Name",value:"resolver_class_name"}}},{kind:"Argument",name:{kind:"Name",value:"delivery_channels"},value:{kind:"Variable",name:{kind:"Name",value:"delivery_channels"}}},{kind:"Argument",name:{kind:"Name",value:"user_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}},{kind:"Argument",name:{kind:"Name",value:"extended_context"},value:{kind:"Variable",name:{kind:"Name",value:"extended_context"}}},{kind:"Argument",name:{kind:"Name",value:"user_preference_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_preference_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"plugin_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolver_class_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user_preference_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overridden_delivery_channels"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"delivery_channels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_sub_delivery_channel"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parent_component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"display_order"},arguments:[],directives:[]}]}}]}}]}}]},b={components:{Layout:d.a,UserPreferencesTable:u.a,ModalPresenter:v.a,DeliveryPreferenceModal:f.a},props:{resolverPreferences:{type:Array,required:!0},extendedContext:{type:Object,default:function(){return{}},validate:function(e){return"component"in e&&"area"in e&&"itemId"in e&&(""===e.component&&""===e.area&&0==e.itemId||""!==e.component&&""!==e.area&&0!=e.itemId)}}},data:function(){return{userPreferencesList:this.resolverPreferences,groupedPreferences:[],deliveryPreferenceModal:{open:!1},targetResolverClassName:null,targetResolverLabel:null,targetDefaultDeliveryChannels:null,userPreferenceId:null,OverrideDeliveryChannels:!1,showDeliveryChannelsOverride:!0,preferences:this.resolverPreferences}},computed:{groupPreferences:function(){var e={};return this.userPreferencesList.forEach((function(n){var t=n.component,i=n.plugin_name;e[t]||(e[t]={component:t,plugin_name:i,resolvers:[]}),e[t].resolvers.push(n)})),Object.values(e)}},watch:{groupPreferences:{immediate:!0,deep:!0,handler:function(e){this.groupedPreferences=e}}},methods:{resetState:function(){this.targetResolverClassName=null,this.targetDefaultDeliveryChannels=null,this.targetResolverLabel=null},saveUserPreference:function(e){var n=this,t=e.userId,i=e.resolverClassname,r=e.isEnabled,o=e.userPreferenceId;return a()(l.a.mark((function e(){var a,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.$apollo.mutate({mutation:k,variables:{user_id:t,resolver_class_name:i,extended_context:n.extendedContext,is_enabled:r,user_preference_id:o}});case 3:a=e.sent,d=a.data,n.updateResolverPreferenceList(d.notifiable_event_user_preference),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(c.notify)({type:"error",message:n.$str("error_user_preference_permission","totara_notification")});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()},updateResolverPreferenceList:function(e){var n=Object.assign([],this.groupedPreferences).find((function(n){return n.component===e.component}));n.resolvers=n.resolvers.map((function(n){return n.resolver_class_name===e.resolver_class_name&&n.component===e.component&&n.name===e.name&&n.plugin_name===e.plugin_name?e:n}))},handleUpdateDeliveryPreferences:function(e){var n=e.resolverClassName,t=e.resolverLabel,i=e.defaultDeliveryChannels,a=e.OverrideDeliveryChannels,r=e.userPreferenceId;this.targetResolverClassName=n,this.targetResolverLabel=t,this.targetDefaultDeliveryChannels=i,this.OverrideDeliveryChannels=a,this.userPreferenceId=r,this.deliveryPreferenceModal.open=!0},handleNotificationPreferenceSubmit:function(e,n){var t=this,i=e.delivery_channels,r=e.resolver_class_name;return a()(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n?i:null,e.next=3,t.$apollo.mutate({mutation:p,variables:{resolver_class_name:r,extended_context:t.extendedContext,delivery_channels:a,user_preference_id:t.userPreferenceId},update:function(e,n){var i=n.data.notifiable_event_user_preference,a=Object.assign([],t.groupedPreferences).find((function(e){return e.component===i.component}));a.resolvers=a.resolvers.map((function(e){return e.resolver_class_name===i.resolver_class_name&&e.name===i.name?i:e}))}});case 3:t.deliveryPreferenceModal.open=!1;case 4:case"end":return e.stop()}}),e)})))()}}},y=t("KHd+"),h=function(e){e.options.__langStrings={totara_notification:["error_user_preference_permission","user_preferences_page_title","delivery_preferences"]}},N=Object(y.a)(b,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("Layout",{staticClass:"tui-userPreferences",attrs:{title:e.$str("user_preferences_page_title","totara_notification"),loading:e.$apollo.loading},scopedSlots:e._u([e.$apollo.loading?null:{key:"content",fn:function(){return[t("UserPreferencesTable",{staticClass:"tui-userPreferences__table",attrs:{"event-resolvers":e.groupedPreferences},on:{"toggle-enabled":e.saveUserPreference,"update-delivery-preferences":e.handleUpdateDeliveryPreferences}}),e._v(" "),t("ModalPresenter",{attrs:{open:e.deliveryPreferenceModal.open},on:{"request-close":function(n){e.deliveryPreferenceModal.open=!1},"close-complete":e.resetState}},[t("DeliveryPreferenceModal",{attrs:{title:e.$str("delivery_preferences","totara_notification"),"resolver-class-name":e.targetResolverClassName,"resolver-label":e.targetResolverLabel,"default-delivery-channels":e.targetDefaultDeliveryChannels,"show-override":e.showDeliveryChannelsOverride,"initial-override-status":e.OverrideDeliveryChannels},on:{"form-submit":e.handleNotificationPreferenceSubmit}})],1)]},proxy:!0}],null,!0)})}),[],!1,null,null,null);"function"==typeof h&&h(N),N.options.__hasBlocks={script:!0,template:!0};n.default=N.exports},gLvT:function(e,n){e.exports=tui.require("tui/components/dropdown/Dropdown")},hjaT:function(e,n){e.exports=tui.require("tui/components/form/Checkbox")},"i/kK":function(e,n){e.exports=tui.require("tui/components/form/FormRow")},"iJY/":function(e,n){},jv1t:function(e,n){},kMiS:function(e,n,t){"use strict";t.r(n);var i=t("vF5l"),a=t.n(i),r=t("IqB1"),l=t.n(r),o=t("Vwoz"),d=t.n(o),s=t("KGot"),u=t.n(s),c=t("rsf9"),m=t.n(c),v=t("5qAA"),_=t.n(v),f=t("yikf"),k=t.n(f),p=t("PuHf"),b=t.n(p),y=t("Djw7"),h=t.n(y),N=t("lOlL"),g=t.n(N),x=t("e3MU"),F=t.n(x),C={components:{Button:a.a,Collapsible:l.a,CollapsibleGroupToggle:d.a,Cell:u.a,ExpandCell:m.a,HeaderCell:_.a,Table:k.a,NotificationAction:b.a,NotifiableEventAction:h.a,ToggleSwitch:g.a,InfoIconButton:F.a},props:{contextId:{type:Number,required:!0},eventResolvers:{type:Array,default:function(){return[]},validator:function(e){return e.every((function(e){return"component"in e&&"resolvers"in e&&"recipients"in e&&"plugin_name"in e}))}},showDeliveryPreferenceOption:Boolean},data:function(){var e={};return this.eventResolvers.forEach((function(n){return e[n.component]=!1})),{expanded:e}},methods:{display_delivery_channels:function(e){return e.filter((function(e){return e.is_enabled})).map((function(e){return e.label})).join("; ")},onStatusToggle:function(e,n){var t={value:e,resolver:n};this.$emit("status-toggle",t)}}},V=(t("GEsA"),t("KHd+")),S=function(e){e.options.__langStrings={totara_notification:["notifiable_events","recipient","schedule","custom","delivery_channels","disable","disabled","delivery_preferences_helptext_aria","default_delivery_preferences_helptext","enabled","enabled_helptext","enabled_helptext_aria","enable_status","factory","inherited","notifications","create_notification","create_notification_for_event","no_notifications","type"],core:["actions","status"]}},D=Object(V.a)(C,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("CollapsibleGroupToggle",{attrs:{"align-end":!1,transparent:!1},model:{value:e.expanded,callback:function(n){e.expanded=n},expression:"expanded"}}),e._v(" "),t("div",{staticClass:"tui-notificationTable"},e._l(e.eventResolvers,(function(n){return t("Collapsible",{key:n.component,attrs:{label:n.plugin_name,"indent-contents":!0},model:{value:e.expanded[n.component],callback:function(t){e.$set(e.expanded,n.component,t)},expression:"expanded[eventResolver.component]"}},[t("Table",{attrs:{data:n.resolvers,"expandable-rows":!0,"expand-multiple-rows":!0,"border-bottom-hidden":!0,"hover-off":!0,"indent-expanded-contents":!0,"stealth-expanded":!0},scopedSlots:e._u([{key:"header-row",fn:function(){return[t("ExpandCell",{attrs:{hidden:!0,header:!0}}),e._v(" "),t("HeaderCell",{attrs:{size:"4"}},[e._v("\n            "+e._s(e.$str("notifiable_events","totara_notification"))+"\n          ")]),e._v(" "),t("HeaderCell",{attrs:{size:"4"}},[t("div",{staticClass:"tui-notificationTable__header"},[e._v("\n              "+e._s(e.$str("delivery_channels","totara_notification"))+"\n              "),t("InfoIconButton",{attrs:{"aria-label":e.$str("delivery_preferences_helptext_aria","totara_notification")}},[e._v("\n                "+e._s(e.$str("default_delivery_preferences_helptext","totara_notification"))+"\n              ")])],1)]),e._v(" "),t("HeaderCell",{attrs:{align:"start",size:"2"}},[t("div",{staticClass:"tui-notificationTable__header"},[e._v("\n              "+e._s(e.$str("enabled","totara_notification"))+"\n              "),t("InfoIconButton",{attrs:{"aria-label":e.$str("enabled_helptext_aria","totara_notification")}},[e._v("\n                "+e._s(e.$str("enabled_helptext","totara_notification"))+"\n              ")])],1)]),e._v(" "),t("HeaderCell",{attrs:{size:"1"}},[t("span",{staticClass:"sr-only"},[e._v("\n              "+e._s(e.$str("actions","core"))+"\n            ")])])]},proxy:!0},{key:"row",fn:function(n){var i=n.expand,a=n.expandState,r=n.row;return[t("ExpandCell",{attrs:{"aria-label":r.name,"expand-state":a},on:{click:function(e){return i()}}}),e._v(" "),t("Cell",{attrs:{size:"4","column-header":e.$str("notifiable_events","totara_notification")}},[e._v("\n            "+e._s(r.name)+"\n          ")]),e._v(" "),t("Cell",{attrs:{size:"4","column-header":e.$str("delivery_channels","totara_notification")}},[e._v("\n            "+e._s(e.display_delivery_channels(r.default_delivery_channels))+"\n          ")]),e._v(" "),t("Cell",{attrs:{align:"start",size:"2","column-header":e.$str("enabled","totara_notification")}},[t("ToggleSwitch",{attrs:{"aria-label":e.$str("enable_status","totara_notification",r.name),value:r.status.is_enabled,"toggle-only":!0},on:{input:function(n){return e.onStatusToggle(n,r)}}})],1),e._v(" "),t("Cell",{attrs:{align:"end",size:"1"}},[t("NotifiableEventAction",{attrs:{"resolver-name":r.name,"show-delivery-preference-option":e.showDeliveryPreferenceOption},on:{"create-custom-notification":function(n){return e.$emit("create-custom-notification",{resolverClassName:r.class_name,scheduleTypes:r.valid_schedules,recipients:r.recipients,deliveryChannels:r.default_delivery_channels})},"update-delivery-preferences":function(n){return e.$emit("update-delivery-preferences",{resolverClassName:r.class_name,resolverLabel:r.name,defaultDeliveryChannels:r.default_delivery_channels})}}})],1)]}},{key:"expand-content",fn:function(n){var i=n.row;return[i.notification_preferences.length?t("Table",{class:{"tui-notificationTable__subTable":!i.status.is_enabled},attrs:{data:i.notification_preferences,"expandable-rows":!1,"expand-multiple-rows":!0,"hover-off":!0,"get-id":function(e,n){return n},"indent-expanded-contents":!0,"stealth-expanded":!0},scopedSlots:e._u([{key:"header-row",fn:function(){return[t("HeaderCell",{attrs:{align:"start",size:"4"}},[e._v("\n                "+e._s(e.$str("notifications","totara_notification"))+"\n              ")]),e._v(" "),t("HeaderCell",{attrs:{align:"start",size:"4"}},[e._v("\n                "+e._s(e.$str("type","totara_notification"))+"\n              ")]),e._v(" "),t("HeaderCell",{attrs:{align:"start",size:"4"}},[e._v("\n                "+e._s(e.$str("recipient","totara_notification"))+"\n              ")]),e._v(" "),t("HeaderCell",{attrs:{align:"start",size:"3"}},[e._v("\n                "+e._s(e.$str("schedule","totara_notification"))+"\n              ")]),e._v(" "),t("HeaderCell",{attrs:{align:"start",size:"2"}},[e._v("\n                "+e._s(e.$str("status","core"))+"\n              ")]),e._v(" "),t("HeaderCell",{attrs:{size:"1"}},[t("span",{staticClass:"sr-only"},[e._v("\n                  "+e._s(e.$str("actions","core"))+"\n                ")])])]},proxy:!0},{key:"row",fn:function(n){var a=n.row;return[t("Cell",{attrs:{align:"start",size:"4","column-header":e.$str("notifications","totara_notification")}},[e._v("\n                "+e._s(a.title)+"\n              ")]),e._v(" "),t("Cell",{attrs:{align:"start",size:"4","column-header":e.$str("type","totara_notification")}},[a.is_custom&&!a.ancestor_id?[e._v("\n                  "+e._s(e.$str("custom","totara_notification"))+"\n                ")]:a.is_custom||a.ancestor_id?[e._v("\n                  "+e._s(e.$str("inherited","totara_notification"))+"\n                ")]:[e._v("\n                  "+e._s(e.$str("factory","totara_notification"))+"\n                ")]],2),e._v(" "),t("Cell",{attrs:{align:"start",size:"4","column-header":e.$str("recipient","totara_notification")}},[e._v("\n                "+e._s(a.recipient.name)+"\n              ")]),e._v(" "),t("Cell",{attrs:{align:"start",size:"3","column-header":e.$str("schedule","totara_notification")}},[e._v("\n                "+e._s(a.schedule_label)+"\n              ")]),e._v(" "),t("Cell",{attrs:{align:"start",size:"2","column-header":e.$str("status","core")}},[i.status.is_enabled?[a.enabled?[e._v("\n                    "+e._s(e.$str("enabled","totara_notification"))+"\n                  ")]:e._e(),e._v(" "),a.enabled?e._e():[e._v("\n                    "+e._s(e.$str("disabled","totara_notification"))+"\n                  ")]]:[a.enabled?[t("del",[e._v(e._s(e.$str("enabled","totara_notification")))])]:e._e(),e._v(" "),a.enabled?e._e():[t("del",[e._v(e._s(e.$str("disabled","totara_notification")))])]]],2),e._v(" "),t("Cell",{attrs:{align:"end",size:"1"}},[t("NotificationAction",{attrs:{"preference-title":a.title,"is-deletable":a.is_custom&&null==a.parent_id},on:{"edit-notification":function(n){return e.$emit("edit-notification",a,i.valid_schedules,i.recipients,i.default_delivery_channels)},"delete-notification":function(n){return e.$emit("delete-notification",a)}}})],1)]}}],null,!0)}):[e._v("\n            "+e._s(e.$str("no_notifications","totara_notification"))+"\n\n            "),t("Button",{attrs:{text:e.$str("create_notification","totara_notification"),"aria-label":e.$str("create_notification_for_event","totara_notification",i.name)},on:{click:function(n){return e.$emit("create-custom-notification",{resolverClassName:i.class_name,scheduleTypes:i.valid_schedules,recipients:i.recipients,deliveryChannels:i.default_delivery_channels})}}})]]}}],null,!0)})],1)})),1)],1)}),[],!1,null,null,null);"function"==typeof S&&S(D),D.options.__hasBlocks={script:!0,template:!0};n.default=D.exports},klUK:function(e,n,t){"use strict";t.r(n);var i=t("gLvT"),a=t.n(i),r=t("KGcv"),l=t.n(r),o=t("5h9J"),d=t.n(o),s=t("tNJr"),u=t.n(s),c={components:{DropdownItem:l.a,Dropdown:a.a,ButtonIcon:d.a,MoreIcon:u.a},props:{resolverName:{type:String,required:!0},showDeliveryPreferenceOption:Boolean,showCreateNotificationOption:{type:Boolean,default:!0}}},m=(t("qAwj"),t("KHd+")),v=function(e){e.options.__langStrings={totara_notification:["actions_for_event","create_notification","create_notification_for_event","edit_delivery_preferences","delivery_preferences_for_event"]}},_=Object(m.a)(c,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"tui-notifiableEventAction"},[t("Dropdown",{scopedSlots:e._u([{key:"trigger",fn:function(n){var i=n.toggle,a=n.isOpen;return[t("ButtonIcon",{attrs:{styleclass:{small:!0,transparentNoPadding:!0},"aria-expanded":a?"true":"false","aria-label":e.$str("actions_for_event","totara_notification",e.resolverName)},on:{click:i}},[t("MoreIcon",{attrs:{size:300}})],1)]}}])},[e._v(" "),e.showCreateNotificationOption?t("DropdownItem",{attrs:{"aria-label":e.$str("create_notification_for_event","totara_notification",e.resolverName)},on:{click:function(n){return e.$emit("create-custom-notification")}}},[e._v("\n      "+e._s(e.$str("create_notification","totara_notification"))+"\n    ")]):e._e(),e._v(" "),e.showDeliveryPreferenceOption?t("DropdownItem",{attrs:{"aria-label":e.$str("delivery_preferences_for_event","totara_notification",e.resolverName)},on:{click:function(n){return e.$emit("update-delivery-preferences")}}},[e._v("\n      "+e._s(e.$str("edit_delivery_preferences","totara_notification"))+"\n    ")]):e._e()],1)],1)}),[],!1,null,null,null);"function"==typeof v&&v(_),_.options.__hasBlocks={script:!0,template:!0};n.default=_.exports},lOlL:function(e,n){e.exports=tui.require("tui/components/toggle/ToggleSwitch")},lSNA:function(e,n){e.exports=function(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e},e.exports.default=e.exports,e.exports.__esModule=!0},ls82:function(e,n,t){var i=function(e){"use strict";var n=Object.prototype,t=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",r=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function o(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{o({},"")}catch(e){o=function(e,n,t){return e[n]=t}}function d(e,n,t,i){var a=n&&n.prototype instanceof c?n:c,r=Object.create(a.prototype),l=new x(i||[]);return r._invoke=function(e,n,t){var i="suspendedStart";return function(a,r){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===a)throw r;return C()}for(t.method=a,t.arg=r;;){var l=t.delegate;if(l){var o=h(l,t);if(o){if(o===u)continue;return o}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if("suspendedStart"===i)throw i="completed",t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);i="executing";var d=s(e,n,t);if("normal"===d.type){if(i=t.done?"completed":"suspendedYield",d.arg===u)continue;return{value:d.arg,done:t.done}}"throw"===d.type&&(i="completed",t.method="throw",t.arg=d.arg)}}}(e,t,l),r}function s(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var u={};function c(){}function m(){}function v(){}var _={};_[a]=function(){return this};var f=Object.getPrototypeOf,k=f&&f(f(F([])));k&&k!==n&&t.call(k,a)&&(_=k);var p=v.prototype=c.prototype=Object.create(_);function b(e){["next","throw","return"].forEach((function(n){o(e,n,(function(e){return this._invoke(n,e)}))}))}function y(e,n){var i;this._invoke=function(a,r){function l(){return new n((function(i,l){!function i(a,r,l,o){var d=s(e[a],e,r);if("throw"!==d.type){var u=d.arg,c=u.value;return c&&"object"==typeof c&&t.call(c,"__await")?n.resolve(c.__await).then((function(e){i("next",e,l,o)}),(function(e){i("throw",e,l,o)})):n.resolve(c).then((function(e){u.value=e,l(u)}),(function(e){return i("throw",e,l,o)}))}o(d.arg)}(a,r,i,l)}))}return i=i?i.then(l,l):l()}}function h(e,n){var t=e.iterator[n.method];if(void 0===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=void 0,h(e,n),"throw"===n.method))return u;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var i=s(t,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,u;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,u):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,u)}function N(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function g(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function F(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function n(){for(;++i<e.length;)if(t.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=void 0,n.done=!0,n};return r.next=r}}return{next:C}}function C(){return{value:void 0,done:!0}}return m.prototype=p.constructor=v,v.constructor=m,m.displayName=o(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===m||"GeneratorFunction"===(n.displayName||n.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,o(e,l,"GeneratorFunction")),e.prototype=Object.create(p),e},e.awrap=function(e){return{__await:e}},b(y.prototype),y.prototype[r]=function(){return this},e.AsyncIterator=y,e.async=function(n,t,i,a,r){void 0===r&&(r=Promise);var l=new y(d(n,t,i,a),r);return e.isGeneratorFunction(t)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},b(p),o(p,l,"Generator"),p[a]=function(){return this},p.toString=function(){return"[object Generator]"},e.keys=function(e){var n=[];for(var t in e)n.push(t);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},e.values=F,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(g),!e)for(var n in this)"t"===n.charAt(0)&&t.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(t,i){return l.type="throw",l.arg=e,n.next=t,i&&(n.method="next",n.arg=void 0),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],l=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var o=t.call(r,"catchLoc"),d=t.call(r,"finallyLoc");if(o&&d){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(o){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(e,n){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc<=this.prev&&t.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=n&&n<=r.finallyLoc&&(r=null);var l=r?r.completion:{};return l.type=e,l.arg=n,r?(this.method="next",this.next=r.finallyLoc,u):this.complete(l)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),u},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),g(t),u}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var i=t.completion;if("throw"===i.type){var a=i.arg;g(t)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,t){return this.delegate={iterator:F(e),resultName:n,nextLoc:t},"next"===this.method&&(this.arg=void 0),u}},e}(e.exports);try{regeneratorRuntime=i}catch(e){Function("r","regeneratorRuntime = r")(i)}},nEm4:function(e,n){e.exports=tui.require("tui/components/form/Form")},nXMa:function(e,n){e.exports=tui.require("tui/components/buttons/Cancel")},o0o1:function(e,n,t){e.exports=t("ls82")},oMyG:function(e,n){e.exports=tui.require("totara_notification/components/modal/NotificationPreferenceModal")},oOjY:function(e,n,t){"use strict";t.r(n);var i=t("yXPU"),a=t.n(i),r=t("lSNA"),l=t.n(r),o=t("o0o1"),d=t.n(o),s=t("WBvU"),u=t("i/kK"),c=t.n(u),m=t("VX2K"),v=t.n(m),_=t("UbXC"),f=t.n(_),k=t("dB5e"),p=t("UMYj"),b=t.n(p),y=t("BN8m"),h=t.n(y),N=t("vF5l"),g=t.n(N),x=t("nXMa"),F=t.n(x),C=t("Tdxx"),V=t("XaQC"),S=t.n(V),D=t("hjaT"),T=t.n(D),w={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"totara_notification_validate_notification_preference_input"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"body"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"title"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"subject"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"schedule_type"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"schedule_offset"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"result"},name:{kind:"Name",value:"totara_notification_validate_notification_preference_input"},arguments:[{kind:"Argument",name:{kind:"Name",value:"title"},value:{kind:"Variable",name:{kind:"Name",value:"title"}}},{kind:"Argument",name:{kind:"Name",value:"subject"},value:{kind:"Variable",name:{kind:"Name",value:"subject"}}},{kind:"Argument",name:{kind:"Name",value:"body"},value:{kind:"Variable",name:{kind:"Name",value:"body"}}},{kind:"Argument",name:{kind:"Name",value:"schedule_type"},value:{kind:"Variable",name:{kind:"Name",value:"schedule_type"}}},{kind:"Argument",name:{kind:"Name",value:"schedule_offset"},value:{kind:"Variable",name:{kind:"Name",value:"schedule_offset"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"field_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error_message"},arguments:[],directives:[]}]}}]}}]};function j(e,n,t){var i,a={subject:{value:void 0,type:k.EditorContent},body:{value:void 0,type:k.EditorContent},title:{value:n&&n.title?n.title:e.title,type:"text"},schedule_type:{value:!n||e.overridden_schedule?e.schedule_type:n.schedule_type,type:"text"},schedule_offset:(i={},l()(i,C.a.BEFORE_EVENT,1),l()(i,C.a.AFTER_EVENT,1),l()(i,C.a.ON_EVENT,0),l()(i,"type","number"),i),recipient:e.recipient?e.recipient.class_name:null,enabled:{value:!n||e.overridden_enabled?e.enabled:n.enabled},forced_delivery_channels:{value:!n||e.forced_delivery_channels?e.forced_delivery_channels:n.forced_delivery_channels||[],type:"array"}};a.schedule_type.value!==C.a.ON_EVENT&&(a.schedule_offset[a.schedule_type.value]=null===n||e.overridden_schedule?e.schedule_offset:n.schedule_offset);var r=t,o=t;return!n||e.overridden_subject?(null!==e.subject_format&&(o=e.subject_format),a.subject.value=new k.EditorContent({format:o,content:e.subject})):(null!==n.subject_format&&(o=n.subject_format),a.subject.value=new k.EditorContent({format:o,content:n.subject})),!n||e.overridden_body?(null!==e.body_format&&(r=e.body_format),a.body.value=new k.EditorContent({format:r,content:e.body})):(null!==n.body_format&&(r=n.body_format),a.body.value=new k.EditorContent({format:r,content:n.body})),a}var E={components:{Uniform:s.Uniform,FormCheckbox:s.FormCheckbox,FormField:s.FormField,FormRow:c.a,FormText:s.FormText,Editor:b.a,ButtonGroup:h.a,Button:g.a,Cancel:F.a,FormRadioGroup:s.FormRadioGroup,Radio:v.a,RadioNumberInput:f.a,FormRadioWithInput:s.FormRadioWithInput,FormSelect:s.FormSelect,ForceDeliveryChannels:S.a,Checkbox:T.a},props:{resolverClassName:{type:String,required:!0},contextId:{type:Number,required:!0},parentValue:{type:Object,validator:Object(C.e)(),default:function(){return null}},preference:{type:Object,validator:Object(C.e)(["body_content","subject_content"]),default:Object(C.b)({body_content:"",subject_content:""})},validScheduleTypes:{type:Array,required:!0},availableRecipients:{type:Array,required:!0,validator:Object(C.c)()},defaultDeliveryChannels:{type:Array,required:!0,validator:Object(C.d)()},preferredEditorFormat:Number},data:function(){return{customisation:{body:this.preference.overridden_body||Boolean(!this.parentValue),subject:this.preference.overridden_subject||Boolean(!this.parentValue),schedule:this.preference.overridden_schedule||Boolean(!this.parentValue),recipient:this.preference.overridden_recipient||Boolean(!this.parentValue),enabled:this.preference.overridden_enabled||Boolean(!this.parentValue),forcedDeliveryChannels:this.preference.overridden_forced_delivery_channels||Boolean(!this.parentValue)},errors:null,formInitialValues:j(this.preference,this.parentValue,this.preferredEditorFormat),scheduleTypes:C.a}},computed:{disableTitleField:function(){return!!this.parentValue&&(this.parentValue.title&&""!==this.parentValue.title)},requiredSubject:function(){return!this.parentValue||(!this.parentValue.subject||""===this.parentValue.subject)},requiredBody:function(){return!this.parentValue||(!this.parentValue.body||""===this.parentValue.body)},showCustomCheckBoxes:function(){return!!this.parentValue},showScheduleOnEvent:function(){return this.validScheduleTypes.indexOf(C.a.ON_EVENT)>=0},showScheduleBeforeEvent:function(){return this.validScheduleTypes.indexOf(C.a.BEFORE_EVENT)>=0},showScheduleAfterEvent:function(){return this.validScheduleTypes.indexOf(C.a.AFTER_EVENT)>=0},recipientOptions:function(){var e=this.availableRecipients.map((function(e){return{id:e.class_name,label:e.name}}));return this.preference.recipient?e:[{id:null,label:this.$str("create_notification_select_placeholder","totara_notification")}].concat(e)}},watch:{customisation:{deep:!0,handler:function(e){if(this.showCustomCheckBoxes&&this.$refs.preferenceForm){if(!this.parentValue)throw new Error("Cannot toggle the customisation when the parent preference is not passed down to the form");var n=this.$refs.preferenceForm;e.subject||n.update(["subject","value"],new k.EditorContent({content:this.parentValue.subject,format:this.parentValue.subject_format?this.parentValue.subject_format:this.formInitialValues.subject.value.format})),e.body||n.update(["body","value"],new k.EditorContent({content:this.parentValue.body,format:this.parentValue.body_format?this.parentValue.body_format:this.formInitialValues.body.value.format})),e.forcedDeliveryChannels||n.update(["forced_delivery_channels","value"],this.parentValue.forced_delivery_channels||[])}}}},methods:{validateBodyEditor:function(e){return this.requiredBody&&(!e||e.isEmpty)?this.$str("required","core"):""},validateSubjectEditor:function(e){return this.requiredSubject&&(!e||e.isEmpty)?this.$str("required","core"):""},submitForm:function(e){var n=this;return a()(d.a.mark((function t(){var i,a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.errors||(n.errors=null),t.next=3,n.$apollo.mutate({mutation:w,variables:{title:e.title.value||"",subject:e.subject.value.getContent()||"",body:e.body.value.getContent()||"",schedule_type:e.schedule_type.value||"",schedule_offset:e.schedule_offset[e.schedule_type.value]||0}});case 3:if(i=t.sent,!(a=i.data.result).length){t.next=9;break}return n.errors={},a.forEach((function(e){var t=e.field_name,i=e.error_message;n.errors[t]={value:i}})),t.abrupt("return");case 9:r={title:e.title.value,subject:n.customisation.subject?e.subject.value.getContent():null,subject_format:n.customisation.subject?e.subject.value.format:null,body:n.customisation.body?e.body.value.getContent():null,body_format:n.customisation.body?e.body.value.format:null,schedule_type:n.customisation.schedule?e.schedule_type.value:null,schedule_offset:n.customisation.schedule?e.schedule_offset[e.schedule_type.value]:null,recipient:e.recipient,enabled:n.customisation.enabled?e.enabled.value:null,forced_delivery_channels:n.customisation.forcedDeliveryChannels?e.forced_delivery_channels.value:null},n.$emit("submit",r);case 11:case"end":return t.stop()}}),t)})))()},updateBodyEditor:function(e,n){this.errors&&this.errors.body&&(this.errors.body.value=""),n(e)},updateSchedule:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.errors&&this.errors.schedule_type&&(this.errors.schedule_type.value=""),n&&n(e)},updateSubjectEditor:function(e,n){this.errors&&this.errors.subject&&(this.errors.subject.value=""),n(e)},resetErrorFieldTitle:function(){this.errors&&this.errors.title&&(this.errors.title.value="")}}},A=(t("iJY/"),t("KHd+")),$=function(e){e.options.__langStrings={totara_notification:["create_notification_select_placeholder","notification_body_label","notification_title_label","notification_schedule_label","notification_status_label","notification_subject_label","enable_custom_schedule","enable_custom_subject","enable_custom_body","schedule_form_label_after_event","schedule_form_label_before_event","schedule_form_label_on_event","schedule_label_before_event","schedule_label_after_event","enable_custom_body","enable_custom_recipient","enable_custom_status","recipient","delivery_label","enable_custom_forced_delivery_channels","override","notification_body_label_help","notification_subject_label_help"],totara_core:["save","enabled"],core:["required"]}},O=Object(A.a)(E,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return e.formInitialValues?t("Uniform",{ref:"preferenceForm",staticClass:"tui-notificationPreferenceForm",attrs:{"initial-values":e.formInitialValues,errors:e.errors,"input-width":"full"},on:{submit:e.submitForm}},[t("FormRow",{attrs:{label:e.$str("notification_title_label","totara_notification"),required:!e.parentValue||!e.parentValue.title||""===e.parentValue.title},scopedSlots:e._u([{key:"default",fn:function(n){var i=n.id;return[t("FormText",{attrs:{id:i,name:["title","value"],disabled:e.disableTitleField,validations:function(e){return[e.required()]}},on:{input:e.resetErrorFieldTitle}})]}}],null,!1,2380982492)}),e._v(" "),t("FormRow",{attrs:{label:e.$str("recipient","totara_notification"),required:!e.parentValue},scopedSlots:e._u([{key:"default",fn:function(n){var i=n.id;return[e.showCustomCheckBoxes?t("Checkbox",{attrs:{"aria-label":e.$str("enable_custom_recipient","totara_notification"),checked:e.customisation.recipient,value:e.customisation.recipient?"1":"0",name:"override_recipient"},on:{change:function(n){e.customisation.recipient=n}}},[e._v("\n        "+e._s(e.$str("override","totara_notification"))+"\n      ")]):e._e(),e._v(" "),t("FormSelect",{attrs:{"aria-labelledby":i,name:"recipient",options:e.recipientOptions,disabled:e.showCustomCheckBoxes&&!e.customisation.recipient,validations:function(e){return[e.required()]}}})]}}],null,!1,1464634843)}),e._v(" "),t("FormRow",{attrs:{label:e.$str("notification_schedule_label","totara_notification"),required:!e.parentValue},scopedSlots:e._u([{key:"default",fn:function(n){var i=n.id;return[e.showCustomCheckBoxes?t("Checkbox",{attrs:{"aria-label":e.$str("enable_custom_schedule","totara_notification"),checked:e.customisation.schedule,value:e.customisation.schedule?"1":"0",name:"override_schedule"},on:{change:function(n){e.customisation.schedule=n}}},[e._v("\n        "+e._s(e.$str("override","totara_notification"))+"\n      ")]):e._e(),e._v(" "),t("FormRadioGroup",{attrs:{"aria-labelledby":i,disabled:e.showCustomCheckBoxes&&!e.customisation.schedule,validations:function(e){return[e.required()]},name:["schedule_type","value"]},on:{input:function(n){return e.updateSchedule(n)}}},[e.showScheduleOnEvent?t("Radio",{attrs:{value:e.scheduleTypes.ON_EVENT}},[e._v("\n          "+e._s(e.$str("schedule_form_label_on_event","totara_notification"))+"\n        ")]):e._e(),e._v(" "),e.showScheduleBeforeEvent?t("FormRadioWithInput",{attrs:{disabled:e.showCustomCheckBoxes&&!e.customisation.schedule,name:["schedule_offset",e.scheduleTypes.BEFORE_EVENT],value:e.scheduleTypes.BEFORE_EVENT,text:e.$str("schedule_form_label_before_event","totara_notification")},scopedSlots:e._u([{key:"default",fn:function(n){var i=n.disabledRadio,a=n.nameLabel,r=n.setAccessibleLabel,l=n.update,o=n.value;return[t("RadioNumberInput",{attrs:{disabled:i,name:a,value:o},on:{input:function(n){return e.updateSchedule(n,l)},"accessible-change":function(n){return r(e.$str("schedule_label_before_event","totara_notification",n))}}})]}}],null,!0)}):e._e(),e._v(" "),e.showScheduleAfterEvent?t("FormRadioWithInput",{attrs:{disabled:e.showCustomCheckBoxes&&!e.customisation.schedule,name:["schedule_offset",e.scheduleTypes.AFTER_EVENT],value:e.scheduleTypes.AFTER_EVENT,text:e.$str("schedule_form_label_after_event","totara_notification")},scopedSlots:e._u([{key:"default",fn:function(n){var i=n.disabledRadio,a=n.nameLabel,r=n.setAccessibleLabel,l=n.update,o=n.value;return[t("RadioNumberInput",{attrs:{disabled:i,name:a,value:o},on:{input:function(n){return e.updateSchedule(n,l)},"accessible-change":function(n){return r(e.$str("schedule_label_after_event","totara_notification",n))}}})]}}],null,!0)}):e._e()],1)]}}],null,!1,3026575372)}),e._v(" "),t("FormRow",{attrs:{label:e.$str("delivery_label","totara_notification")},scopedSlots:e._u([{key:"default",fn:function(n){var i=n.id;return[e.showCustomCheckBoxes?t("Checkbox",{attrs:{value:e.customisation.forcedDeliveryChannels?"1":"0",name:"override_forced_delivery_channels",checked:e.customisation.forcedDeliveryChannels,"aria-label":e.$str("enable_custom_forced_delivery_channels","totara_notification")},on:{change:function(n){e.customisation.forcedDeliveryChannels=n}}},[e._v("\n        "+e._s(e.$str("override","totara_notification"))+"\n      ")]):e._e(),e._v(" "),t("FormField",{attrs:{name:["forced_delivery_channels","value"]},scopedSlots:e._u([{key:"default",fn:function(n){var a=n.value,r=n.update;return[t("ForceDeliveryChannels",{attrs:{"aria-labelledby":i,"default-delivery-channels":e.defaultDeliveryChannels,"forced-delivery-channels":a,disabled:e.showCustomCheckBoxes&&!e.customisation.forcedDeliveryChannels},on:{"update-forced-delivery-channels":r}})]}}],null,!0)})]}}],null,!1,4152754183)}),e._v(" "),t("FormRow",{attrs:{label:e.$str("notification_subject_label","totara_notification"),required:e.requiredSubject,helpmsg:e.$str("notification_subject_label_help","totara_notification")},scopedSlots:e._u([{key:"default",fn:function(n){var i=n.id;return[e.showCustomCheckBoxes?t("Checkbox",{attrs:{"aria-label":e.$str("enable_custom_subject","totara_notification"),checked:e.customisation.subject,value:e.customisation.subject?"1":"0",name:"override_subject"},on:{change:function(n){e.customisation.subject=n}}},[e._v("\n        "+e._s(e.$str("override","totara_notification"))+"\n      ")]):e._e(),e._v(" "),t("FormField",{attrs:{name:["subject","value"],validate:e.validateSubjectEditor,disabled:e.showCustomCheckBoxes&&!e.customisation.subject,"char-length":"full"},scopedSlots:e._u([{key:"default",fn:function(n){var a=n.value,r=n.update;return[t("Editor",{staticClass:"tui-notificationPreferenceForm__subjectEditor",attrs:{id:i,disabled:!e.customisation.subject,value:a,"context-id":e.contextId,"usage-identifier":{component:"totara_notification",area:"notification_subject"},"extra-extensions":[{name:"weka_notification_placeholder_extension",options:{resolver_class_name:e.resolverClassName}},{name:"weka_simple_multi_lang_extension",options:{context_id:e.contextId,placeholder_resolver_class_name:e.resolverClassName,compact:!0}}],variant:"simple",compact:!0},on:{input:function(n){return e.updateSubjectEditor(n,r)}}})]}}],null,!0)})]}}],null,!1,81289284)}),e._v(" "),t("FormRow",{attrs:{required:e.requiredBody,label:e.$str("notification_body_label","totara_notification"),helpmsg:e.$str("notification_body_label_help","totara_notification")},scopedSlots:e._u([{key:"default",fn:function(n){var i=n.id;return[e.showCustomCheckBoxes?t("Checkbox",{attrs:{"aria-label":e.$str("enable_custom_body","totara_notification"),checked:e.customisation.body,value:e.customisation.body?"1":"0",name:"override_body"},on:{change:function(n){e.customisation.body=n}}},[e._v("\n        "+e._s(e.$str("override","totara_notification"))+"\n      ")]):e._e(),e._v(" "),t("FormField",{attrs:{name:["body","value"],validate:e.validateBodyEditor,disabled:e.showCustomCheckBoxes&&!e.customisation.body,"char-length":"full"},scopedSlots:e._u([{key:"default",fn:function(n){var a=n.value,r=n.update;return[t("Editor",{staticClass:"tui-notificationPreferenceForm__bodyEditor",attrs:{id:i,value:a,"context-id":e.contextId,disabled:!e.customisation.body,"usage-identifier":{component:"totara_notification",area:"notification_body"},"extra-extensions":[{name:"weka_notification_placeholder_extension",options:{resolver_class_name:e.resolverClassName}},{name:"weka_simple_multi_lang_extension",options:{context_id:e.contextId,placeholder_resolver_class_name:e.resolverClassName}}],variant:"description"},on:{input:function(n){return e.updateBodyEditor(n,r)}}})]}}],null,!0)})]}}],null,!1,3515353798)}),e._v(" "),t("FormRow",{attrs:{label:e.$str("notification_status_label","totara_notification")},scopedSlots:e._u([{key:"default",fn:function(n){var i=n.id;return[e.showCustomCheckBoxes?t("Checkbox",{attrs:{"aria-label":e.$str("enable_custom_status","totara_notification"),checked:e.customisation.enabled,value:e.customisation.enabled?"1":"0",name:"override_enabled"},on:{change:function(n){e.customisation.enabled=n}}},[e._v("\n      "+e._s(e.$str("override","totara_notification"))+"\n    ")]):e._e(),e._v(" "),t("FormCheckbox",{attrs:{id:i,name:["enabled","value"],disabled:e.showCustomCheckBoxes&&!e.customisation.enabled}},[e._v("\n      "+e._s(e.$str("enabled","totara_core"))+"\n    ")])]}}],null,!1,1474882410)}),e._v(" "),t("FormRow",[t("ButtonGroup",{staticClass:"tui-notificationPreferenceForm__buttonGroup"},[t("Button",{attrs:{styleclass:{primary:!0},text:e.$str("save","totara_core"),"aria-label":e.$str("save","totara_core"),type:"submit"}}),e._v(" "),t("Cancel",{on:{click:function(n){return e.$emit("cancel")}}})],1)],1)],1):e._e()}),[],!1,null,null,null);"function"==typeof $&&$(O),O.options.__hasBlocks={script:!0,template:!0};n.default=O.exports},qAwj:function(e,n){},rsf9:function(e,n){e.exports=tui.require("tui/components/datatable/ExpandCell")},sUqY:function(e,n,t){"use strict";t.r(n);var i=t("yikf"),a=t.n(i),r=t("5qAA"),l=t.n(r),o=t("KGot"),d=t.n(o),s=t("Tdxx"),u=t("JThd"),c=t.n(u),m=t("hjaT"),v=t.n(m),_=t("e3MU"),f=t.n(_),k={components:{Table:a.a,HeaderCell:l.a,Cell:d.a,CheckSuccess:c.a,Checkbox:v.a,InfoIconButton:f.a},props:{disabled:Boolean,defaultDeliveryChannels:{type:Array,required:!0,validator:Object(s.d)()},forcedDeliveryChannels:{type:Array,default:function(){return[]},validator:function(e){return e.every((function(e){return"string"==typeof e}))}}},methods:{isForced:function(e){var n=e.component;return!!this.forcedDeliveryChannels.find((function(e){return n===e}))},isChannelAvailable:function(e){if(!e)return!0;var n=this.defaultDeliveryChannels.find((function(n){return n.component===e}));return!n||(n.is_enabled||this.isForced({component:e}))},updateForceDeliveryChannels:function(e,n){var t=this.forcedDeliveryChannels;if(n)return t.find((function(n){return e===n}))?void this.$emit("update-forced-delivery-channels",t):void this.$emit("update-forced-delivery-channels",t.concat([e]));this.$emit("update-forced-delivery-channels",t.filter((function(n){return n!==e})))}}},p=(t("DkAd"),t("KHd+")),b=function(e){e.options.__langStrings={totara_notification:["delivery_channel","force_channel_x","forced","forced_info","forced_delivery_help"],core:["default","notavailable"]}},y=Object(p.a)(k,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("Table",{staticClass:"tui-forceDeliveryChannels",attrs:{data:e.defaultDeliveryChannels},scopedSlots:e._u([{key:"header-row",fn:function(){return[t("HeaderCell",[e._v("\n      "+e._s(e.$str("delivery_channel","totara_notification"))+"\n    ")]),e._v(" "),t("HeaderCell",{attrs:{align:"center"}},[e._v("\n      "+e._s(e.$str("default","core"))+"\n    ")]),e._v(" "),t("HeaderCell",{attrs:{align:"center"}},[t("div",{staticClass:"tui-forceDeliveryChannels__forcedHeader"},[e._v("\n        "+e._s(e.$str("forced","totara_notification"))+"\n        "),t("InfoIconButton",{attrs:{"aria-label":e.$str("forced_info","totara_notification")}},[e._v("\n          "+e._s(e.$str("forced_delivery_help","totara_notification"))+"\n        ")])],1)])]},proxy:!0},{key:"row",fn:function(n){var i=n.row,a=i.label,r=i.is_enabled,l=i.component,o=i.is_sub_delivery_channel,d=i.parent_component;return[t("Cell",[e._v("\n      "+e._s(a)+"\n    ")]),e._v(" "),t("Cell",{attrs:{align:"center","column-header":e.$str("default","core")}},[r?t("CheckSuccess"):e._e()],1),e._v(" "),t("Cell",{attrs:{align:"center","column-header":e.$str("forced","totara_notification")}},[!o||e.isChannelAvailable(d)?[t("Checkbox",{attrs:{value:l,checked:e.isForced({component:l}),"aria-label":e.$str("force_channel_x","totara_notification",a),disabled:e.disabled,name:"force_"+l},on:{change:function(n){return e.updateForceDeliveryChannels(l,n)}}})]:[e._v("\n        "+e._s(e.$str("notavailable","core"))+"\n      ")]],2)]}}])})}),[],!1,null,null,null);"function"==typeof b&&b(y),y.options.__hasBlocks={script:!0,template:!0};n.default=y.exports},tNJr:function(e,n){e.exports=tui.require("tui/components/buttons/MoreIcon")},tZ6d:function(e,n){},tg4Y:function(e,n,t){"use strict";t.r(n);var i=t("KGot"),a=t.n(i),r=t("5qAA"),l=t.n(r),o=t("yikf"),d=t.n(o),s=t("hjaT"),u=t.n(s),c=t("nEm4"),m=t.n(c),v=t("i/kK"),_=t.n(v),f=t("BN8m"),k=t.n(f),p=t("vF5l"),b=t.n(p),y=t("nXMa"),h=t.n(y),N=t("e3MU"),g=t.n(N),x=t("Tdxx");var F={components:{Table:d.a,HeaderCell:l.a,Cell:a.a,Checkbox:u.a,Form:m.a,FormRow:_.a,ButtonGroup:k.a,Button:b.a,Cancel:h.a,InfoIconButton:g.a},props:{defaultDeliveryChannels:{type:Array,required:!0,validator:Object(x.d)()},showOverride:Boolean,initialOverrideStatus:Boolean},data:function(){return{deliveryChannels:(e=this.defaultDeliveryChannels,n={},e.map((function(e){var t=e.component,i=e.is_enabled;n[t]=i})),n),isCheckboxDisabled:this.selectionsDisabled(),isDeliveryPreferenceOverridden:this.initialOverrideStatus};var e,n},watch:{isDeliveryPreferenceOverridden:function(){this.isCheckboxDisabled=this.selectionsDisabled()}},methods:{handleFormSubmit:function(){var e=[];for(var n in this.deliveryChannels)this.deliveryChannels[n]&&e.push(n);this.$emit("form-submit",e,this.showOverride?this.isDeliveryPreferenceOverridden:null)},selectionsDisabled:function(){return!(!this.showOverride||(void 0!==this.isDeliveryPreferenceOverridden||this.initialOverrideStatus)&&(void 0===this.isDeliveryPreferenceOverridden||this.isDeliveryPreferenceOverridden))},overrideDeliveryPreference:function(e){this.isDeliveryPreferenceOverridden=e}}},C=(t("3qs6"),t("KHd+")),V=function(e){e.options.__langStrings={totara_notification:["delivery_preferences_helptext","delivery_preferences_helptext_aria","notification_delivery_channels_label","unavailable","delivery_preferences_override_helptext","delivery_preferences_override_helptext_aria","override","override_delivery_channels_aria"],totara_core:["save"],core:["required"]}},S=Object(C.a)(F,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("Form",{staticClass:"tui-notificationDeliveryPreferenceForm",on:{submit:e.handleFormSubmit}},[e.showOverride?t("div",{staticClass:"tui-notificationDeliveryPreferenceForm__overrideWrapper"},[t("Checkbox",{attrs:{"aria-label":e.$str("override_delivery_channels_aria","totara_notification"),checked:e.isDeliveryPreferenceOverridden,value:e.isDeliveryPreferenceOverridden?"1":"0",name:"override_delivery_preferences"},on:{change:e.overrideDeliveryPreference}},[e._v("\n      "+e._s(e.$str("override","totara_notification"))+"\n    ")]),e._v(" "),t("InfoIconButton",{attrs:{"aria-label":e.$str("delivery_preferences_override_helptext_aria","totara_notification")}},[e._v("\n      "+e._s(e.$str("delivery_preferences_override_helptext","totara_notification"))+"\n    ")])],1):e._e(),e._v(" "),t("Table",{attrs:{data:e.defaultDeliveryChannels,"expandable-rows":!0},scopedSlots:e._u([{key:"header-row",fn:function(){return[t("HeaderCell",{attrs:{size:"3"}},[e._v("\n        "+e._s(e.$str("notification_delivery_channels_label","totara_notification"))+"\n        "),e.showOverride?e._e():t("InfoIconButton",{attrs:{"aria-label":e.$str("delivery_preferences_helptext_aria","totara_notification")}},[e._v("\n          "+e._s(e.$str("delivery_preferences_helptext","totara_notification"))+"\n        ")])],1)]},proxy:!0},{key:"row",fn:function(n){var i=n.row;return[t("Cell",{attrs:{size:"3"}},[e._v("\n        "+e._s(i.label)+"\n      ")]),e._v(" "),t("Cell",[!i.parent_component||e.deliveryChannels[i.parent_component]?t("Checkbox",{attrs:{"aria-label":i.label,disabled:e.isCheckboxDisabled,name:"default_"+i.component},model:{value:e.deliveryChannels[i.component],callback:function(n){e.$set(e.deliveryChannels,i.component,n)},expression:"deliveryChannels[row.component]"}}):[e._v("\n          "+e._s(e.$str("unavailable","totara_notification"))+"\n        ")]],2)]}}])}),e._v(" "),t("FormRow",[t("ButtonGroup",{staticClass:"tui-notificationPreferenceForm__buttonGroup"},[t("Button",{attrs:{styleclass:{primary:!0},text:e.$str("save","totara_core"),type:"submit"}}),e._v(" "),t("Cancel",{on:{click:function(n){return e.$emit("cancel")}}})],1)],1)],1)}),[],!1,null,null,null);"function"==typeof V&&V(S),S.options.__hasBlocks={script:!0,template:!0};n.default=S.exports},tkAW:function(e,n){e.exports=tui.require("tui/components/modal/Modal")},tzWU:function(e,n,t){"use strict";t.r(n);var i=t("IqB1"),a=t.n(i),r=t("Vwoz"),l=t.n(r),o=t("KGot"),d=t.n(o),s=t("5qAA"),u=t.n(s),c=t("yikf"),m=t.n(c),v=t("lOlL"),_=t.n(v),f=t("Djw7"),k=t.n(f),p={components:{Collapsible:a.a,CollapsibleGroupToggle:l.a,Cell:d.a,HeaderCell:u.a,Table:m.a,ToggleSwitch:_.a,NotifiableEventAction:k.a},props:{eventResolvers:{type:Array,default:function(){return[]},validator:function(e){return e.every((function(e){return"component"in e&&"plugin_name"in e&&"resolvers"in e}))}}},data:function(){return{expanded:{}}},created:function(){var e={};this.eventResolvers.forEach((function(n){return e[n.component]=!1})),this.expanded=e},methods:{toggleEnabled:function(e,n){this.$emit("toggle-enabled",{userId:n.user_id,resolverClassname:n.resolver_class_name,isEnabled:e,userPreferenceId:n.user_preference_id})},display_delivery_channels:function(e){return e.filter((function(e){return e.is_enabled})).map((function(e){return e.label})).join("; ")},updateDeliveryPreference:function(e){this.$emit("update-delivery-preferences",{resolverClassName:e.resolver_class_name,resolverLabel:e.name,defaultDeliveryChannels:e.delivery_channels,OverrideDeliveryChannels:e.overridden_delivery_channels,userPreferenceId:e.user_preference_id})}}},b=(t("jv1t"),t("KHd+")),y=function(e){e.options.__langStrings={totara_notification:["delivery_channels","enabled","enable_status","notifiable_events"],core:["actions"]}},h=Object(b.a)(p,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("CollapsibleGroupToggle",{attrs:{"align-end":!1,transparent:!1},model:{value:e.expanded,callback:function(n){e.expanded=n},expression:"expanded"}}),e._v(" "),t("div",{staticClass:"tui-userPreferencesTable"},e._l(e.eventResolvers,(function(n){return t("Collapsible",{key:n.component,attrs:{label:n.plugin_name,"indent-contents":!0},model:{value:e.expanded[n.component],callback:function(t){e.$set(e.expanded,n.component,t)},expression:"expanded[eventResolver.component]"}},[t("Table",{attrs:{data:n.resolvers,"expandable-rows":!0,"hover-off":!0},scopedSlots:e._u([{key:"header-row",fn:function(){return[t("HeaderCell",{attrs:{size:"4"}},[e._v("\n            "+e._s(e.$str("notifiable_events","totara_notification"))+"\n          ")]),e._v(" "),t("HeaderCell",{attrs:{size:"4"}},[e._v("\n            "+e._s(e.$str("delivery_channels","totara_notification"))+"\n          ")]),e._v(" "),t("HeaderCell",{attrs:{align:"start",size:"2"}},[e._v("\n            "+e._s(e.$str("enabled","totara_notification"))+"\n          ")]),e._v(" "),t("HeaderCell",[t("span",{staticClass:"sr-only"},[e._v("\n              "+e._s(e.$str("actions","core"))+"\n            ")])])]},proxy:!0},{key:"row",fn:function(n){var i=n.row;return[t("Cell",{attrs:{size:"4"}},[e._v("\n            "+e._s(i.name)+"\n          ")]),e._v(" "),t("Cell",{attrs:{size:"4"}},[e._v("\n            "+e._s(e.display_delivery_channels(i.delivery_channels))+"\n          ")]),e._v(" "),t("Cell",{attrs:{align:"start",size:"2"}},[t("ToggleSwitch",{attrs:{"aria-label":e.$str("enable_status","totara_notification",i.name),value:i.enabled,"toggle-only":!0},on:{input:function(n){return e.toggleEnabled(n,i)}}})],1),e._v(" "),t("Cell",{attrs:{align:"end",size:"1"}},[t("NotifiableEventAction",{attrs:{"resolver-name":i.name,"show-create-notification-option":!1,"show-delivery-preference-option":!0},on:{"update-delivery-preferences":function(n){return e.updateDeliveryPreference(i)}}})],1)]}}],null,!0)})],1)})),1)],1)}),[],!1,null,null,null);"function"==typeof y&&y(h),h.options.__hasBlocks={script:!0,template:!0};n.default=h.exports},u5iS:function(e,n){e.exports=tui.require("tui/components/modal/ModalContent")},vF5l:function(e,n){e.exports=tui.require("tui/components/buttons/Button")},vyVp:function(e,n){e.exports=tui.require("tui/notifications")},yXPU:function(e,n){function t(e,n,t,i,a,r,l){try{var o=e[r](l),d=o.value}catch(e){return void t(e)}o.done?n(d):Promise.resolve(d).then(i,a)}e.exports=function(e){return function(){var n=this,i=arguments;return new Promise((function(a,r){var l=e.apply(n,i);function o(e){t(l,a,r,o,d,"next",e)}function d(e){t(l,a,r,o,d,"throw",e)}o(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},yikf:function(e,n){e.exports=tui.require("tui/components/datatable/Table")}});