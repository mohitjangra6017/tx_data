!function(e){function t(t){for(var r,n,o=t[0],l=t[1],m=t[2],d=0,c=[];d<o.length;d++)n=o[d],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&c.push(i[n][0]),i[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(u&&u(t);c.length;)c.shift()();return s.push.apply(s,m||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(r=!1)}r&&(s.splice(t--,1),e=n(n.s=a[0]))}return e}var r={},i={26:0},s=[];function n(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=r,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="";var o=window.webpackJsonp=window.webpackJsonp||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var m=0;m<o.length;m++)t(o[m]);var u=l;s.push(["3ljG",0]),a()}({"+Ksp":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",[e._v(e._s(e.pageTitle))]),e._v(" "),a("Loader",{attrs:{loading:!e.allDataLoaded}},[e.dataIsReady&&e.embeddedFormData.formFieldData.brand?a("div",{staticClass:"tui-themesettings__forms"},[e.initialValues&&e.selectedTenantId?a("Uniform",{attrs:{"initial-values":e.initialValues,errors:e.errorsForm,validate:e.validate},on:{change:e.autoSubmitTenantForm}},[a("FormRow",{attrs:{label:e.$str("formtenant_label_tenant","theme_ventura"),"is-stacked":!0}},[a("FormToggleSwitch",{attrs:{name:["formtenant_field_tenant","value"],"toggle-first":!0}}),e._v(" "),a("FormRowDetails",[e._v("\n            "+e._s(e.$str("formtenant_details_tenant","theme_ventura"))+"\n          ")])],1)],1):e._e(),e._v(" "),a("Tabs",{directives:[{name:"show",rawName:"v-show",value:!e.selectedTenantId||e.selectedTenantId&&e.tenantOverridesEnabled,expression:"\n          !selectedTenantId || (selectedTenantId && tenantOverridesEnabled)\n        "}],attrs:{selected:"themesettings-tab-0"}},[a("Tab",{attrs:{id:"themesettings-tab-0",name:e.$str("tabbrand","theme_ventura"),"always-render":!0}},[e.embeddedFormData.formFieldData.brand?a("SettingsFormBrand",{attrs:{"saved-form-field-data":e.embeddedFormData.formFieldData.brand,"file-form-field-data":e.embeddedFormData.fileData,"is-saving":e.isSaving},on:{submit:e.submit}}):e._e()],1),e._v(" "),a("Tab",{attrs:{id:"themesettings-tab-1",name:e.$str("tabcolours","theme_ventura"),"always-render":!0}},[e.embeddedFormData.formFieldData.colours?a("SettingsFormColours",{attrs:{"saved-form-field-data":e.embeddedFormData.formFieldData.colours,"merged-default-css-variable-data":e.embeddedFormData.mergedDefaultCSSVariableData,"merged-processed-css-variable-data":e.embeddedFormData.mergedProcessedCSSVariableData,"is-saving":e.isSaving},on:{submit:e.submit}}):e._e()],1),e._v(" "),e.selectedTenantId?e._e():a("Tab",{attrs:{id:"themesettings-tab-2",name:e.$str("tabimages","theme_ventura"),"always-render":!0}},[e.embeddedFormData.formFieldData.images?a("SettingsFormImages",{attrs:{"saved-form-field-data":e.embeddedFormData.formFieldData.images,"file-form-field-data":e.embeddedFormData.fileData,"is-saving":e.isSaving},on:{submit:e.submit}}):e._e()],1),e._v(" "),e.selectedTenantId?e._e():a("Tab",{attrs:{id:"themesettings-tab-3",name:e.$str("tabcustom","theme_ventura"),"always-render":!0,disabled:!e.customCSSEnabled}},[e.embeddedFormData.formFieldData.custom?a("SettingsFormCustom",{attrs:{"saved-form-field-data":e.embeddedFormData.formFieldData.custom,"is-saving":e.isSaving},on:{submit:e.submit}}):e._e()],1)],1)],1):e._e()])],1)};r._withStripped=!0;var i=a("AdjL"),s=a.n(i),n=a("1i2V"),o=a.n(n),l=a("txsu"),m=a.n(l),u=a("WBvU"),d=a("vGF0"),c=a.n(d),_=a("AV77"),f=a.n(_),v=a("VI/8"),g=a.n(v),b=a("RP0N"),p=a.n(b),h=a("t+Kz"),F=a.n(h),k={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_tui_themes_with_variables"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"theme"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_alphaext"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totara_tui_themes_with_variables"},arguments:[{kind:"Argument",name:{kind:"Name",value:"theme"},value:{kind:"Variable",name:{kind:"Name",value:"theme"}}}],directives:[]}]}}]},y={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"core_get_theme_settings"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"theme"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"tenant_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"draft_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"core_get_theme_settings"},arguments:[{kind:"Argument",name:{kind:"Name",value:"theme"},value:{kind:"Variable",name:{kind:"Name",value:"theme"}}},{kind:"Argument",name:{kind:"Name",value:"tenant_id"},value:{kind:"Variable",name:{kind:"Name",value:"tenant_id"}}},{kind:"Argument",name:{kind:"Name",value:"draft_id"},value:{kind:"Variable",name:{kind:"Name",value:"draft_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"categories"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"properties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"flavours"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"engage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"learn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"perform"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"files"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ui_key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"category"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"valid_extensions"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"default_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"current_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"file_area"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"draft_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}]}}]},S={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"core_update_theme_settings"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"theme"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"tenant_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"categories"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_theme_category_input"}}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"files"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_theme_file_input"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"core_update_theme_settings"},arguments:[{kind:"Argument",name:{kind:"Name",value:"theme"},value:{kind:"Variable",name:{kind:"Name",value:"theme"}}},{kind:"Argument",name:{kind:"Name",value:"tenant_id"},value:{kind:"Variable",name:{kind:"Name",value:"tenant_id"}}},{kind:"Argument",name:{kind:"Name",value:"categories"},value:{kind:"Variable",name:{kind:"Name",value:"categories"}}},{kind:"Argument",name:{kind:"Name",value:"files"},value:{kind:"Variable",name:{kind:"Name",value:"files"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"categories"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"properties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"flavours"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"engage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"learn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"perform"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"files"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ui_key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"category"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"valid_extensions"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"default_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"current_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"file_area"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"draft_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}]}}]},D=a("vyVp"),$=a("uxl5"),w=a.n($),x={components:{Loader:s.a,Tabs:m.a,Tab:o.a,Uniform:u.Uniform,FormRow:u.FormRow,FormRowDetails:c.a,FormToggleSwitch:u.FormToggleSwitch,SettingsFormBrand:f.a,SettingsFormColours:g.a,SettingsFormImages:p.a,SettingsFormCustom:F.a},props:{theme:{type:String,required:!0},selectedTenantId:Number,selectedTenantName:String},data:()=>({tenantOverridesEnabled:!1,query:y,formutils:w.a,initialValues:{formtenant_field_tenant:{value:!1,type:"boolean"}},embeddedFormData:{flavours:null,formFieldData:{brand:[],colours:[],images:[],custom:[],tenant:[]},mergedDefaultCSSVariableData:[],fileData:[]},customCSSEnabled:!0,errorsForm:null,valuesForm:null,resultForm:null,dataIsReady:!1,isSaving:!1,rawCSSVariableData:null}),computed:{pageTitle(){return this.selectedTenantName?this.$str("editthemetenant","totara_core",this.selectedTenantName):this.$str("edittheme","totara_core",this.theme)},allFetchesLoaded(){return!!this.rawCSSVariableData},allQueriesLoaded(){return!!this.core_get_theme_settings&&!!this.totara_tui_themes_with_variables},allDataLoaded(){return!!this.core_get_theme_settings&&!!this.totara_tui_themes_with_variables&&!!this.rawCSSVariableData}},watch:{allQueriesLoaded(e){e&&this.loadCSSVariableData()},allDataLoaded(){this.transformQueryAndFetchData(this.core_get_theme_settings,this.rawCSSVariableData),this.setTenantFormValues()}},methods:{setTenantFormValues(){let e=this.formutils.mergeFormData(this.initialValues,[this.embeddedFormData.formFieldData.tenant]);this.initialValues=this.formutils.getResolvedInitialValues(e),this.tenantOverridesEnabled=this.initialValues.formtenant_field_tenant.value},async loadCSSVariableData(){this.rawCSSVariableData=await Promise.all(this.totara_tui_themes_with_variables.map(e=>fetch(this.$url("/totara/tui/json.php",{bundle:"theme_"+e,file:"css_variables"})).then(e=>e.json()).then(e=>e.vars)))},transformQueryAndFetchData(e,t){this.embeddedFormData.flavours=e.flavours,this.embeddedFormData.fileData=e.files;const a=e.categories;for(let e=0;e<a.length;e++)this.embeddedFormData.formFieldData[a[e].name]=a[e].properties;let r=this.formutils.mergeCSSVariableData(t),i=this.formutils.processCSSVariableData(r);this.embeddedFormData.mergedDefaultCSSVariableData=r,this.embeddedFormData.mergedProcessedCSSVariableData=i,this.dataIsReady=!0},validate:()=>({}),formatDataForMutation(e){let t={form:"tenant",fields:[],files:[]};return Object.keys(e).forEach(a=>{t.fields.push({name:a,type:e[a].type,value:String(e[a].value)})}),t},autoSubmitTenantForm(e){this.valuesForm=e,this.errorsForm&&(this.errorsForm=null),this.resultForm=e,void 0!==e.formtenant_field_tenant&&(this.tenantOverridesEnabled=e.formtenant_field_tenant.value);let t=this.formatDataForMutation(e);this.submit(t)},async submit(e){let t=[{name:e.form,properties:e.fields}],a=[];e.files&&(a=e.files.map(e=>({ui_key:e.ui_key,draft_id:e.file_area.draft_id}))),this.isSaving=!0;try{await this.$apollo.mutate({mutation:S,variables:{theme:this.theme,tenant_id:this.selectedTenantId,categories:t,files:a}}),Object(D.notify)({message:this.$str("settings_success_save","theme_ventura"),type:"success"})}catch(e){Object(D.notify)({message:this.$str("settings_error_save","theme_ventura"),type:"error"}),console.error(e)}this.isSaving=!1}},apollo:{core_get_theme_settings:{query:y,variables(){return{theme:this.theme,tenant_id:this.selectedTenantId}}},totara_tui_themes_with_variables:{query:k,variables(){return{theme:this.theme}}}}},V=a("KHd+"),N=function(e){e.options.__langStrings={theme_ventura:["formtenant_label_tenant","formtenant_details_tenant","settings_error_save","settings_success_save","tabbrand","tabcolours","tabimages","tabcustom"],totara_core:["edittheme","editthemetenant"]}},C=Object(V.a)(x,r,[],!1,null,null,null);"function"==typeof N&&N(C),C.options.__hasBlocks={script:!0,template:!0},C.options.__file="client/component/theme_ventura/src/pages/Settings.vue";t.default=C.exports},"12HA":function(e,t){e.exports=tui.require("tui/config")},"1i2V":function(e,t){e.exports=tui.require("tui/components/tabs/Tab")},"3ljG":function(e,t,a){!function(){"use strict";"undefined"!=typeof tui&&tui._bundle.isLoaded("theme_ventura")?console.warn('[tui bundle] The bundle "theme_ventura" is already loaded, skipping initialisation.'):(tui._bundle.register("theme_ventura"),tui._bundle.addModulesFromContext("theme_ventura",a("xXhL")),tui._bundle.addModulesFromContext("theme_ventura/components",a("SBhU")),tui._bundle.addModulesFromContext("theme_ventura/pages",a("fyM/")))}()},"5kUj":function(e,t){e.exports=tui.require("tui/components/form/Fieldset")},"5qAA":function(e,t){e.exports=tui.require("tui/components/datatable/HeaderCell")},AV77:function(e,t){e.exports=tui.require("theme_ventura/components/settings/SettingsFormBrand")},AdjL:function(e,t){e.exports=tui.require("tui/components/loader/Loader")},Asbc:function(e,t){e.exports=tui.require("theme_ventura/components/settings/ImageUploadSetting")},"BG+F":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.initialValuesSet?a("Uniform",{attrs:{"initial-values":e.initialValues,errors:e.errorsForm,validate:e.validate},on:{change:e.handleChange,submit:e.submit}},[a("Collapsible",{attrs:{label:e.$str("formimages_group_core","theme_ventura"),"initial-state":!0}},[a("FormRowStack",[a("FormRow",{attrs:{label:e.$str("formimages_label_displaylogin","theme_ventura"),"is-stacked":!0}},[a("FormCheckbox",{attrs:{name:["formimages_field_displaylogin","value"],"aria-describedby":e.$id("formimages-displaylogin-defaults")}}),e._v(" "),a("FormRowDefaults",{attrs:{id:e.$id("formimages-displaylogin-defaults")}},[e._v(e._s(e.$str("enabled","totara_core")))])],1),e._v(" "),a("FormRow",{attrs:{label:e.$str("formimages_label_login","theme_ventura"),"is-stacked":!0}},[a("ImageUploadSetting",{attrs:{metadata:e.fileData.sitelogin,"aria-label-extension":e.$str("defaultimage","theme_ventura",e.$str("formimages_label_login","theme_ventura")),"aria-describedby":e.$id("formimages-login-details")}}),e._v(" "),a("FormRowDetails",{attrs:{id:e.$id("formimages-login-details")}},[e._v("\n          "+e._s(e.$str("formimages_details_login","theme_ventura"))+"\n        ")])],1),e._v(" "),a("FormRow",{attrs:{label:e.$str("formimages_label_loginalttext","theme_ventura"),"is-stacked":!0}},[a("FormText",{attrs:{name:["formimages_field_loginalttext","value"],"aria-describedby":e.$id("formimages-loginalttext-details")}}),e._v(" "),a("FormRowDetails",{attrs:{id:e.$id("formimages-loginalttext-details")}},[e._v("\n          "+e._s(e.$str("formimages_details_loginalttext","theme_ventura"))+"\n        ")])],1)],1)],1),e._v(" "),a("Collapsible",{attrs:{label:e.$str("formimages_group_learn","theme_ventura"),"initial-state":!0}},[a("FormRowStack",[a("FormRow",{attrs:{label:e.$str("formimages_label_course","theme_ventura"),"is-stacked":!0}},[a("ImageUploadSetting",{attrs:{metadata:e.fileData.learncourse,"aria-label-extension":e.$str("defaultimage","theme_ventura",e.$str("formimages_label_course","theme_ventura")),"aria-describedby":e.$id("formimages-course-details")}}),e._v(" "),a("FormRowDetails",{attrs:{id:e.$id("formimages-course-details")}},[e._v("\n          "+e._s(e.$str("formimages_details_course","theme_ventura"))+"\n        ")])],1),e._v(" "),a("FormRow",{attrs:{label:e.$str("formimages_label_program","theme_ventura"),"is-stacked":!0}},[a("ImageUploadSetting",{attrs:{metadata:e.fileData.learnprogram,"aria-label-extension":e.$str("defaultimage","theme_ventura",e.$str("formimages_label_program","theme_ventura")),"aria-describedby":e.$id("formimages-program-details")}}),e._v(" "),a("FormRowDetails",{attrs:{id:e.$id("formimages-program-details")}},[e._v("\n          "+e._s(e.$str("formimages_details_program","theme_ventura"))+"\n        ")])],1),e._v(" "),a("FormRow",{attrs:{label:e.$str("formimages_label_cert","theme_ventura"),"is-stacked":!0}},[a("ImageUploadSetting",{attrs:{metadata:e.fileData.learncert,"aria-label-extension":e.$str("defaultimage","theme_ventura",e.$str("formimages_label_cert","theme_ventura")),"aria-describedby":e.$id("formimages-cert-details")}}),e._v(" "),a("FormRowDetails",{attrs:{id:e.$id("formimages-cert-details")}},[e._v("\n          "+e._s(e.$str("formimages_details_cert","theme_ventura"))+"\n        ")])],1)],1)],1),e._v(" "),a("Collapsible",{attrs:{label:e.$str("formimages_group_engage","theme_ventura"),"initial-state":!0}},[a("FormRowStack",[a("FormRow",{attrs:{label:e.$str("formimages_label_resource","theme_ventura"),"is-stacked":!0}},[a("ImageUploadSetting",{attrs:{metadata:e.fileData.engageresource,"aria-label-extension":e.$str("defaultimage","theme_ventura",e.$str("formimages_label_resource","theme_ventura")),"aria-describedby":e.$id("formimages-resource-details")}}),e._v(" "),a("FormRowDetails",{attrs:{id:e.$id("formimages-resource-details")}},[e._v("\n          "+e._s(e.$str("formimages_details_resource","theme_ventura"))+"\n        ")])],1),e._v(" "),a("FormRow",{attrs:{label:e.$str("formimages_label_workspace","theme_ventura"),"is-stacked":!0}},[a("ImageUploadSetting",{attrs:{metadata:e.fileData.engageworkspace,"aria-label-extension":e.$str("defaultimage","theme_ventura",e.$str("formimages_label_workspace","theme_ventura")),"aria-describedby":e.$id("formimages-workspace-details")}}),e._v(" "),a("FormRowDetails",{attrs:{id:e.$id("formimages-workspace-details")}},[e._v("\n          "+e._s(e.$str("formimages_details_workspace","theme_ventura"))+"\n        ")])],1)],1)],1),e._v(" "),a("FormRow",[a("ButtonGroup",[a("Button",{attrs:{styleclass:{primary:"true"},text:e.$str("save","totara_core"),"aria-label":e.$str("saveextended","totara_core",e.$str("tabimages","theme_ventura")+" "+e.$str("settings","totara_core")),disabled:e.isSaving,type:"submit"}})],1)],1)],1):e._e()};r._withStripped=!0;var i=a("uxl5"),s=a.n(i),n=a("IqB1"),o=a.n(n),l=a("WBvU"),m=a("Asbc"),u=a.n(m),d=a("vGF0"),c=a.n(d),_=a("GEK5"),f=a.n(_),v=a("csKv"),g=a.n(v),b=a("vF5l"),p=a.n(b),h=a("BN8m"),F=a.n(h),k={components:{Collapsible:o.a,Uniform:l.Uniform,FormRow:l.FormRow,FormRowDetails:c.a,FormRowDefaults:f.a,FormCheckbox:l.FormCheckbox,FormText:l.FormText,ImageUploadSetting:u.a,FormRowStack:g.a,Button:p.a,ButtonGroup:F.a},props:{savedFormFieldData:{type:Array,default:function(){return[]}},fileFormFieldData:{type:Array,default:function(){return[]}},isSaving:{type:Boolean,default:function(){return!1}}},data:()=>({initialValues:{formimages_field_displaylogin:{value:!0,type:"boolean"},formimages_field_loginalttext:{value:"",type:"text"}},fileData:{sitelogin:null,learncourse:null,learnprogram:null,learncert:null,engageresource:null,engageworkspace:null},initialValuesSet:!1,errorsForm:null,valuesForm:null,resultForm:null,formutils:s.a}),mounted(){let e=this.formutils.mergeFormData(this.initialValues,[this.savedFormFieldData,this.valuesForm||[]]);this.initialValues=this.formutils.getResolvedInitialValues(e);for(let e=0;e<this.fileFormFieldData.length;e++){let t=this.fileFormFieldData[e];void 0!==this.fileData[t.ui_key]&&(this.fileData[t.ui_key]=t)}this.initialValuesSet=!0},methods:{validate:()=>({}),handleChange(e){this.valuesForm=e,this.errorsForm&&(this.errorsForm=null)},submit(e){this.errorsForm&&(this.errorsForm=null),this.resultForm=e;let t=this.formatDataForMutation(e);this.$emit("submit",t)},formatDataForMutation(e){let t={form:"images",fields:[],files:[]};return Object.keys(e).forEach(a=>{t.fields.push({name:a,type:e[a].type,value:String(e[a].value)})}),Object.keys(this.fileData).forEach(e=>{this.fileData[e]&&t.files.push(this.fileData[e])}),t}}},y=a("KHd+"),S=function(e){e.options.__langStrings={theme_ventura:["defaultimage","form_details_default","formimages_group_core","formimages_label_displaylogin","formimages_label_login","formimages_details_login","formimages_label_loginalttext","formimages_details_loginalttext","formimages_group_learn","formimages_label_course","formimages_details_course","formimages_label_program","formimages_details_program","formimages_label_cert","formimages_details_cert","formimages_group_engage","formimages_label_resource","formimages_details_resource","formimages_label_workspace","formimages_details_workspace","tabimages"],totara_core:["save","saveextended","settings","enabled"]}},D=Object(y.a)(k,r,[],!1,null,null,null);"function"==typeof S&&S(D),D.options.__hasBlocks={script:!0,template:!0},D.options.__file="client/component/theme_ventura/src/components/settings/SettingsFormImages.vue";t.default=D.exports},BN8m:function(e,t){e.exports=tui.require("tui/components/buttons/ButtonGroup")},BxDI:function(e,t){e.exports=tui.require("tui/components/decor/Separator")},FVmh:function(e,t,a){"use strict";a.r(t);var r=a("i3se"),i=a.n(r),s=a("12HA");t.default={getCSSVarDefault(e,t){for(let a=0;a<e.length;a++)if(e[a].name===t)return e[a].value},getResolvedInitialValues(e){let t={};for(let a=0;a<e.length;a++){let r=e[a].custom||e[a].default;t[e[a].name]={value:"boolean"===e[a].type?this.convertToBoolean(r):e[a].custom||e[a].default,type:e[a].type}}return t},mergeFormData(e,t){let a=[];return Object.keys(e).forEach((function(r){let i={name:r,type:e[r].type,default:e[r].value,custom:null};for(let e=0;e<t.length;e++){let a=t[e];for(let e=0;e<a.length;e++)a[e].name===r&&(void 0!==a[e].type&&(i.type=a[e].type),void 0!==a[e].value&&(i.default=a[e].value),void 0!==a[e].custom&&(i.custom=a[e].custom))}a.push(i)})),a},mergeCSSVariableData(e){if(!e.length)return void console.warn("No Theme CSS Variable data available.");let t=JSON.parse(JSON.stringify(e[0]));return e.forEach((e,a)=>{a>=1&&Object.entries(e).map(e=>{const a=e[0],r=e[1];t[a]=r})}),t},processCSSVariableData(e){let t=[];return Object.entries(e).map(a=>{const r=a[0],i=a[1],s=this.resolveCSSVariableValue(i,e);t.push({name:r,default:s,value:s,type:"value"})}),t},resolveCSSVariableValue(e,t){const a=e=>{const r=t[e];return"var"===r.type?a(r.value):r.value};if("value"===e.type&&!e.transform)return e.value;if("var"===e.type&&!e.transform)return a(e.value);if(e.transform){let t,r="value"===e.transform.type?e.transform.source:a(e.transform.source);switch(e.transform.call){case"adjust-hex-value-brightness":return t=i.a.adjustHexValueBrightness(r,e.transform.args[0]),t;default:return void console.warn(`ThemeSettings CSS Variable processing for [theme_${s.config.theme.name}] was passed a transform Object but no function to call.`)}}},convertToBoolean:function(e){if("boolean"==typeof e)return e;switch(e.toLowerCase().trim()){case"false":case"no":case"0":return!1;default:return Boolean(e)}}}},GEK5:function(e,t){e.exports=tui.require("tui/components/form/FormRowDefaults")},IqB1:function(e,t){e.exports=tui.require("tui/components/collapsible/Collapsible")},KGot:function(e,t){e.exports=tui.require("tui/components/datatable/Cell")},RP0N:function(e,t){e.exports=tui.require("theme_ventura/components/settings/SettingsFormImages")},SBhU:function(e,t,a){var r={"./settings/ImageUploadSetting":"mvWX","./settings/ImageUploadSetting.vue":"mvWX","./settings/SettingsFormBrand":"mISb","./settings/SettingsFormBrand.vue":"mISb","./settings/SettingsFormColours":"nSgD","./settings/SettingsFormColours.vue":"nSgD","./settings/SettingsFormCustom":"qNSV","./settings/SettingsFormCustom.vue":"qNSV","./settings/SettingsFormImages":"BG+F","./settings/SettingsFormImages.vue":"BG+F"};function i(e){var t=s(e);return a(t)}function s(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=s,e.exports=i,i.id="SBhU"},"VI/8":function(e,t){e.exports=tui.require("theme_ventura/components/settings/SettingsFormColours")},WBvU:function(e,t){e.exports=tui.require("tui/components/uniform")},csKv:function(e,t){e.exports=tui.require("tui/components/form/FormRowStack")},dtFq:function(e,t){e.exports=tui.require("tui/components/form/ImageUpload")},fCWf:function(e,t){e.exports=tui.require("tui/components/links/ActionLink")},"fyM/":function(e,t,a){var r={"./Settings":"+Ksp","./Settings.vue":"+Ksp","./Tenants":"rI7H","./Tenants.vue":"rI7H"};function i(e){var t=s(e);return a(t)}function s(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=s,e.exports=i,i.id="fyM/"},i3se:function(e,t){e.exports=tui.require("tui/theme")},mISb:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.initialValuesSet?a("Uniform",{attrs:{"initial-values":e.initialValues,errors:e.errorsForm,validate:e.validate},on:{change:e.handleChange,submit:e.submit}},[a("FormRow",{attrs:{label:e.$str("formbrand_label_logo","theme_ventura"),"is-stacked":!0}},[a("ImageUploadSetting",{attrs:{metadata:e.fileData.sitelogo,"aria-describedby":e.$id("formbrand-logo-details"),"aria-label-extension":e.$str("formbrand_label_logo","theme_ventura")}}),e._v(" "),a("FormRowDetails",{attrs:{id:e.$id("formbrand-logo-details")}},[e._v("\n      "+e._s(e.$str("formbrand_details_logo","theme_ventura"))+"\n    ")])],1),e._v(" "),a("FormRow",{attrs:{label:e.$str("formbrand_label_logoalttext","theme_ventura"),"is-stacked":!0}},[a("FormText",{attrs:{name:["formbrand_field_logoalttext","value"],"aria-describedby":e.$id("formbrand-logoalttext-details"),required:""}}),e._v(" "),a("FormRowDetails",{attrs:{id:e.$id("formbrand-logoalttext-details")}},[e._v("\n      "+e._s(e.$str("formbrand_details_logoalttext","theme_ventura"))+"\n    ")])],1),e._v(" "),a("FormRow",{attrs:{label:e.$str("formbrand_label_favicon","theme_ventura"),"is-stacked":!0}},[a("ImageUploadSetting",{attrs:{metadata:e.fileData.sitefavicon,"aria-describedby":e.$id("formbrand-favicon-details"),"aria-label-extension":e.$str("formbrand_label_favicon","theme_ventura")}}),e._v(" "),a("FormRowDetails",{attrs:{id:e.$id("formbrand-favicon-details")}},[e._v("\n      "+e._s(e.$str("formbrand_details_favicon","theme_ventura"))+"\n    ")])],1),e._v(" "),a("FormRow",[a("ButtonGroup",[a("Button",{attrs:{styleclass:{primary:"true"},text:e.$str("save","totara_core"),"aria-label":e.$str("saveextended","totara_core",e.$str("tabbrand","theme_ventura")+" "+e.$str("settings","totara_core")),disabled:e.isSaving,type:"submit"}})],1)],1)],1):e._e()};r._withStripped=!0;var i=a("uxl5"),s=a.n(i),n=a("WBvU"),o=a("Asbc"),l=a.n(o),m=a("vGF0"),u=a.n(m),d=a("vF5l"),c=a.n(d),_=a("BN8m"),f=a.n(_),v={components:{Uniform:n.Uniform,FormRow:n.FormRow,FormRowDetails:u.a,FormText:n.FormText,ImageUploadSetting:l.a,Button:c.a,ButtonGroup:f.a},props:{savedFormFieldData:{type:Array,default:function(){return[]}},fileFormFieldData:{type:Array,default:function(){return[]}},isSaving:{type:Boolean,default:function(){return!1}}},data:()=>({initialValues:{formbrand_field_logoalttext:{value:null,type:"text"}},fileData:{sitefavicon:null,sitelogo:null},initialValuesSet:!1,errorsForm:null,valuesForm:null,resultForm:null,formutils:s.a}),mounted(){let e=this.formutils.mergeFormData(this.initialValues,[this.savedFormFieldData,this.valuesForm||[]]);this.initialValues=this.formutils.getResolvedInitialValues(e);for(let e=0;e<this.fileFormFieldData.length;e++){let t=this.fileFormFieldData[e];void 0!==this.fileData[t.ui_key]&&(this.fileData[t.ui_key]=t)}this.initialValuesSet=!0},methods:{validate:()=>({}),handleChange(e){this.valuesForm=e,this.errorsForm&&(this.errorsForm=null)},submit(e){this.errorsForm&&(this.errorsForm=null),this.resultForm=e;let t=this.formatDataForMutation(e);this.$emit("submit",t)},formatDataForMutation(e){let t={form:"brand",fields:[],files:[]};return Object.keys(e).forEach(a=>{t.fields.push({name:a,type:e[a].type,value:String(e[a].value)})}),Object.keys(this.fileData).forEach(e=>{this.fileData[e]&&t.files.push(this.fileData[e])}),t}}},g=a("KHd+"),b=function(e){e.options.__langStrings={theme_ventura:["form_details_default","formbrand_label_logo","formbrand_details_logo","formbrand_label_logoalttext","formbrand_details_logoalttext","formbrand_label_favicon","formbrand_details_favicon","tabbrand"],totara_core:["save","saveextended","settings"]}},p=Object(g.a)(v,r,[],!1,null,null,null);"function"==typeof b&&b(p),p.options.__hasBlocks={script:!0,template:!0},p.options.__file="client/component/theme_ventura/src/components/settings/SettingsFormBrand.vue";t.default=p.exports},mvWX:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this.$createElement;return(this._self._c||e)("ImageUpload",{attrs:{"item-id":this.metadata.file_area.draft_id,"repository-id":this.metadata.file_area.repository_id,href:this.metadata.file_area.url,"current-url":this.metadata.current_url,"default-url":this.metadata.default_url,"accepted-types":this.metadata.type.valid_extensions,"aria-describedby":this.ariaDescribedby}})};r._withStripped=!0;var i=a("dtFq"),s={components:{ImageUpload:a.n(i).a},props:{metadata:Object,ariaDescribedby:String}},n=a("KHd+"),o=Object(n.a)(s,r,[],!1,null,null,null);o.options.__hasBlocks={script:!0,template:!0},o.options.__file="client/component/theme_ventura/src/components/settings/ImageUploadSetting.vue";t.default=o.exports},nSgD:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.initialValuesSet?a("Uniform",{attrs:{"initial-values":e.initialValues,errors:e.errorsForm,validate:e.validate},on:{change:e.handleChange,submit:e.submit}},[a("FormRow",{attrs:{label:e.$str("formcolours_label_primary","theme_ventura"),"is-stacked":!0}},[a("FormColor",{attrs:{name:["color-state","value"],validations:function(e){return[e.required(),e.colorValueHex()]},"aria-describedby":e.$id("formcolours-primary-details")+" "+e.$id("formcolours-primary-defaults")}}),e._v(" "),a("FormRowDefaults",{attrs:{id:e.$id("formcolours-primary-defaults")}},[e._v("\n      "+e._s(e.formutils.getCSSVarDefault(e.mergedProcessedCssVariableData,"color-state"))+"\n    ")]),e._v(" "),a("FormRowDetails",{attrs:{id:e.$id("formcolours-primary-details")}},[e._v("\n      "+e._s(e.$str("formcolours_details_primary","theme_ventura"))+"\n    ")])],1),e._v(" "),a("FormRow",{attrs:{label:e.$str("formcolours_label_useoverrides","theme_ventura"),"is-stacked":!0}},[a("FormToggleSwitch",{attrs:{"aria-label":e.$str("formcolours_label_useoverrides","theme_ventura"),name:["formcolours_field_useoverrides","value"],"toggle-first":!0,"aria-describedby":e.$id("formcolours-useoverrides-details")}}),e._v(" "),a("FormRowDetails",{attrs:{id:e.$id("formcolours-useoverrides-details")}},[e._v("\n      "+e._s(e.$str("formcolours_details_useoverrides","theme_ventura"))+"\n    ")])],1),e._v(" "),e.colourOverridesEnabled?a("FormFieldset",[a("FormRowStack",[a("FormRow",{attrs:{label:e.$str("formcolours_label_primarybuttons","theme_ventura"),"is-stacked":!0}},[a("FormColor",{attrs:{name:["btn-prim-accent-color","value"],validations:function(e){return[e.required(),e.colorValueHex()]},"aria-describedby":e.$id("formcolours-primarybuttons-details")+" "+e.$id("formcolours-primarybuttons-defaults")}}),e._v(" "),a("FormRowDefaults",{attrs:{id:e.$id("formcolours-primarybuttons-defaults")}},[e._v("\n          "+e._s(e.formutils.getCSSVarDefault(e.mergedProcessedCssVariableData,"btn-prim-accent-color"))+"\n        ")]),e._v(" "),a("FormRowDetails",{attrs:{id:e.$id("formcolours-primarybuttons-details")}},[e._v("\n          "+e._s(e.$str("formcolours_details_primarybuttons","theme_ventura"))+"\n        ")])],1),e._v(" "),a("FormRow",{attrs:{label:e.$str("formcolours_label_secondarybuttons","theme_ventura"),"is-stacked":!0}},[a("FormColor",{attrs:{name:["btn-accent-color","value"],validations:function(e){return[e.required(),e.colorValueHex()]},"aria-describedby":e.$id("formcolours-secondarybuttons-details")+" "+e.$id("formcolours-secondarybuttons-defaults")}}),e._v(" "),a("FormRowDefaults",{attrs:{id:e.$id("formcolours-secondarybuttons-defaults")}},[e._v("\n          "+e._s(e.formutils.getCSSVarDefault(e.mergedProcessedCssVariableData,"btn-accent-color"))+"\n        ")]),e._v(" "),a("FormRowDetails",{attrs:{id:e.$id("formcolours-secondarybuttons-details")}},[e._v("\n          "+e._s(e.$str("formcolours_details_secondarybuttons","theme_ventura"))+"\n        ")])],1),e._v(" "),a("FormRow",{attrs:{label:e.$str("formcolours_label_links","theme_ventura"),"is-stacked":!0}},[a("FormColor",{attrs:{name:["link-color","value"],validations:function(e){return[e.required(),e.colorValueHex()]},"aria-describedby":e.$id("formcolours-links-details")+" "+e.$id("formcolours-links-defaults")}}),e._v(" "),a("FormRowDefaults",{attrs:{id:e.$id("formcolours-links-defaults")}},[e._v("\n          "+e._s(e.formutils.getCSSVarDefault(e.mergedProcessedCssVariableData,"link-color"))+"\n        ")]),e._v(" "),a("FormRowDetails",{attrs:{id:e.$id("formcolours-links-details")}},[e._v("\n          "+e._s(e.$str("formcolours_details_links","theme_ventura"))+"\n        ")])],1),e._v(" "),a("Separator")],1)],1):e._e(),e._v(" "),a("FormRowStack",[a("FormRow",{attrs:{label:e.$str("formcolours_label_accent","theme_ventura"),"is-stacked":!0}},[a("FormColor",{attrs:{name:["color-primary","value"],validations:function(e){return[e.required(),e.colorValueHex()]},"aria-describedby":e.$id("formcolours-accent-details")+" "+e.$id("formcolours-accent-defaults")}}),e._v(" "),a("FormRowDefaults",{attrs:{id:e.$id("formcolours-accent-defaults")}},[e._v("\n        "+e._s(e.formutils.getCSSVarDefault(e.mergedProcessedCssVariableData,"color-primary"))+"\n      ")]),e._v(" "),a("FormRowDetails",{attrs:{id:e.$id("formcolours-accent-details")}},[e._v("\n        "+e._s(e.$str("formcolours_details_accent","theme_ventura"))+"\n      ")])],1)],1),e._v(" "),a("Collapsible",{attrs:{label:e.$str("formcolours_moresettings","theme_ventura")}},[a("FormRowStack",[a("FormRow",{attrs:{label:e.$str("formcolours_label_headerbg","theme_ventura"),"is-stacked":!0}},[a("FormColor",{attrs:{name:["nav-bg-color","value"],validations:function(e){return[e.required(),e.colorValueHex()]},"aria-describedby":e.$id("formcolours-headerbg-details")+" "+e.$id("formcolours-headerbg-defaults")}}),e._v(" "),a("FormRowDefaults",{attrs:{id:e.$id("formcolours-headerbg-defaults")}},[e._v("\n          "+e._s(e.formutils.getCSSVarDefault(e.mergedProcessedCssVariableData,"nav-bg-color"))+"\n        ")]),e._v(" "),a("FormRowDetails",{attrs:{id:e.$id("formcolours-headerbg-details")}},[e._v("\n          "+e._s(e.$str("formcolours_details_headerbg","theme_ventura"))+"\n        ")])],1),e._v(" "),a("FormRow",{attrs:{label:e.$str("formcolours_label_headertext","theme_ventura"),"is-stacked":!0}},[a("FormColor",{attrs:{name:["nav-text-color","value"],validations:function(e){return[e.required(),e.colorValueHex()]},"aria-describedby":e.$id("formcolours-headertext-details")+" "+e.$id("formcolours-headertext-defaults")}}),e._v(" "),a("FormRowDefaults",{attrs:{id:e.$id("formcolours-headertext-defaults")}},[e._v("\n          "+e._s(e.formutils.getCSSVarDefault(e.mergedProcessedCssVariableData,"nav-text-color"))+"\n        ")]),e._v(" "),a("FormRowDetails",{attrs:{id:e.$id("formcolours-headertext-details")}},[e._v("\n          "+e._s(e.$str("formcolours_details_headertext","theme_ventura"))+"\n        ")])],1),e._v(" "),a("FormRow",{attrs:{label:e.$str("formcolours_label_pagetext","theme_ventura"),"is-stacked":!0}},[a("FormColor",{attrs:{name:["color-text","value"],validations:function(e){return[e.required(),e.colorValueHex()]},"aria-describedby":e.$id("formcolours-pagetext-details")+" "+e.$id("formcolours-pagetext-defaults")}}),e._v(" "),a("FormRowDefaults",{attrs:{id:e.$id("formcolours-pagetext-defaults")}},[e._v("\n          "+e._s(e.formutils.getCSSVarDefault(e.mergedProcessedCssVariableData,"color-text"))+"\n        ")]),e._v(" "),a("FormRowDetails",{attrs:{id:e.$id("formcolours-pagetext-details")}},[e._v("\n          "+e._s(e.$str("formcolours_details_pagetext","theme_ventura"))+"\n        ")])],1)],1)],1),e._v(" "),a("FormRow",[a("ButtonGroup",[a("Button",{attrs:{styleclass:{primary:"true"},text:e.$str("save","totara_core"),"aria-label":e.$str("saveextended","totara_core",e.$str("tabcolours","theme_ventura")+" "+e.$str("settings","totara_core")),disabled:e.isSaving,type:"submit"}})],1)],1)],1):e._e()};r._withStripped=!0;var i=a("uxl5"),s=a.n(i),n=a("IqB1"),o=a.n(n),l=a("BxDI"),m=a.n(l),u=a("WBvU"),d=a("5kUj"),c=a.n(d),_=a("vGF0"),f=a.n(_),v=a("GEK5"),g=a.n(v),b=a("csKv"),p=a.n(b),h=a("vF5l"),F=a.n(h),k=a("BN8m"),y=a.n(k),S={components:{Collapsible:o.a,Uniform:u.Uniform,FormRow:u.FormRow,FormFieldset:c.a,FormRowDetails:f.a,FormRowDefaults:g.a,FormColor:u.FormColor,FormToggleSwitch:u.FormToggleSwitch,FormRowStack:p.a,Separator:m.a,Button:F.a,ButtonGroup:y.a},props:{savedFormFieldData:{type:Array,default:function(){return[]}},mergedDefaultCssVariableData:{type:Object,default:function(){return{}}},mergedProcessedCssVariableData:{type:Array,default:function(){return[]}},isSaving:{type:Boolean,default:function(){return!1}}},data:()=>({initialValues:{formcolours_field_useoverrides:{value:!1,type:"boolean"},"nav-bg-color":{value:null,type:null},"nav-text-color":{value:null,type:null},"color-primary":{value:null,type:null},"btn-prim-accent-color":{value:null,type:null},"btn-accent-color":{value:null,type:null},"link-color":{value:null,type:null},"color-state":{value:null,type:null},"color-text":{value:null,type:null}},initialValuesSet:!1,colourOverridesEnabled:!1,errorsForm:null,valuesForm:null,resultForm:null,formutils:s.a}),mounted(){let e=this.formutils.mergeFormData(this.initialValues,[this.mergedProcessedCssVariableData,this.savedFormFieldData,this.valuesForm||[]]);this.initialValues=this.formutils.getResolvedInitialValues(e),this.colourOverridesEnabled=this.initialValues.formcolours_field_useoverrides.value,this.initialValuesSet=!0},methods:{validate:()=>({}),handleChange(e){this.valuesForm=e,this.errorsForm&&(this.errorsForm=null),void 0!==e.formcolours_field_useoverrides&&(this.colourOverridesEnabled=e.formcolours_field_useoverrides.value)},submit(e){this.errorsForm&&(this.errorsForm=null),this.resultForm=e;let t=this.formatDataForMutation(e);this.$emit("submit",t)},formatDataForMutation(e){let t={form:"colours",fields:null},a=[];Object.keys(e).forEach(t=>{let r=e[t];if("value"===r.type)for(let e=0;e<this.mergedProcessedCssVariableData.length;e++){let i=this.mergedProcessedCssVariableData[e];if(t===i.name&&r.value!==i.default){console.log("Non-default value found for currentField: "+t),a.push({name:i.name,type:r.type,value:String(r.value)});break}}"value"!==r.type&&a.push({name:t,type:r.type,value:String(r.value)})});const r=this.resolveDerivedFields(e,a,["hover","focus","active"]);return t.fields=a.concat(r),t},resolveDerivedFields(e,t,a){let r=[];return t.map(t=>{let i=t.name;a.map(t=>{let a=this.mergedDefaultCssVariableData[i+"-"+t];if(a){let s=Object.assign(a,{});s.transform.type="value",s.transform.source=e[i].value,r.push({name:i+"-"+t,type:"value",value:String(this.formutils.resolveCSSVariableValue(s,e))})}})}),r}}},D=a("KHd+"),$=function(e){e.options.__langStrings={theme_ventura:["form_details_default","formcolours_label_primary","formcolours_details_primary","formcolours_label_useoverrides","formcolours_details_useoverrides","formcolours_label_accent","formcolours_details_accent","formcolours_label_primarybuttons","formcolours_details_primarybuttons","formcolours_label_secondarybuttons","formcolours_details_secondarybuttons","formcolours_label_links","formcolours_details_links","formcolours_moresettings","formcolours_label_headerbg","formcolours_details_headerbg","formcolours_label_headertext","formcolours_details_headertext","formcolours_label_pagetext","formcolours_details_pagetext","tabcolours"],totara_core:["save","saveextended","settings"]}},w=Object(D.a)(S,r,[],!1,null,null,null);"function"==typeof $&&$(w),w.options.__hasBlocks={script:!0,template:!0},w.options.__file="client/component/theme_ventura/src/components/settings/SettingsFormColours.vue";t.default=w.exports},qNSV:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.initialValuesSet?a("Uniform",{attrs:{"initial-values":e.initialValues,errors:e.errorsForm},on:{change:e.handleChange,submit:e.submit}},[a("FormRow",{attrs:{label:e.$str("formcustom_label_customcss","theme_ventura"),"is-stacked":!0}},[a("FormTextarea",{attrs:{name:["formcustom_field_customcss","value"],spellcheck:"false",rows:"6","char-length":"full","aria-describedby":e.$id("formcustom-customcss-details")}}),e._v(" "),a("FormRowDetails",{attrs:{id:e.$id("formcustom-customcss-details")}},[e._v("\n      "+e._s(e.$str("formcustom_details_customcss","theme_ventura"))+"\n    ")])],1),e._v(" "),a("FormRow",[a("ButtonGroup",[a("Button",{attrs:{styleclass:{primary:"true"},text:e.$str("save","totara_core"),"aria-label":e.$str("saveextended","totara_core",e.$str("tabcustom","theme_ventura")+" "+e.$str("settings","totara_core")),disabled:e.isSaving,type:"submit"}})],1)],1)],1):e._e()};r._withStripped=!0;var i=a("uxl5"),s=a.n(i),n=a("WBvU"),o=a("vGF0"),l=a.n(o),m=a("vF5l"),u=a.n(m),d=a("BN8m"),c=a.n(d),_={components:{Uniform:n.Uniform,FormRow:n.FormRow,FormRowDetails:l.a,FormTextarea:n.FormTextarea,Button:u.a,ButtonGroup:c.a},props:{savedFormFieldData:{type:Array,default:function(){return[]}},isSaving:{type:Boolean,default:function(){return!1}}},data:()=>({initialValues:{formcustom_field_customcss:{value:"",type:"text"}},initialValuesSet:!1,formutils:s.a,errorsForm:null,valuesForm:null,resultForm:null}),mounted(){let e=this.formutils.mergeFormData(this.initialValues,[this.savedFormFieldData,this.valuesForm||[]]);this.initialValues=this.formutils.getResolvedInitialValues(e),this.initialValuesSet=!0},methods:{handleChange(e){this.valuesForm=e,this.errorsForm&&(this.errorsForm=null)},submit(e){this.errorsForm&&(this.errorsForm=null),this.resultForm=e;let t=this.formatDataForMutation(e);this.$emit("submit",t)},formatDataForMutation(e){let t={form:"custom",fields:[]};return Object.keys(e).forEach(a=>{t.fields.push({name:a,type:e[a].type,value:String(e[a].value)})}),t}}},f=a("KHd+"),v=function(e){e.options.__langStrings={theme_ventura:["formcustom_label_customcss","formcustom_details_customcss","tabcustom"],totara_core:["save","saveextended","settings"]}},g=Object(f.a)(_,r,[],!1,null,null,null);"function"==typeof v&&v(g),g.options.__hasBlocks={script:!0,template:!0},g.options.__file="client/component/theme_ventura/src/components/settings/SettingsFormCustom.vue";t.default=g.exports},rI7H:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",[e._v(e._s(e.theme))]),e._v(" "),a("h3",[e._v(e._s(e.$str("sitebranding","theme_ventura")))]),e._v(" "),a("p",[e._v(e._s(e.$str("sitebrandinginformation","theme_ventura")))]),e._v(" "),a("ActionLink",{attrs:{href:e.configLink,text:e.$str("editsitebranding","theme_ventura"),styleclass:{primary:!0}}}),e._v(" "),a("h3",[e._v(e._s(e.$str("tenantbranding","theme_ventura")))]),e._v(" "),a("Table",{attrs:{data:e.tenants},scopedSlots:e._u([{key:"header-row",fn:function(){return[a("HeaderCell",[e._v(e._s(e.$str("tenant","totara_tenant")))]),e._v(" "),a("HeaderCell",[e._v(e._s(e.$str("tenantidnumber","totara_tenant")))]),e._v(" "),a("HeaderCell",[e._v(e._s(e.$str("branding","theme_ventura")))]),e._v(" "),a("HeaderCell",[e._v(e._s(e.$str("actions","core")))])]},proxy:!0},{key:"row",fn:function(t){var r=t.row;return[a("Cell",[e._v("\n        "+e._s(r.name)+"\n      ")]),e._v(" "),a("Cell",[e._v("\n        "+e._s(r.idnumber)+"\n      ")]),e._v(" "),a("Cell",[e._v("\n        "+e._s(r.customBranding?e.$str("custom","theme_ventura"):e.$str("site","theme_ventura"))+"\n      ")]),e._v(" "),a("Cell",[a("a",{attrs:{href:e.tennantLink+r.id}},[a("Edit",{attrs:{alt:e.$str("edittenantsetting","theme_ventura",r.name)}})],1)])]}}])})],1)};r._withStripped=!0;var i=a("fCWf"),s=a.n(i),n=a("yikf"),o=a.n(n),l=a("5qAA"),m=a.n(l),u=a("KGot"),d=a.n(u),c=a("rNse"),_=a.n(c),f=a("12HA"),v={components:{ActionLink:s.a,Table:o.a,HeaderCell:m.a,Cell:d.a,Edit:_.a},props:{theme:{type:String,required:!0,validator:e=>["ventura","roots","basis"].some(t=>t===e)},tenants:{type:Array,required:!1,default:()=>[]}},data:()=>({configLink:f.config.wwwroot+"/theme/ventura/theme_settings.php",tennantLink:f.config.wwwroot+"/theme/ventura/theme_settings.php?tenant_id="})},g=a("KHd+"),b=function(e){e.options.__langStrings={core:["actions"],theme_ventura:["branding","custom","editsitebranding","edittenantsetting","site","sitebrandinginformation","sitebranding","tenantbranding"],totara_tenant:["tenant","tenantidnumber"]}},p=Object(g.a)(v,r,[],!1,null,null,null);"function"==typeof b&&b(p),p.options.__hasBlocks={script:!0,template:!0},p.options.__file="client/component/theme_ventura/src/pages/Tenants.vue";t.default=p.exports},rNse:function(e,t){e.exports=tui.require("tui/components/icons/Edit")},"t+Kz":function(e,t){e.exports=tui.require("theme_ventura/components/settings/SettingsFormCustom")},txsu:function(e,t){e.exports=tui.require("tui/components/tabs/Tabs")},uxl5:function(e,t){e.exports=tui.require("theme_ventura/formutils")},vF5l:function(e,t){e.exports=tui.require("tui/components/buttons/Button")},vGF0:function(e,t){e.exports=tui.require("tui/components/form/FormRowDetails")},vyVp:function(e,t){e.exports=tui.require("tui/notifications")},xXhL:function(e,t,a){var r={"./formutils":"FVmh","./formutils.js":"FVmh"};function i(e){var t=s(e);return a(t)}function s(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=s,e.exports=i,i.id="xXhL"},yikf:function(e,t){e.exports=tui.require("tui/components/datatable/Table")}});