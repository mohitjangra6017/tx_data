!function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="GF06")}({"+tN3":function(e,t){e.exports=tui.require("tui/components/tree/Tree")},"12HA":function(e,t){e.exports=tui.require("tui/config")},"1AGq":function(e,t,n){"use strict";var i=n("Z6Wy");n.n(i).a},"3kcf":function(e,t){e.exports=tui.require("tui/components/filters/MultiSelectFilter")},"554a":function(e,t){e.exports=tui.require("tui/components/filters/FilterSidePanel")},"5Tla":function(e,t){e.exports=tui.require("contentmarketplace_linkedin/components/learning_item/ImportLearningItem")},"6vKu":function(e,t,n){"use strict";n.r(t);var i=n("vF5l"),a=n.n(i),r=n("9G+f"),o=n.n(r),s=n("zHVS"),l=n.n(s),c={components:{Button:a.a,Popover:o.a,SkeletonContent:l.a},props:{data:{type:Object,required:!0},loading:Boolean,small:Boolean,unselected:Boolean,logo:Object},computed:{cardImage(){let e=this.data.image_url;if(null!==e)return'url("'+e+'")'},courseNumberString(){let e=this.data.courses.length;return e?1===e?this.$str("course_number","contentmarketplace_linkedin",e):this.$str("course_number_plural","contentmarketplace_linkedin",e):""},courseTypeString(){const e=this.data.asset_type;if(!e)return"";return"COURSE"===e?this.$str("course_type_course","contentmarketplace_linkedin"):"LEARNING_PATH"===e?this.$str("course_type_learning_path","contentmarketplace_linkedin"):"VIDEO"===e?this.$str("course_type_video","contentmarketplace_linkedin"):""},subjectsString(){return this.data.subjects.map(e=>e.name).join(this.$str("list_separator","totara_contentmarketplace"))}}},u=(n("kUD9"),n("KHd+")),d=function(e){e.options.__langStrings={contentmarketplace_linkedin:["a11y_appears_in_n_courses","a11y_content_difficulty","a11y_content_time_to_complete","a11y_content_type","a11y_view_courses","appears_in","content_appears_in","course_type_course","course_type_learning_path","course_type_video","course_number","course_number_plural"],totara_contentmarketplace:["list_separator"]}},m=Object(u.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tui-linkedInImportLearningItem",class:{"tui-linkedInImportLearningItem--small":e.small,"tui-linkedInImportLearningItem--unselected":e.unselected}},[e.loading?[n("div",{staticClass:"tui-linkedInImportLearningItem__img"},[n("SkeletonContent",{attrs:{"has-overlay":!0}})],1),e._v(" "),n("div",{staticClass:"tui-linkedInImportLearningItem__content"},[n("div",{staticClass:"tui-linkedInImportLearningItem__subject"},[n("SkeletonContent",{attrs:{"char-length":"10","has-overlay":!0}})],1),e._v(" "),n("h3",{staticClass:"tui-linkedInImportLearningItem__title"},[n("SkeletonContent",{attrs:{"char-length":"25","has-overlay":!0}})],1),e._v(" "),n("div",{staticClass:"tui-linkedInImportLearningItem__bar"},[n("SkeletonContent",{attrs:{"char-length":"25","has-overlay":!0}})],1)])]:[n("div",{staticClass:"tui-linkedInImportLearningItem__imgContainer"},[n("div",{staticClass:"tui-linkedInImportLearningItem__img",style:{"background-image":e.cardImage}}),e._v(" "),e.logo?n("div",{staticClass:"tui-linkedInImportLearningItem__logoContainer"},[n("img",{staticClass:"tui-linkedInImportLearningItem__logo",attrs:{src:e.logo.url,alt:e.logo.alt}})]):e._e()]),e._v(" "),n("div",{staticClass:"tui-linkedInImportLearningItem__content"},[n("div",{staticClass:"tui-linkedInImportLearningItem__subject"},[e._v("\n        "+e._s(e.subjectsString)+"\n      ")]),e._v(" "),n("h3",{staticClass:"tui-linkedInImportLearningItem__title"},[e._v("\n        "+e._s(e.data.name)+"\n      ")]),e._v(" "),n("div",{staticClass:"tui-linkedInImportLearningItem__bar"},[n("div",{staticClass:"tui-linkedInImportLearningItem__bar-overview"},[e.data.display_level?n("div",[n("span",{staticClass:"sr-only"},[e._v("\n              "+e._s(e.$str("a11y_content_difficulty","contentmarketplace_linkedin"))+"\n            ")]),e._v("\n            "+e._s(e.data.display_level)+"\n          ")]):e._e(),e._v(" "),e.data.time_to_complete?n("div",[n("span",{staticClass:"sr-only"},[e._v("\n              "+e._s(e.$str("a11y_content_time_to_complete","contentmarketplace_linkedin"))+"\n            ")]),e._v("\n            "+e._s(e.data.time_to_complete)+"\n          ")]):e._e(),e._v(" "),e.courseTypeString?n("div",[n("span",{staticClass:"sr-only"},[e._v("\n              "+e._s(e.$str("a11y_content_type","contentmarketplace_linkedin"))+"\n            ")]),e._v("\n            "+e._s(e.courseTypeString)+"\n          ")]):e._e(),e._v(" "),e.data.courses.length?n("div",{staticClass:"tui-linkedInImportLearningItem__bar-courses"},[n("span",{attrs:{"aria-hidden":!0}},[e._v("\n              "+e._s(e.$str("appears_in","contentmarketplace_linkedin"))+"\n            ")]),e._v(" "),n("span",{staticClass:"sr-only"},[e._v("\n              "+e._s(e.$str("a11y_appears_in_n_courses","contentmarketplace_linkedin",e.data.courses.length))+"\n            ")]),e._v(" "),n("Popover",{attrs:{size:"md",triggers:["click"]},scopedSlots:e._u([{key:"trigger",fn:function(t){var i=t.isOpen;return[n("Button",{attrs:{"aria-expanded":i.toString(),"aria-label":e.$str("a11y_view_courses","contentmarketplace_linkedin",{count:e.data.courses.length,course:e.data.name}),styleclass:{small:!0,transparent:!0},text:e.courseNumberString}})]}}],null,!1,1778932871)},[e._v(" "),n("div",[e._v("\n                "+e._s(e.$str("content_appears_in","contentmarketplace_linkedin"))+"\n                "),n("ul",{staticClass:"tui-linkedInImportLearningItem__bar-coursesList"},e._l(e.data.courses,(function(t,i){return n("li",{key:i},[e._v("\n                    "+e._s(t.fullname)+"\n                  ")])})),0)])])],1):e._e()]),e._v(" "),e.$scopedSlots["side-content"]?n("div",{staticClass:"tui-linkedInImportLearningItem__bar-side"},[e._t("side-content")],2):e._e()])])]],2)}),[],!1,null,null,null);"function"==typeof d&&d(m),m.options.__hasBlocks={script:!0,template:!0};t.default=m.exports},"7YRT":function(e,t,n){},"7grt":function(e,t){e.exports=tui.require("contentmarketplace_linkedin/components/learning_item/ImportLearningItemCategory")},"8M6j":function(e,t){e.exports=tui.require("totara_contentmarketplace/components/paging/ImportSelectionPaging")},"9G+f":function(e,t){e.exports=tui.require("tui/components/popover/Popover")},AhZ1:function(e,t){e.exports=tui.require("totara_contentmarketplace/components/basket/ImportBasket")},BN8m:function(e,t){e.exports=tui.require("tui/components/buttons/ButtonGroup")},Dg9Z:function(e,t){e.exports=tui.require("tui/components/uniform/FormText")},FBvN:function(e,t){e.exports=tui.require("tui/components/filters/SearchFilter")},FDfZ:function(e,t,n){"use strict";n.r(t);var i=n("PRN7"),a=n.n(i),r=n("fw38"),o=n.n(r),s={components:{Label:a.a,Select:o.a},props:{options:{type:Array,required:!0},selected:{type:String,required:!0}}},l=(n("1AGq"),n("KHd+")),c=function(e){e.options.__langStrings={contentmarketplace_linkedin:["language_filter_label"]}},u=Object(l.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tui-linkedInImportPrimaryFilter"},[n("Label",{staticClass:"tui-linkedInImportPrimaryFilter__label",attrs:{"for-id":e.$id("languageSelect"),label:e.$str("language_filter_label","contentmarketplace_linkedin")}}),e._v(" "),n("Select",{attrs:{id:e.$id("languageSelect"),"char-length":"full",options:e.options,value:e.selected},on:{input:function(t){return e.$emit("filter-change",t)}}})],1)}),[],!1,null,null,null);"function"==typeof c&&c(u),u.options.__hasBlocks={script:!0,template:!0};t.default=u.exports},GF06:function(e,t,n){!function(){"use strict";"undefined"!=typeof tui&&tui._bundle.isLoaded("contentmarketplace_linkedin")?console.warn('[tui bundle] The bundle "contentmarketplace_linkedin" is already loaded, skipping initialisation.'):(tui._bundle.register("contentmarketplace_linkedin"),tui._bundle.addModulesFromContext("contentmarketplace_linkedin/components",n("jdSJ")),tui._bundle.addModulesFromContext("contentmarketplace_linkedin/pages",n("gnPD")))}()},HZtC:function(e,t,n){"use strict";n.r(t);var i=n("vF5l"),a=n.n(i),r=n("bF0+"),o=n.n(r),s=n("PRN7"),l=n.n(s),c=n("9G+f"),u=n.n(c),d=n("fw38"),m=n.n(d),p={components:{Button:a.a,EditIconButton:o.a,Label:l.a,Popover:u.a,Select:m.a},props:{categoryOptions:Array,courseId:[String,Number],currentCategory:[String,Number],disabled:Boolean},data(){return{selectedPopoverCategory:this.currentCategory}},methods:{resetCategoryForm(e){e||(this.selectedPopoverCategory=this.currentCategory)},updateCategory(e,t){this.$emit("change-course-category",{courseId:e,value:this.selectedPopoverCategory}),t()}}},_=(n("xnCP"),n("KHd+")),g=function(e){e.options.__langStrings={contentmarketplace_linkedin:["assign_to_category","edit_course_category","update"],core:["cancel"]}},k=Object(_.a)(p,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Popover",{staticClass:"tui-linkedInImportCategoryPopover",attrs:{size:"md",triggers:["click"]},on:{"open-changed":e.resetCategoryForm},scopedSlots:e._u([{key:"trigger",fn:function(t){var i=t.isOpen;return[n("EditIconButton",{staticClass:"tui-linkedInImportCategoryPopover__icon",attrs:{"aria-expanded":i.toString(),"aria-label":e.$str("edit_course_category","contentmarketplace_linkedin"),disabled:e.disabled,size:100}})]}},{key:"buttons",fn:function(t){var i=t.close;return[n("Button",{attrs:{styleclass:{primary:!0,small:!0},text:e.$str("update","contentmarketplace_linkedin")},on:{click:function(t){return e.updateCategory(e.courseId,i)}}}),e._v(" "),n("Button",{attrs:{styleclass:{small:!0},text:e.$str("cancel","core")},on:{click:i}})]}}])},[e._v(" "),n("div",{staticClass:"tui-linkedInImportCategoryPopover__edit"},[n("Label",{attrs:{"for-id":e.$id("category"+e.courseId),label:e.$str("assign_to_category","contentmarketplace_linkedin")}}),e._v(" "),n("Select",{attrs:{id:e.$id("category"+e.courseId),"char-length":"15",options:e.categoryOptions},model:{value:e.selectedPopoverCategory,callback:function(t){e.selectedPopoverCategory=t},expression:"selectedPopoverCategory"}})],1)])}),[],!1,null,null,null);"function"==typeof g&&g(k),k.options.__hasBlocks={script:!0,template:!0};t.default=k.exports},"KHd+":function(e,t,n){"use strict";function i(e,t,n,i,a,r,o,s){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),o?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},c._ssrRegister=l):a&&(l=s?function(){a.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:a),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}n.d(t,"a",(function(){return i}))},KeEr:function(e,t){e.exports=tui.require("contentmarketplace_linkedin/components/categories/ImportCategoryPopover")},Ko6I:function(e,t){e.exports=tui.require("contentmarketplace_linkedin/components/filters/ImportSideFilters")},Mnur:function(e,t){e.exports=tui.require("tui/components/modal/ModalPresenter")},N4ie:function(e,t,n){"use strict";n.r(t);var i=n("554a"),a=n.n(i),r=n("3kcf"),o=n.n(r),s=n("FBvN"),l=n.n(s),c=n("+tN3"),u=n.n(c),d={components:{FilterSidePanel:a.a,MultiSelectFilter:o.a,SearchFilter:l.a,Tree:u.a},props:{contentId:String,filters:{type:Object,required:!0},openNodes:Object,value:Object}},m=n("KHd+"),p=function(e){e.options.__langStrings={contentmarketplace_linkedin:["a11y_search_filter","filters_title","search_filter_placeholder"]}},_=Object(m.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("FilterSidePanel",{attrs:{"skip-content-id":e.contentId,title:e.$str("filters_title","contentmarketplace_linkedin")},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[n("SearchFilter",{attrs:{label:e.$str("a11y_search_filter","contentmarketplace_linkedin"),placeholder:e.$str("search_filter_placeholder","contentmarketplace_linkedin")},model:{value:e.value.search,callback:function(t){e.$set(e.value,"search",t)},expression:"value.search"}}),e._v(" "),n("div",[n("Tree",{attrs:{"header-level":4,separator:!0,"tree-data":e.filters.subjects},scopedSlots:e._u([{key:"content",fn:function(t){var i=t.content,a=t.label;return[n("MultiSelectFilter",{attrs:{"hidden-title":!0,options:i,title:a,"visible-item-limit":5},model:{value:e.value.subjects,callback:function(t){e.$set(e.value,"subjects",t)},expression:"value.subjects"}})]}}]),model:{value:e.openNodes.subjects,callback:function(t){e.$set(e.openNodes,"subjects",t)},expression:"openNodes.subjects"}}),e._v(" "),n("Tree",{attrs:{"header-level":4,separator:!0,"tree-data":e.filters.time_to_complete},scopedSlots:e._u([{key:"content",fn:function(t){var i=t.content,a=t.label;return[n("MultiSelectFilter",{attrs:{"hidden-title":!0,options:i,title:a,"visible-item-limit":5},model:{value:e.value.time_to_complete,callback:function(t){e.$set(e.value,"time_to_complete",t)},expression:"value.time_to_complete"}})]}}]),model:{value:e.openNodes.time_to_complete,callback:function(t){e.$set(e.openNodes,"time_to_complete",t)},expression:"openNodes.time_to_complete"}})],1)],1)}),[],!1,null,null,null);"function"==typeof p&&p(_),_.options.__hasBlocks={script:!0,template:!0};t.default=_.exports},O8Ag:function(e,t){e.exports=tui.require("tui/components/uniform/Uniform")},PP99:function(e,t,n){"use strict";var i=n("zaOG");n.n(i).a},PRN7:function(e,t){e.exports=tui.require("tui/components/form/Label")},TXEh:function(e,t){e.exports=tui.require("tui/util")},Z6Wy:function(e,t,n){},b7mE:function(e,t,n){"use strict";n.r(t);var i=n("vF5l"),a=n.n(i),r=n("nXMa"),o=n.n(r),s=n("BN8m"),l=n.n(s),c=n("tkAW"),u=n.n(c),d=n("u5iS"),m=n.n(d),p=n("Mnur"),_=n.n(p),g=n("O8Ag"),k=n.n(g),v=n("i/kK"),f=n.n(v),y=n("Dg9Z"),h=n.n(y),b=n("12HA"),I={components:{Button:a.a,ButtonCancel:o.a,ButtonGroup:l.a,Modal:u.a,ModalContent:m.a,ModalPresenter:_.a,Uniform:k.a,FormRow:f.a,FormText:h.a},data:()=>({modalOpen:!1,loading:!1}),methods:{correctCodeValidation(e){return"linkedin2905"===e?null:this.$str("beta_registration_access_code_invalid","contentmarketplace_linkedin")},submit(){window.location=this.$url("/totara/contentmarketplace/marketplaces.php",{id:"linkedin",enable:1,sesskey:b.config.sesskey}),this.loading=!0}}},S=n("KHd+"),F=function(e){e.options.__langStrings={contentmarketplace_linkedin:["beta_registration","beta_registration_access_code","beta_registration_access_code_invalid","warningenablemarketplace:body:html","warningenablemarketplace:title"],core:["enable"],totara_contentmarketplace:["setup"]}},C=Object(S.a)(I,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a",{attrs:{href:"#"},on:{click:function(t){e.modalOpen=!0}}},[e._v("\n    "+e._s(e.$str("setup","totara_contentmarketplace"))+"\n  ")]),e._v(" "),n("ModalPresenter",{attrs:{open:e.modalOpen},on:{"request-close":function(t){e.modalOpen=!1}}},[n("Modal",{attrs:{size:"normal","aria-labelledby":e.$id("title")}},[n("Uniform",{attrs:{vertical:"","validation-mode":"submit"},on:{submit:e.submit}},[n("ModalContent",{attrs:{"close-button":!0,title:e.$str("warningenablemarketplace:title","contentmarketplace_linkedin"),"title-id":e.$id("title")},on:{dismiss:function(t){e.modalOpen=!1}},scopedSlots:e._u([{key:"buttons",fn:function(){return[n("ButtonGroup",[n("Button",{attrs:{styleclass:{primary:"true"},text:e.$str("enable"),loading:e.loading,type:"submit"}}),e._v(" "),n("ButtonCancel",{on:{click:function(t){e.modalOpen=!1}}})],1)]},proxy:!0}])},[n("p",[e._v("\n            "+e._s(e.$str("warningenablemarketplace:body:html","contentmarketplace_linkedin"))+"\n          ")]),e._v(" "),n("p",{domProps:{innerHTML:e._s(e.$str("beta_registration","contentmarketplace_linkedin"))}}),e._v(" "),n("FormRow",{attrs:{label:e.$str("beta_registration_access_code","contentmarketplace_linkedin")},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.label;return[n("FormText",{attrs:{name:"accessCode","aria-label":i,validations:function(t){return[t.required(),e.correctCodeValidation]},spellcheck:!1}})]}}])})],1)],1)],1)],1)],1)}),[],!1,null,null,null);"function"==typeof F&&F(C),C.options.__hasBlocks={script:!0,template:!0};t.default=C.exports},"bF0+":function(e,t){e.exports=tui.require("tui/components/buttons/EditIcon")},bwg2:function(e,t){e.exports=tui.require("totara_contentmarketplace/components/count/ImportCountAndFilters")},cXYV:function(e,t){e.exports=tui.require("totara_contentmarketplace/pages/CatalogImportLayout")},dkwW:function(e,t){e.exports=tui.require("totara_contentmarketplace/components/filters/ImportSortFilter")},e9Av:function(e,t,n){"use strict";n.r(t);var i=n("AhZ1"),a=n.n(i),r=n("bwg2"),o=n.n(r),s=n("cXYV"),l=n.n(s),c=n("Ko6I"),u=n.n(c),d=n("5Tla"),m=n.n(d),p=n("7grt"),_=n.n(p),g=n("oJN8"),k=n.n(g),v=n("zs4z"),f=n.n(v),y=n("tt4D"),h=n.n(y),b=n("fBEH"),I=n.n(b),S=n("8M6j"),F=n.n(S),C=n("zwh4"),N=n.n(C),L=n("dkwW"),P=n.n(L),w=n("vyVp"),O=n("TXEh"),x={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"contentmarketplace_linkedin_catalog_import_course_categories"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"categoryOptions"},name:{kind:"Name",value:"contentmarketplace_linkedin_catalog_import_course_categories"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"label"},name:{kind:"Name",value:"name"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]}]}}]}}]},j={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"contentmarketplace_linkedin_catalog_import_create_course"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"contentmarketplace_linkedin_catalog_import_course_input"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"payload"},name:{kind:"Name",value:"contentmarketplace_linkedin_catalog_import_create_course"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"success"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"redirect_url"},arguments:[],directives:[]}]}}]}}]},$={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"contentmarketplace_linkedin_catalog_import_learning_objects_filter_options"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"contentmarketplace_linkedin_catalog_import_learning_objects_filter_options_input"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"result"},name:{kind:"Name",value:"contentmarketplace_linkedin_catalog_import_learning_objects_filter_options"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subjects"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"contentmarketplace_linkedin_catalog_import_filter_option"},directives:[]},{kind:"Field",name:{kind:"Name",value:"children"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"contentmarketplace_linkedin_catalog_import_filter_option"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"time_to_complete"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"contentmarketplace_linkedin_catalog_import_filter_option"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"contentmarketplace_linkedin_catalog_import_filter_option"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"contentmarketplace_linkedin_catalog_import_filter_node"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]}]}}]}}]},q={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"contentmarketplace_linkedin_catalog_import_learning_objects"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"contentmarketplace_linkedin_catalog_import_learning_objects_input"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"result"},name:{kind:"Name",value:"contentmarketplace_linkedin_catalog_import_learning_objects"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"asset_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"display_level"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time_to_complete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subjects"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"courses"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"next_cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"selected_filters"},arguments:[],directives:[]}]}}]}}]},T={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"contentmarketplace_linkedin_catalog_import_available_locales"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"locales"},name:{kind:"Name",value:"contentmarketplace_linkedin_available_locales"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"id"},name:{kind:"Name",value:"language"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"label"},name:{kind:"Name",value:"language_label"},arguments:[],directives:[]}]}}]}}]};var B={components:{Basket:a.a,CountAndFilters:o.a,Layout:l.a,LinkedInLearningItem:m.a,LinkedInLearningItemCategory:_.a,LinkedInFilters:u.a,LinkedInPrimaryFilter:k.a,PageBackLink:f.a,ReviewPaging:h.a,ReviewTable:I.a,SelectionPaging:F.a,SelectionTable:N.a,SortFilter:P.a},props:{canManageContent:{type:Boolean,required:!0},logo:{type:Object,required:!0}},data(){return{categoryOptions:[],filters:{subjects:[],time_to_complete:[]},languageFilterOptions:[],learningObjects:{items:[],selectedFilters:[],total:0},marketplace:"linkedin",openNodes:{subjects:["subjects"],time_to_complete:[]},paginationLimit:20,paginationPage:1,reviewingItemCategories:{},reviewingItemList:[],reviewingItemPageLimit:50,reviewingLearningObjects:{items:[],next_cursor:"",total:0},reviewingLoadMorePage:1,reviewingSelectedItems:!1,selectedCategory:{id:null,label:null},selectedFilters:{search:"",subjects:[],time_to_complete:[]},selectedItems:[],selectedLanguage:"en",selectedSortOrderFilter:"LATEST",settingInitFilters:!0,sortFilterOptions:[{label:this.$str("sort_filter_latest","contentmarketplace_linkedin"),id:"LATEST"},{label:this.$str("sort_filter_alphabetical","contentmarketplace_linkedin"),id:"ALPHABETICAL"}],creatingContentLoading:!1}},apollo:{categoryOptions:{query:x},learningObjects:{query:q,skip(){return this.settingInitFilters},variables(){return{input:{filters:{ids:[],language:this.selectedLanguage,search:this.trimmedSearch,subjects:this.selectedFilters.subjects,time_to_complete:this.selectedFilters.time_to_complete},pagination:{limit:this.paginationLimit,page:this.paginationPage},sort_by:this.selectedSortOrderFilter}}},update({result:e}){let t=e.selected_filters.slice();return this.trimmedSearch.length>0&&t.unshift(this.trimmedSearch),{items:e.items,next_cursor:e.next_cursor,total:e.total,selectedFilters:t}}},reviewingLearningObjects:{query:q,skip(){return!this.reviewingSelectedItems},variables(){return{input:{filters:{ids:this.reviewingItemList,language:this.selectedLanguage,search:"",subjects:[],time_to_complete:[]},pagination:{limit:this.reviewingItemPageLimit,page:1},sort_by:"LATEST"}}},update:({result:e})=>e},filters:{query:$,fetchPolicy:"network-only",variables(){return{input:{language:this.selectedLanguage}}},skip(){return 0===this.languageFilterOptions.length},update:({result:e})=>e},languageFilterOptions:{query:T,update:({locales:e})=>e}},computed:{isLoading(){return this.$apollo.loading},placeholderItems(){return Array.from({length:this.paginationLimit},()=>({}))},trimmedSearch(){return this.selectedFilters.search.trim()}},watch:{selectedFilters:{deep:!0,handler(){this.setPageFilterParams(),this.setPaginationPage(1)}}},mounted(){let e=Object(O.parseQueryString)(window.location.search);Object.keys(e).forEach(t=>{void 0!==this.selectedFilters[t]&&(this.selectedFilters[t]=e[t]),"sortby"===t&&(this.selectedSortOrderFilter=e[t]),"language"===t&&(this.selectedLanguage=e[t])}),this.settingInitFilters=!1},methods:{clearSelectedItems(){this.selectedItems=[]},async createCourses(){try{this.creatingContentLoading=!0;const{data:{payload:e}}=await this.$apollo.mutate({mutation:j,variables:{input:this.selectedItems.map(e=>({learning_object_id:e,category_id:this.reviewingItemCategories[e].id}))}});if(e.redirect_url)return void(window.location.href=e.redirect_url);e.message.length>0&&await Object(w.notify)({message:e.message,type:e.success?"success":"error"}),this.creatingContentLoading=!1}catch(e){await Object(w.notify)({message:this.$str("content_creation_unknown_failure","contentmarketplace_linkedin"),type:"error"}),this.creatingContentLoading=!1}},resetPanelFilters(){this.selectedFilters={search:"",subjects:[],time_to_complete:[]}},setAllCategoriesToDefault(){let e={};this.selectedItems.forEach(t=>{e[t]=this.selectedCategory}),this.reviewingItemCategories=e},setDefaultSelectedCategory(e){this.selectedCategory=null!==e?this.categoryOptions.find(t=>t.id===e):{id:null,label:null}},setItemsPerPage(e){this.paginationLimit=e},setLoadMorePage(e){this.reviewingLoadMorePage=e},setPageFilterParams(){let e={marketplace:this.marketplace},t=this.selectedFilters;Object.keys(t).forEach(n=>{let i=t[n];"search"===n&&i&&(e.search=i),i instanceof Array&&i.length&&(e[n]=i)}),this.selectedSortOrderFilter&&(e.sortby=this.selectedSortOrderFilter),"en"!==this.selectedLanguage&&(e.language=this.selectedLanguage);const n=Object(O.url)(window.location.pathname,e);window.history.pushState(null,null,n)},setPaginationPage(e){this.$refs["selection-table"]&&this.$refs["selection-table"].$el.scrollIntoView(),this.paginationPage=e},setPrimaryFilter(e){this.resetPanelFilters(),this.selectedLanguage=e},setSelectedItems(e){this.selectedItems=e},setSingleCourseCategory(e){let t=this.categoryOptions.find(t=>t.id===e.value);this.reviewingItemCategories[e.courseId]=t},setSortOrderFilter(e){this.selectedSortOrderFilter=e,this.setPaginationPage(1),this.setPageFilterParams()},updateReviewPage(){this.setLoadMorePage(this.reviewingLoadMorePage+1),this.$apollo.queries.reviewingLearningObjects.fetchMore({variables:{input:{filters:{ids:this.reviewingItemList,language:this.selectedLanguage,search:"",subjects:[],time_to_complete:[]},pagination:{limit:this.reviewingItemPageLimit,page:this.reviewingLoadMorePage},sort_by:"LATEST"}},updateQuery:(e,{fetchMoreResult:t})=>(t.result.items.unshift(...e.result.items),t)})},switchContentView(e){e?(this.setLoadMorePage(1),this.setAllCategoriesToDefault(),this.reviewingItemList=this.selectedItems):(this.resetPanelFilters(),this.setItemsPerPage(20),this.setPaginationPage(1)),this.reviewingSelectedItems=e}}},E=n("KHd+"),D=function(e){e.options.__langStrings={contentmarketplace_linkedin:["catalog_title","catalog_review_title","content_creation_unknown_failure","sort_filter_alphabetical","sort_filter_latest"],totara_contentmarketplace:["manage_content_marketplaces"]}},M=Object(E.a)(B,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Layout",{attrs:{loading:e.isLoading,"reviewing-selection":e.reviewingSelectedItems,"review-title":e.$str("catalog_review_title","contentmarketplace_linkedin"),"selection-title":e.$str("catalog_title","contentmarketplace_linkedin")},scopedSlots:e._u([e.canManageContent?{key:"content-nav",fn:function(){return[n("PageBackLink",{attrs:{link:e.$url("/totara/contentmarketplace/marketplaces.php"),text:e.$str("manage_content_marketplaces","totara_contentmarketplace")}})]},proxy:!0}:null,{key:"primary-filter",fn:function(){return[e.languageFilterOptions.length>1?n("LinkedInPrimaryFilter",{attrs:{options:e.languageFilterOptions,selected:e.selectedLanguage},on:{"filter-change":e.setPrimaryFilter}}):e._e()]},proxy:!0},{key:"filters",fn:function(t){var i=t.contentId;return[n("LinkedInFilters",{attrs:{"content-id":i,filters:e.filters,"open-nodes":e.openNodes},model:{value:e.selectedFilters,callback:function(t){e.selectedFilters=t},expression:"selectedFilters"}})]}},{key:"basket",fn:function(){return[n("Basket",{attrs:{"category-options":e.categoryOptions,"selected-category":e.selectedCategory.id,"selected-items":e.selectedItems,"viewing-selected":e.reviewingSelectedItems,"creating-content":e.creatingContentLoading},on:{"category-change":e.setDefaultSelectedCategory,"clear-selection":e.clearSelectedItems,"create-courses":e.createCourses,"reviewing-selection":e.switchContentView}})]},proxy:!0},{key:"summary-count",fn:function(){return[n("CountAndFilters",{attrs:{filters:e.learningObjects.selectedFilters,count:e.learningObjects.total}})]},proxy:!0},{key:"summary-sort",fn:function(){return[n("SortFilter",{attrs:{options:e.sortFilterOptions,"sort-by":e.selectedSortOrderFilter},on:{"filter-change":e.setSortOrderFilter}})]},proxy:!0},{key:"select-table",fn:function(){return[n("SelectionTable",{ref:"selection-table",attrs:{items:e.isLoading?e.placeholderItems:e.learningObjects.items,"row-label-key":"name","selected-items":e.selectedItems},on:{update:e.setSelectedItems},scopedSlots:e._u([{key:"row",fn:function(t){var i=t.row;return[n("LinkedInLearningItem",{attrs:{data:i,loading:e.isLoading,logo:e.logo}})]}}])}),e._v(" "),n("SelectionPaging",{attrs:{"current-page":e.paginationPage,"items-per-page":e.paginationLimit,"total-items":e.learningObjects.total},on:{"items-per-page-change":e.setItemsPerPage,"page-change":e.setPaginationPage}})]},proxy:!0},e.reviewingLearningObjects?{key:"review-table",fn:function(){return[n("ReviewTable",{attrs:{items:e.reviewingLearningObjects.items,"row-label-key":"name","selected-items":e.selectedItems},on:{update:e.setSelectedItems},scopedSlots:e._u([{key:"row",fn:function(t){var i=t.checked,a=t.row;return[n("LinkedInLearningItem",{attrs:{data:a,small:!0,unselected:!i},scopedSlots:e._u([e.reviewingItemCategories[a.id]&&i?{key:"side-content",fn:function(){return[n("LinkedInLearningItemCategory",{attrs:{"category-options":e.categoryOptions,"course-id":a.id,"current-category":e.reviewingItemCategories[a.id]},on:{"change-course-category":e.setSingleCourseCategory}})]},proxy:!0}:null],null,!0)})]}}],null,!1,4219963587)}),e._v(" "),n("ReviewPaging",{attrs:{"last-page":!e.reviewingLearningObjects.next_cursor.length},on:{"next-page":e.updateReviewPage}})]},proxy:!0}:null],null,!0)})}),[],!1,null,null,null);"function"==typeof D&&D(M),M.options.__hasBlocks={script:!0,template:!0};t.default=M.exports},fBEH:function(e,t){e.exports=tui.require("totara_contentmarketplace/components/tables/ImportReviewTable")},fw38:function(e,t){e.exports=tui.require("tui/components/form/Select")},gnPD:function(e,t,n){var i={"./CatalogImport":"e9Av","./CatalogImport.vue":"e9Av"};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id="gnPD"},"i/kK":function(e,t){e.exports=tui.require("tui/components/form/FormRow")},jdSJ:function(e,t,n){var i={"./EnableBeta":"b7mE","./EnableBeta.vue":"b7mE","./categories/ImportCategoryPopover":"HZtC","./categories/ImportCategoryPopover.vue":"HZtC","./filters/ImportPrimaryFilter":"FDfZ","./filters/ImportPrimaryFilter.vue":"FDfZ","./filters/ImportSideFilters":"N4ie","./filters/ImportSideFilters.vue":"N4ie","./learning_item/ImportLearningItem":"6vKu","./learning_item/ImportLearningItem.vue":"6vKu","./learning_item/ImportLearningItemCategory":"yaZY","./learning_item/ImportLearningItemCategory.vue":"yaZY"};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id="jdSJ"},kUD9:function(e,t,n){"use strict";var i=n("7YRT");n.n(i).a},nXMa:function(e,t){e.exports=tui.require("tui/components/buttons/Cancel")},oJN8:function(e,t){e.exports=tui.require("contentmarketplace_linkedin/components/filters/ImportPrimaryFilter")},tkAW:function(e,t){e.exports=tui.require("tui/components/modal/Modal")},tt4D:function(e,t){e.exports=tui.require("totara_contentmarketplace/components/paging/ImportReviewLoadMore")},u5iS:function(e,t){e.exports=tui.require("tui/components/modal/ModalContent")},vF5l:function(e,t){e.exports=tui.require("tui/components/buttons/Button")},vyVp:function(e,t){e.exports=tui.require("tui/notifications")},xnCP:function(e,t,n){"use strict";var i=n("zS2X");n.n(i).a},yaZY:function(e,t,n){"use strict";n.r(t);var i=n("KeEr"),a={components:{CategoryPopover:n.n(i).a},props:{categoryOptions:Array,courseId:{type:String,required:!0},currentCategory:{type:Object,required:!0}}},r=(n("PP99"),n("KHd+")),o=function(e){e.options.__langStrings={contentmarketplace_linkedin:["category_label"]}},s=Object(r.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tui-linkedInImportLearningItemCategory"},[n("div",[e._v("\n    "+e._s(e.$str("category_label","contentmarketplace_linkedin"))+"\n  ")]),e._v(" "),n("div",{staticClass:"tui-linkedInImportLearningItemCategory__current"},[e._v("\n    "+e._s(e.currentCategory.label)+"\n  ")]),e._v(" "),n("CategoryPopover",{attrs:{"category-options":e.categoryOptions,"course-id":e.courseId,"current-category":e.currentCategory.id},on:{"change-course-category":function(t){return e.$emit("change-course-category",t)}}})],1)}),[],!1,null,null,null);"function"==typeof o&&o(s),s.options.__hasBlocks={script:!0,template:!0};t.default=s.exports},zHVS:function(e,t){e.exports=tui.require("tui/components/loading/SkeletonContent")},zS2X:function(e,t,n){},zaOG:function(e,t,n){},zs4z:function(e,t){e.exports=tui.require("tui/components/layouts/PageBackLink")},zwh4:function(e,t){e.exports=tui.require("totara_contentmarketplace/components/tables/ImportSelectionTable")}});