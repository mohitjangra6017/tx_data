This files describes API changes in /mod/facetoface/*,
information provided here is intended especially for developers.

=== 13.0 ===
* attendees_helper::show_customfields() function has been deprecated, please use mod_facetoface_renderer::render_seminar_event()
* signup_status::get_state() function has been deprecated, please use signup::get_state()
* attendees_list_helper::get_status() function has been deprecated, please use attendees_helper::get_status()
* attendees_list_helper::process_no_sessionid() function has been deprecated, please use attendees_helper::process_no_sessionid()
* attendees_list_helper::process_js() function has been deprecated, please use attendees_helper::process_js()
* attendees_list_helper::get_allowed_available_actions() function has been deprecated, please use attendees_helper::get_allowed_available_actions()
* facetoface_confirm_attendees() function has been deprecated, please use signup_helper::confirm_waitlist()
* facetoface_waitlist_randomly_confirm_users() function has been deprecated, please use signup_helper::confirm_waitlist_randomly()
* facetoface_cancel_attendees() function has been deprecated, please use signup_helper::cancel_waitlist()
* facetoface_sync_assets() function has been deprecated, please use asset_helper::sync()
* facetoface_withdraw_interest() function has been deprecated, please use signup_helper::withdraw_interest()
* facetoface_download_ods() function has been deprecated, please use export_helper::download_ods()
* facetoface_download_xls() function has been deprecated, please use export_helper::download_xls()
* facetoface_download_csv() function has been deprecated, please use export_helper::download_csv()
* facetoface_notify_reserved_session_deleted() function has been deprecated, please use notice_sender::reservation_cancelled()
* facetoface_get_approvaltype_string() function has been deprecated, please use seminar::get_approvaltype_string()
* facetoface_session_has_capacity() function has been deprecated, please use seminar_event::has_capacity()
* facetoface_get_user_current_status() function has been deprecated, please use signup_status::get_state()
* facetoface_set_bulk_result_notification() function has been deprecated, please use attendees_list_helper::set_bulk_result_notification()
* facetoface_is_user_on_waitlist() function has been deprecated, please use mod_facetoface\signup\state\waitlisted
* facetoface_generate_bulk_result_notice() function has been deprecated as unused
* facetoface_get_facetoface_menu() function has been deprecated as unused
* facetoface_task_check_capacity() function has been deprecated as unused
* facetoface_get_ical_attachment() function has been deprecated as unused
* Deprecated function facetoface_get_ical_attachment() has been removed
* mod_facetoface\form\event::new_user_roles_added() function has been deprecated and will be removed in Totara 14
* facetoface_build_user_roles_in_conflict_message() function has been deprecated, please use facetoface_build_user_in_conflict_message() function instead
* facetoface_cost() function has been deprecated, please use signup::get_cost()
* facetoface_set_completion() function has been deprecated, please use seminar::set_completion()
* facetoface_cm_info_view() function now hides cancelled events and displays events by future first
* seminar_event::get_normalcost() used to return an integer, now returns a string
* seminar_event::set_normalcost() used to expect an integer as the only argument, now expects a string
* seminar_event::get_discountcost() used to return an integer, now returns a string
* seminar_event::set_discountcost() used to expect an integer as the only argument, now expects a string
* Converted styles.css to less
* mod_facetoface_renderer::render_seminar_event has been changed to prevent a record not found exception if a user has a deleted job assignment
* The following changes have been made to the mod_facetoface_renderer class
  * In print_session_list() function
    * Added an optional parameter for filtering by event time, to the function
    * Removed upcomingsessionlist and previoussessionlist CSS classes as session event tables are merged, please use mod_facetoface__sessionlist
  * In print_session_list_table() function
    * Added two optional parameters for attendance tracking
    * The summary text of a session event list table no longer says 'past events'
    * Added a session status column to the session event list table
    * Added an attendance tracking column to the session event list table; the column will be hidden if attendance tracking is off
    * Note that both new columns, session status and attendance tracking, will be hidden if $minimal = true is passed to the function
    * Changed the name of some columns on the session event list table; Date -> Session dates, Time -> Session times, Status -> Event status, Options -> Actions
    * The capacity column on the session event list table now hides "(0 Wait-listed)" text when nobody is wait-listed
    * Removed a "Sign-up unavailable" link from Actions table cells
    * The Room column on the session event list table does not have room information if a session is over
    * Deprecated highlight and dimmed_text CSS classes
  * In get_room_details_html() function
    * Changed the link text of room information on a session event list table, from "(Room details)" to "View details"
    * Deprecated room and room_details CSS classes
  * Added two new overridable functions for session/event status - session_status_table_cell() and event_status_table_cell()
* facetoface_send_notice() function has been deprecated, please use \mod_facetoface\notice_sender::send_notice()
* facetoface_send_oneperday_notice() function has been deprecated, please use \mod_facetoface\notice_sender::send_notice_oneperday()
* facetoface_send_registration_closure_notice() function has been deprecated, please use \mod_facetoface\notice_sender::registration_closure()
* facetoface_notify_under_capacity() function has been deprecated, please use mod_facetoface\notification\notification_helper::notify_under_capacity instead
* facetoface_notify_registration_ended() function has been deprecated, please use mod_facetoface\notification\notification_helper::notify_registration_ended instead
* facetoface_cancel_pending_requests() function has been deprecated
* facetoface_delete_session() function has been deprecated, please use \mod_facetoface\seminar_event_helper::delete_seminarevent() instead
* facetoface_update_trainers() function has been deprecated, please use \mod_facetoface\trainer_helper class instead
* facetoface_get_trainer_roles() function has been deprecated, please use \mod_facetoface\trainer_helper::get_trainer_roles() instead
* facetoface_get_trainers() function has been deprecated, please use \mod_facetoface\trainer_helper::get_trainers() instead
* facetoface_get_session_managers() function has been deprecated, please use \mod_facetoface\signup_helper::find_managers_from_signup() instead
* mod_facetoface_renderer::print_session_list_table has been changed to check the capability of current session user to decide whether it should include the deleted users or not in the number of booking users.
* facetoface_get_num_attendees() function takes another parameter to flag that the query should include the deleted users or not
* facetoface_get_users_by_status() function takes another parameter to flag that the query should include the deleted users or not
* facetoface_get_cancellations() function takes another parameter to flag that the query should include the deleted users or not
* facetoface_get_attendees() function takes another parameter to flag that the query should include the deleted users or not
* facetoface_get_booking_conflicts() function has been deprecated, please use \mod_facetoface\seminar_session_list::is_conflicting() instead
* facetoface_get_sessions() function has been deprecated, please use \mod_facetoface\seminar::get_events() or \mod_facetoface\seminar_event_list::from_seminar() instead
* facetoface_get_session_involvement() function has been deprecated, there is no replacement
* facetoface_get_sessions_within() function has been deprecated, please use \mod_facetoface\seminar_session_list::load_sessiondates_foruser() instead
* facetoface_get_session() function has been deprecated, please use new \mod_facetoface\seminar_event($sessionid)
* facetoface_get_env_session() function has been deprecated, please use \mod_facetoface\seminar or \mod_facetoface\seminar_event functions
* $session parameter in function \mod_facetoface\attendees_helper::get_allowed_available_actions() has been deprecated, please do not use
* facetoface_save_dates() function has been deprecated, please use \mod_facetoface\seminar_event_helper::merge_sessions()
* facetoface_session_dates_check() function has been deprecated, please use \mod_facetoface\seminar_session_list::dates_check()
* facetoface_write_activity_attendance() function has been deprecated, please use \mod_facetoface\export_helper::prepare()
* facetoface_get_user_customfields() function has been deprecated, please use \mod_facetoface\export_helper::get_user_customfields()
* facetoface_format_session_times() function has been deprecated, please use \mod_facetoface\output\session_time::format()
* facetoface_allow_user_cancellation() function has been deprecated, please use \mod_facetoface\signup::can_switch()
* facetoface_is_adminapprover() function has been deprecated, please use \mod_facetoface\seminar::is_admin_approver()
* facetoface_get_manager_list() function has been deprecated, please use \mod_facetoface\reservations::get_manager_list()
* facetoface_save_customfield_value() function has been deprecated, there is no replacement
* facetoface_get_customfield_value() function has been deprecated, there is no replacement
* facetoface_is_session_in_progress() function has been deprecated, please use \mod_facetoface\seminar_event::is_progress()
* facetoface_has_session_started() function has been deprecated, please use \mod_facetoface\seminar_event::is_started()
* facetoface_is_session_over() function has been deprecated, please use \mod_facetoface\seminar_event::is_over()
* facetoface_get_session_dates() function has been deprecated, please use \mod_facetoface\seminar_event::get_sessions() + \mod_facetoface\seminar_event_list::sort()

=== 12.0 ===

* Deprecated the following report builder display functions and replaced with display classes
  * rb_facetoface_base_source::rb_display_coded_link_user(), please call mod_facetoface\rb\display\display\f2f_coded_user_link::display() instead.
  * rb_facetoface_base_source::rb_display_f2f_approval(), please call mod_facetoface\rb\display\display\f2f_approval::display() instead.
  * rb_facetoface_base_source::rb_display_room_name_link(), please call mod_facetoface\rb\display\display\f2f_room_name_link::display() instead.
  * rb_facetoface_base_source::rb_display_asset_name_link(), please call mod_facetoface\rb\display\display\f2f_asset_name_link::display() instead.
  * rb_facetoface_base_source::rb_display_no_yes(), please call mod_facetoface\rb\display\display\f2f_no_yes::display() instead.
  * rb_facetoface_base_source::rb_display_conflicts(), please call totara_reportbuilder\rb\display\yes_or_no::display() instead.
  * rb_facetoface_base_source::rb_display_numattendeeslink(), please call mod_facetoface\rb\display\display\f2f_num_attendees_link::display() instead.
  * rb_source_facetoface_asset::rb_display_actions(), please call mod_facetoface\rb\display\display\f2f_asset_actions::display() instead.
  * rb_source_facetoface_events::rb_display_actions(), please call mod_facetoface\rb\display\display\f2f_session_actions::display() instead.
  * rb_source_facetoface_events::rb_display_session_spaces(), please call mod_facetoface\rb\display\display\f2f_session_spaces::display() instead.
  * rb_source_facetoface_events::rb_display_approver().
  * rb_source_facetoface_rooms::rb_display_actions(), please call mod_facetoface\rb\display\display\f2f_actions::display() instead.
  * rb_source_facetoface_sessions::rb_display_allcustomfieldssignupmanage(), please call mod_facetoface\rb\display\display\f2f_all_signup_customfields_manage::display() instead.
  * rb_source_facetoface_sessions::rb_display_job_assignment_edit(), please call mod_facetoface\rb\display\display\f2f_job_assignment_edit::display() instead.
  * rb_source_facetoface_sessions::rb_display_link_user(), please call mod_facetoface\rb\display\display\f2f_user_link::display() instead.
  * rb_source_facetoface_sessions::rb_display_link_user_icon(), please call mod_facetoface\rb\display\display\f2f_user_icon_link::display() instead.
  * rb_source_facetoface_sessions::rb_display_approveremail(), please call mod_facetoface\rb\display\display\f2f_approver_email::display() instead.
  * rb_source_facetoface_sessions::rb_display_approvername(), please call mod_facetoface\rb\display\display\f2f_approver_name::display() instead.
  * rb_source_facetoface_sessions::rb_display_user(), please call mod_facetoface\rb\display\display\f2f_user::display() instead.
  * rb_source_facetoface_signin::rb_display_signature(), please call mod_facetoface\rb\display\display\f2f_signature::display() instead.
  * rb_source_facetoface_signin::rb_display_position_type().
  * rb_source_facetoface_signin::rb_display_link_f2f_bookedby(), please call mod_facetoface\rb\display\display\f2f_booked_by_link::display() instead.
  * rb_source_facetoface_signin::rb_display_link_f2f_actionedby().
  * rb_source_facetoface_signin::rb_display_link_user(), please call mod_facetoface\rb\display\display\f2f_user_link::display() instead.
  * rb_source_facetoface_signin::rb_display_link_user_icon(), please call mod_facetoface\rb\display\display\f2f_user_icon_link::display() instead.
  * rb_source_facetoface_signin::rb_display_user(), please call mod_facetoface\rb\display\display\f2f_user::display() instead.
  * rb_source_facetoface_summary::rb_display_actions(), please call mod_facetoface\rb\display\display\f2f_actions::display() instead.
  * rb_source_facetoface_summary::rb_display_session_spaces(), please call mod_facetoface\rb\display\display\f2f_session_spaces::display() instead.
  * rb_source_facetoface_summary::rb_display_approver().
  * rb_source_facetoface_sessions::rb_display_show_cancelled_status(), please call mod_facetoface\rb\display\display\f2f_session_cancelled_status::display() instead.
* facetoface_eventhandler_role_unassigned() function has been deprecated as unused.
* facetoface_approval_settings() function has been deprecated, please use mod_form::get_data()
* facetoface_fix_settings() function has been deprecated, please use mod_form::get_data()
* facetoface_declare_interest() function has been deprecated, please use interest::declare() instead
* facetoface_user_declared_interest() function has been deprecated, please use interest::is_user_declared() instead
* facetoface_activity_can_declare_interest() function has been deprecated, please use interest::can_user_declare() instead
* facetoface_generate_ical() function has been deprecated, please use messaging::generate_ical()
* facetoface_get_unmailed_reminders() function has been deprecated
* facetoface_format_secs_to_his() function has been deprecated
* facetoface_ical_generate_timestamp() function has been deprecated, please use messaging::ical_generate_timestamp()
* facetoface_ical_escape() function has been deprecated, please use messaging::ical_escape()
* facetoface_get_asset() function has been deprecated, please use mod_facetoface\asset class constructor
* facetoface_process_asset_form() function has been deprecated, this functionality is now handled by the asset form
* facetoface_delete_asset() function has been deprecated, please use mod_facetoface\asset->delete()
* facetoface_get_available_assets() function has been deprecated, please use mod_facetoface\asset::get_available()
* facetoface_is_asset_available() function has been deprecated, please use mod_facetoface\asset->is_available()
* facetoface_asset_has_conflicts() function has been deprecated, please use mod_facetoface\asset->has_conflicts()
* facetoface_delete_reservations() function has been deprecated, please use reservations::delete()
* facetoface_get_session_reservations() function has been deprecated, please use reservations::get()
* facetoface_can_reserve_or_allocate() function has been deprecated, please use reservations::can_reserve_or_allocate()
* facetoface_limit_reserveinfo_to_capacity_left() function has been deprecated, please use reservations::limit_info_to_capacity_left()
* facetoface_limit_reserveinfo_by_session_date() function has been deprecated, please use reservations::limit_info_by_session_date()
* facetoface_add_reservations() function has been deprecated, please use reservations::add()
* facetoface_remove_reservations() function has been deprecated, please use reservations::remove()
* facetoface_get_other_reservations() function has been deprecated, please use reservations::get_others()
* facetoface_get_staff_to_allocate() function has been deprecated, please use reservations::get_staff_to_allocate()
* facetoface_user_can_be_unallocated() function has been deprecated, please use reservations::user_can_be_unallocated()
* facetoface_replace_reservations() function has been deprecated, please use reservations::replace()
* facetoface_allocate_spaces() function has been deprecated, please use reservations::allocate_spaces()
* facetoface_remove_allocations() function has been deprecated, please use reservations::remove_allocations()
* facetoface_count_reservations function has been deprecated, please use reservations::count()
* facetoface_count_allocations() function has been deprecated, please use reservations::count_allocations()
* facetoface_remove_reservations_after_deadline() function has been deprecated, please use reservations::remove_after_deadline()
* facetoface_delete_room() function has been deprecated, please use room::delete()
* facetoface_get_used_rooms() function has been deprecated, please use room_list::get_seminar_rooms()
* facetoface_get_session_rooms() function has been deprecated, please use room_list::get_event_rooms()
* facetoface_get_available_rooms() function has been deprecated, please use room_list::get_available()
* facetoface_is_room_available() function has been deprecated, please use room::is_available()
* facetoface_room_has_conflicts() function has been deprecated, please use room::has_conflicts()
* facetoface_process_room_form() function has been deprecated, please use renderer function get_room_details_html()
* facetoface_room_get_address() has been deprecated, please use room::get_display_customfields()
* facetoface_room_to_string() has been deprecated, please use room::__toString()
* facetoface_notification::send_to_roleapprovers() function has been deprecated, please use facetoface_notification::send_to_roleapprovers_adhoc()
* facetoface_notification::send_to_adminapprovers() function has been deprecated, please use facetoface_notification::send_to_adminapprovers_adhoc()
* facetoface_display_approver() function has been deprecated, please use renderer::display_approver()
* facetoface_has_unarchived_signups() function has been deprecated, please use seminar::has_unarchived_signups()
* facetoface_print_calendar_session() function has been deprecated, please use core_calendar_renderer::facetoface_print_calendar_session()
* facetoface_grade_item_delete() function has been deprecated, please use seminar::grade_item_delete()
* facetoface_add_session() function has been deprecated, please use seminar_event::save()
* facetoface_update_session() function has been deprecated, please use seminar_event::save()
* facetoface_cleanup_session_data() function has been deprecated, please use seminar_event::cleanup_capacity()
* facetoface_print_session() function has been deprecated, please use renderer::renderer::render_seminar_event()
* facetoface_print_session_list() function has been deprecated, please use renderer::print_session_list()
* facetoface_delete_signups() function has been deprecated, please use signup::delete()
* facetoface_user_import() has been deprecated, please use signup_helper::signup()
* facetoface_user_signup() has been deprecated, please use signup_helper::signup()
* facetoface_can_user_signup() has been deprecated, please use signup::can_signup()
* facetoface_approval_required() has been deprecated, please use seminar::is_approval_required()
* facetoface_manager_needed() has been deprecated, please use seminar::is_manager_required()
* facetoface_download_attendance() function has been deprecated, please use attendees/export.php
* facetoface_write_worksheet_header() function has been deprecated, please use attendees/export.php
* facetoface_update_calendar_entries() function has been deprecated, please use calendar::update_entries()
* facetoface_delete_user_calendar_events() function has been deprecated, please use calendar::delete_user_events()
* facetoface_remove_session_from_calendar() function has been deprecated, please use calendar::remove_seminar_event()
* facetoface_add_session_to_calendar() function has been deprecated, please use calendar::add_seminar_event()
* facetoface_remove_all_calendar_entries() function has been deprecated, please use calendar::remove_all_entries()
* facetoface_update_user_calendar_events() function has been deprecated
* facetoface_get_customfield_filters() function has been deprecated, please use calendar::get_customfield_filters()
* facetoface_display_bulk_actions_picker() function has been deprecated, please use renderer::display_bulk_actions_picker()
* facetoface_get_attendance_status() function has been deprecated, please use attendees_list_helper::get_status()
* facetoface_get_status() function has been deprecated, please use state::from_code($statuscode)::get_string()
* attendees_add_confirm::get_user_list is static now, please update any calls to it
* facetoface_is_signup_by_waitlist() function has been deprecated, please use signup::can_switch()
* facetoface_send_cancellation_notice() function has been deprecated, please use notice_sender::signup_cancellation_notice() or notice_sender::event_cancellation_notice()
* facetoface_send_decline_notice() function has been deprecated, please use notice_sender::decline()
* facetoface_send_datetime_change_notice() function has been deprecated, please use notice_sender::event_datetime_changed() or notice_sender::signup_datetime_changed()
* facetoface_send_confirmation_notice() function has been deprecated, please use notice_sender::confirm_booking() or notice_sender::confirm_waitlist()
* facetoface_send_trainer_confirmation_notice() function has been deprecated, please use notice_sender::trainer_confirmation()
* facetoface_send_trainer_session_cancellation_notice() function has been deprecated, please use notice_sender::event_trainer_cancellation()
* facetoface_send_trainer_session_unassignment_notice() function has been deprecated, please use notice_sender::event_trainer_unassigned()
* facetoface_send_request_notice() function has been deprecated, please use notice_sender::request_manager()
* facetoface_send_rolerequest_notice() function has been deprecated, please use notice_sender::request_role()
* facetoface_send_adminrequest_notice() function has been deprecated, please use notice_sender::request_admin()
* facetoface_user_cancel() function has been deprecated, please use signup_helper::user_cancel()
* facetoface_user_cancel_submission() function has been deprecated, please use signup_helper::user_cancel()
* facetoface_cancel_session() function has been deprecated, please use seminar_event::cancel()
* facetoface_validate_user_signup() function has been deprecated, please use signup_helper::can_user_signup()
* facetoface_take_attendance() function has been deprecated, please use signup_helper::process_attendance()
* facetoface_take_individual_attendance() function has been deprecated, please use signup_helper::process_attendance()
* facetoface_validate_user_import() function has been deprecated, please use signup::debug_transitions()
* facetoface_update_attendees() function has been deprecated, please use signup_helper::update_attendees()
* facetoface_is_signup_cancelled() function has been deprecated, please use signup_helper::is_cancelled()
* facetoface_approve_requests() function has been deprecated, please use signup::switch_state()
* facetoface_update_signup_status() function has been deprecated, please use signup::switch_state()
* facetoface_check_signup() function has been deprecated, please use state::is_not_happening()()

=== 11.1 ===

* Deprecated function facetoface_get_ical_attachment. It was not working properly. Instead use facetoface_generate_ical(), note different arguments!

=== 10.0 ===

* Hook is added for Seminar Sing-up link directly to calendar upcoming events block
# calendar_dynamic_content class in mod/facetoface/classes/hook/calendar_dynamic_content.php
# seminar_calendar_dynamic_content in mod/facetoface/watcher/seminar_calendar_dynamic_content.php
* Deprecated behat step 'I select to approve "([^"]*)"'. This should be replaced by 'I set the field "Approve <user> for this event" to "1"'
* Deprecated function facetoface_eventhandler_role_unassigned_bulk. This function was unused and non-functional.
* facetoface_get_customfield_data function has been deprecated, please use customfield_get_data function instead.
* Deprecated method rb_facetoface_base_source::rb_display_link_f2f_session. This method was replaced with event_date_link class.
* Deprecated method rb_source_facetoface_summary::rb_display_link_f2f_session_in_timezone. This method was replaced with event_date_link class.
