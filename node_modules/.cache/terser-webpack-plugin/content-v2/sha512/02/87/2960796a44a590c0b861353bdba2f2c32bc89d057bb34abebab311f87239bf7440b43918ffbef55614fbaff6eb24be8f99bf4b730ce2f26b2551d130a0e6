{"code":"!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=\"YnSU\")}({\"49h4\":function(e,t){e.exports=tui.require(\"tui/components/filters/SelectFilter\")},\"59Wj\":function(e,t){e.exports=tui.require(\"tui/components/filters/FilterBar\")},\"5qAA\":function(e,t){e.exports=tui.require(\"tui/components/datatable/HeaderCell\")},\"6UgF\":function(e,t){},BI3i:function(e,t,n){\"use strict\";n.r(t);var r=n(\"59Wj\"),i=n.n(r),a=n(\"FBvN\"),o=n.n(a),s=n(\"49h4\"),l=n.n(s),d={components:{FilterBar:i.a,SearchFilter:o.a,SelectFilter:l.a},data:function(){return{learningtypes:[{id:\"\",label:\"No filter\"},{id:\"unlinked\",label:\"Not set\"},{id:\"course\",label:\"Courses\"},{id:\"program\",label:\"Programs\"},{id:\"certification\",label:\"Certifications\"}],selection:{learningtype:\"\",search:\"\"}}},watch:{selection:{deep:!0,handler:function(){this.$emit(\"filter\",this.selection)}}},methods:{submitSearch:function(){this.$emit(\"submit-search\",this.selection)}}},c=n(\"KHd+\"),u=Object(c.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"FilterBar\",{attrs:{title:\"Filter results\"},scopedSlots:e._u([{key:\"filters-left\",fn:function(t){var r=t.stacked;return[n(\"SelectFilter\",{attrs:{label:\"Within category\",\"show-label\":!0,options:e.learningtypes,stacked:r},model:{value:e.selection.learningtype,callback:function(t){e.$set(e.selection,\"learningtype\",t)},expression:\"selection.learningtype\"}})]}},{key:\"filters-right\",fn:function(t){var r=t.stacked;return[n(\"SearchFilter\",{attrs:{label:\"Filter items by search\",\"show-label\":!1,placeholder:\"Search\",stacked:r},model:{value:e.selection.search,callback:function(t){e.$set(e.selection,\"search\",t)},expression:\"selection.search\"}})]}}]),model:{value:e.selection,callback:function(t){e.selection=t},expression:\"selection\"}})}),[],!1,null,null,null);u.options.__hasBlocks={script:!0,template:!0};t.default=u.exports},BN8m:function(e,t){e.exports=tui.require(\"tui/components/buttons/ButtonGroup\")},Bnag:function(e,t){e.exports=function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")},e.exports.default=e.exports,e.exports.__esModule=!0},CINB:function(e,t,n){\"use strict\";n.r(t);var r=n(\"yXPU\"),i=n.n(r),a=n(\"o0o1\"),o=n.n(a),s=n(\"bYkL\"),l=n.n(s),d=n(\"yikf\"),c=n.n(d),u=n(\"5qAA\"),f=n.n(u),p=n(\"KGot\"),m=n.n(p),g=n(\"U0LT\"),h={kind:\"Document\",definitions:[{kind:\"OperationDefinition\",operation:\"query\",name:{kind:\"Name\",value:\"local_credly_programs\"},variableDefinitions:[],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",alias:{kind:\"Name\",value:\"programs\"},name:{kind:\"Name\",value:\"local_credly_programs\"},arguments:[],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"metadata\"},arguments:[],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"total\"},arguments:[],directives:[]}]}},{kind:\"Field\",name:{kind:\"Name\",value:\"items\"},arguments:[],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"id\"},arguments:[],directives:[]},{kind:\"Field\",name:{kind:\"Name\",value:\"name\"},arguments:[],directives:[]},{kind:\"Field\",name:{kind:\"Name\",value:\"category\"},arguments:[],directives:[]}]}}]}}]}}]},v={components:{Cell:m.a,HeaderCell:f.a,Table:c.a,Adder:l.a,AdderFilter:g.default},props:{existingItems:{type:Array,default:function(){return[]}},open:Boolean,title:{type:String,required:!0},tableHeaderName:{type:String,required:!0}},data:function(){return{filteredPrograms:[],programs:[]}},watch:{open:function(){var e=this;this.open&&this.$apollo.queries.programs.refetch().then((function(){e.filteredPrograms=e.programs}))}},apollo:{programs:{query:h,update:function(e){return e.programs.items}}},methods:{closeWithData:function(e){var t=this;return i()(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.$emit(\"add-button-clicked\"),t.$emit(\"added\",{ids:[e[0]],data:[e]});case 2:case\"end\":return n.stop()}}),n)})))()},updateFilter:function(e){var t=e.searchTerm;this.filteredPrograms=this.programs.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))},itemCount:function(){return this.$str(\"program_adder:showing_x_of_y_programs\",\"local_credly\",{count:this.filteredPrograms.length,total:this.programs.length})}}},y=(n(\"6UgF\"),n(\"KHd+\")),_=function(e){e.options.__langStrings={local_credly:[\"program_adder:showing_x_of_y_programs\"]}},k=Object(y.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"Adder\",{staticClass:\"programAdder\",attrs:{open:e.open&&!e.$apollo.loading,title:e.title,\"existing-items\":e.existingItems,\"show-load-more\":!1,\"show-loading-btn\":!1},on:{cancel:function(t){return e.$emit(\"cancel\")}},scopedSlots:e._u([{key:\"browse-list\",fn:function(t){t.disabledItems,t.selectedItems,t.update;return[n(\"AdderFilter\",{on:{\"submit-search\":e.updateFilter,filter:e.updateFilter,clear:e.updateFilter}}),e._v(\" \"),n(\"div\",{staticClass:\"programAdder__count\"},[e._v(\"\\n      \"+e._s(e.itemCount())+\"\\n    \")]),e._v(\" \"),n(\"Table\",{attrs:{data:e.filteredPrograms,\"no-items-text\":\"\"},scopedSlots:e._u([{key:\"header-row\",fn:function(){return[n(\"HeaderCell\",{attrs:{size:\"11\",valign:\"center\"}},[e._v(e._s(e.tableHeaderName))])]},proxy:!0},{key:\"row\",fn:function(t){var r=t.row;return[n(\"Cell\",{staticClass:\"program-cell\",attrs:{size:\"11\",\"column-header\":e.tableHeaderName,valign:\"center\"},nativeOn:{click:function(t){return e.closeWithData([r.id,r])}}},[e._v(\"\\n          \"+e._s(r.name)+\"\\n          \"),n(\"small\",[e._v(\"( \"+e._s(r.category)+\" )\")])])]}}],null,!0)})]}}])})}),[],!1,null,\"02a47974\",null);\"function\"==typeof _&&_(k),k.options.__hasBlocks={script:!0,template:!0};t.default=k.exports},DeIE:function(e,t){},EbDI:function(e,t){e.exports=function(e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},FBvN:function(e,t){e.exports=tui.require(\"tui/components/filters/SearchFilter\")},Ijbi:function(e,t,n){var r=n(\"WkPL\");e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.default=e.exports,e.exports.__esModule=!0},JXQf:function(e,t){e.exports=tui.require(\"tui/components/loading/Loader\")},KGcv:function(e,t){e.exports=tui.require(\"tui/components/dropdown/DropdownItem\")},KGot:function(e,t){e.exports=tui.require(\"tui/components/datatable/Cell\")},\"KHd+\":function(e,t,n){\"use strict\";function r(e,t,n,r,i,a,o,s){var l,d=\"function\"==typeof e?e.options:e;if(t&&(d.render=t,d.staticRenderFns=n,d._compiled=!0),r&&(d.functional=!0),a&&(d._scopeId=\"data-v-\"+a),o?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},d._ssrRegister=l):i&&(l=s?function(){i.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(d.functional){d._injectStyles=l;var c=d.render;d.render=function(e,t){return l.call(t),c(e,t)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:d}}n.d(t,\"a\",(function(){return r}))},MRQp:function(e,t,n){\"use strict\";n.r(t);var r,i,a,o,s,l=n(\"RIqP\"),d=n.n(l),c=n(\"yXPU\"),u=n.n(c),f=n(\"o0o1\"),p=n.n(f),m=n(\"g8/U\"),g=n.n(m),h=n(\"JXQf\"),v=n.n(h),y={kind:\"Document\",definitions:[{kind:\"OperationDefinition\",operation:\"query\",name:{kind:\"Name\",value:\"local_credly_badges\"},variableDefinitions:[{kind:\"VariableDefinition\",variable:{kind:\"Variable\",name:{kind:\"Name\",value:\"page\"}},type:{kind:\"NamedType\",name:{kind:\"Name\",value:\"param_integer\"}},directives:[]},{kind:\"VariableDefinition\",variable:{kind:\"Variable\",name:{kind:\"Name\",value:\"filters\"}},type:{kind:\"ListType\",type:{kind:\"NamedType\",name:{kind:\"Name\",value:\"local_credly_filter\"}}},directives:[]}],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",alias:{kind:\"Name\",value:\"badges\"},name:{kind:\"Name\",value:\"local_credly_badges\"},arguments:[{kind:\"Argument\",name:{kind:\"Name\",value:\"page\"},value:{kind:\"Variable\",name:{kind:\"Name\",value:\"page\"}}},{kind:\"Argument\",name:{kind:\"Name\",value:\"filters\"},value:{kind:\"Variable\",name:{kind:\"Name\",value:\"filters\"}}}],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"metadata\"},arguments:[],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"total\"},arguments:[],directives:[]},{kind:\"Field\",name:{kind:\"Name\",value:\"next\"},arguments:[],directives:[]}]}},{kind:\"Field\",name:{kind:\"Name\",value:\"items\"},arguments:[],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"id\"},arguments:[],directives:[]},{kind:\"Field\",name:{kind:\"Name\",value:\"credlyId\"},arguments:[],directives:[]},{kind:\"Field\",name:{kind:\"Name\",value:\"name\"},arguments:[],directives:[]},{kind:\"Field\",name:{kind:\"Name\",value:\"programId\"},arguments:[],directives:[]},{kind:\"Field\",name:{kind:\"Name\",value:\"certificationId\"},arguments:[],directives:[]},{kind:\"Field\",name:{kind:\"Name\",value:\"courseId\"},arguments:[],directives:[]},{kind:\"Field\",name:{kind:\"Name\",value:\"linkedLearningName\"},arguments:[],directives:[]},{kind:\"Field\",name:{kind:\"Name\",value:\"linkType\"},arguments:[],directives:[]}]}}]}}]}}]},_={kind:\"Document\",definitions:[{kind:\"OperationDefinition\",operation:\"mutation\",name:{kind:\"Name\",value:\"local_credly_sync_badges\"},variableDefinitions:[],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"local_credly_sync_badges\"},arguments:[],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"syncfinished\"},arguments:[],directives:[]}]}}]}}]},k={kind:\"Document\",definitions:[{kind:\"OperationDefinition\",operation:\"mutation\",name:{kind:\"Name\",value:\"local_credly_link_badge\"},variableDefinitions:[{kind:\"VariableDefinition\",variable:{kind:\"Variable\",name:{kind:\"Name\",value:\"link\"}},type:{kind:\"NonNullType\",type:{kind:\"NamedType\",name:{kind:\"Name\",value:\"local_credly_link_badge_input\"}}},directives:[]}],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"local_credly_link_badge\"},arguments:[{kind:\"Argument\",name:{kind:\"Name\",value:\"link\"},value:{kind:\"Variable\",name:{kind:\"Name\",value:\"link\"}}}],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"credlyId\"},arguments:[],directives:[]},{kind:\"Field\",name:{kind:\"Name\",value:\"learningId\"},arguments:[],directives:[]},{kind:\"Field\",name:{kind:\"Name\",value:\"learningName\"},arguments:[],directives:[]},{kind:\"Field\",name:{kind:\"Name\",value:\"learningType\"},arguments:[],directives:[]}]}}]}}]},b=n(\"yikf\"),x=n.n(b),w=n(\"KGot\"),A=n.n(w),S=n(\"5qAA\"),F=n.n(S),C=n(\"rLBA\"),N=n.n(C),L=n(\"gLvT\"),I=n.n(L),$=n(\"KGcv\"),T=n.n($),O=n(\"tNJr\"),B=n.n(O),D=n(\"CINB\"),P=n(\"qTuH\"),q=n(\"O2Ou\"),E=n(\"vF5l\"),M=n.n(E),j=n(\"BN8m\"),H=n.n(j),U=n(\"zdti\"),G=n.n(U),z=n(\"BI3i\"),K={components:{ProgramAdder:D.default,CertificationAdder:P.default,CourseAdder:q.default,LoadingButton:N.a,Loader:v.a,PageHeading:g.a,Table:x.a,Cell:A.a,HeaderCell:F.a,Dropdown:I.a,DropdownItem:T.a,MoreButton:B.a,Button:M.a,ButtonGroup:H.a,NotificationBanner:G.a,LearningFilter:z.default},data:function(){return{badges:{items:null,metadata:{total:0,next:1}},showProgramAdder:!1,programAdderTitle:\"\",programAdderOpenedFor:{},showCertificationAdder:!1,certificationAdderTitle:\"\",certificationAdderOpenedFor:{},showCourseAdder:!1,courseAdderTitle:\"\",courseAdderOpenedFor:{},syncStarted:!1,filters:[]}},computed:{hasMoreBadges:function(){return null!==this.badges.metadata.next},hasBadges:function(){return null!==this.badges.items}},methods:{sync:(s=u()(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.syncStarted=!0,e.next=3,this.$apollo.mutate({mutation:_});case 3:window.location.reload();case 4:case\"end\":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)}),updateFilter:function(e){this.filters=[{name:\"type\",value:e.learningtype},{name:\"search\",value:e.search}],this.$apollo.queries.badges.setVariables({page:1,filters:this.filters}),this.$apollo.queries.badges.refresh()},clearFilter:function(){this.filters=[]},getBadges:function(){return this.badges.items},loadMore:function(){var e=this;this.$apollo.queries.badges.fetchMore({variables:{page:this.badges.metadata.next,filters:this.filters},updateQuery:function(t,n){var r,i=n.fetchMoreResult;return(r=i.badges.items).unshift.apply(r,d()(e.badges.items)),i}})},openProgramAdder:function(e){this.programAdderTitle=this.$str(\"page:badges:programAdderTitle\",\"local_credly\",e.name),this.programAdderOpenedFor=e,this.showProgramAdder=!0},openCertificationAdder:function(e){this.certificationAdderTitle=this.$str(\"page:badges:certificationAdderTitle\",\"local_credly\",e.name),this.certificationAdderOpenedFor=e,this.showCertificationAdder=!0},openCourseAdder:function(e){this.courseAdderTitle=this.$str(\"page:badges:courseAdderTitle\",\"local_credly\",e.name),this.courseAdderOpenedFor=e,this.showCourseAdder=!0},isBadgeLinked:function(e){return e.programId||e.certificationId||e.courseId},getLinkType:function(e){return this.isBadgeLinked(e)?e.programId?this.$str(\"program\",\"totara_program\"):e.certificationId?this.$str(\"certification\",\"totara_program\"):e.courseId?this.$str(\"course\",\"core\"):void 0:this.$str(\"linktype:not_linked\",\"local_credly\")},hideProgramAdder:function(){this.showProgramAdder=!1,this.programAdderOpenedFor={}},hideCertificationAdder:function(){this.showCertificationAdder=!1,this.certificationAdderOpenedFor={}},hideCourseAdder:function(){this.showCourseAdder=!1,this.courseAdderOpenedFor={}},programAdderDataUpdated:(o=u()(p.a.mark((function e(t){var n,r,i,a,o=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ids,t.data,r=n[0],e.next=4,this.$apollo.mutate({mutation:k,variables:{link:{credlyId:this.programAdderOpenedFor.credlyId,learningId:r,learningType:\"program\"}}});case 4:return e.sent,i=this.badges.items.findIndex((function(e){return e.credlyId===o.programAdderOpenedFor.credlyId})),a=Math.ceil((i+1)/50),e.next=9,this.refetchBadges(a);case 9:this.hideProgramAdder();case 10:case\"end\":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)}),certificationAdderDataUpdated:(a=u()(p.a.mark((function e(t){var n,r,i,a,o=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ids,t.data,r=n[0],e.next=4,this.$apollo.mutate({mutation:k,variables:{link:{credlyId:this.certificationAdderOpenedFor.credlyId,learningId:r,learningType:\"certification\"}}});case 4:return e.sent,i=this.badges.items.findIndex((function(e){return e.credlyId===o.certificationAdderOpenedFor.credlyId})),a=Math.ceil((i+1)/50),e.next=9,this.refetchBadges(a);case 9:this.hideCertificationAdder();case 10:case\"end\":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)}),courseAdderDataUpdated:(i=u()(p.a.mark((function e(t){var n,r,i,a,o=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ids,t.data,r=n[0],e.next=4,this.$apollo.mutate({mutation:k,variables:{link:{credlyId:this.courseAdderOpenedFor.credlyId,learningId:r,learningType:\"course\"}}});case 4:return e.sent,i=this.badges.items.findIndex((function(e){return e.credlyId===o.courseAdderOpenedFor.credlyId})),a=Math.ceil((i+1)/50),e.next=9,this.refetchBadges(a);case 9:this.hideCourseAdder();case 10:case\"end\":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)}),unlinkBadge:(r=u()(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$apollo.mutate({mutation:k,variables:{link:{credlyId:t.credlyId,learningId:null,learningType:\"unlinked\"}}});case 2:return e.sent,n=this.badges.items.findIndex((function(e){return e.credlyId===t.credlyId})),r=Math.ceil((n+1)/50),e.next=7,this.refetchBadges(r);case 7:case\"end\":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)}),refetchBadges:function(e){var t=this,n=this.badges.metadata;this.$apollo.queries.badges.fetchMore({variables:{page:e,filters:this.filters},updateQuery:function(r,i){var a=i.fetchMoreResult;return a.badges.items=[].concat(d()(t.badges.items.slice(0,50*(e-1))),d()(a.badges.items),d()(t.badges.items.slice(50*e))),a.metadata=n,a}})}},apollo:{badges:{query:y,fetchPolicy:\"network-only\",variables:function(){return{page:1,filters:this.filters}},update:function(e){return e.badges}}}},R=(n(\"DeIE\"),n(\"KHd+\")),W=function(e){e.options.__langStrings={local_credly:[\"page:badges:heading\",\"page:badges:headerName\",\"page:badges:headerId\",\"page:badges:headerType\",\"page:badges:headerLearning\",\"page:badges:headerLinkToLearning\",\"page:badges:moreMenu\",\"page:badges:loadmore\",\"page:badges:linkProgram\",\"page:badges:linkCertification\",\"page:badges:unlinkLearning\",\"page:badges:linkCourse\",\"page:badges:programAdderTitle\",\"page:badges:certificationAdderTitle\",\"page:badges:courseAdderTitle\",\"page:badges:showing_x_of_y_badges\",\"page:badges:sync\",\"page:badges:synchronising\",\"linktype:not_linked\",\"err:no_badges\"],totara_program:[\"program\",\"certification\"],core:[\"course\"]}},V=Object(R.a)(K,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"credly-badges\"},[n(\"PageHeading\",{attrs:{title:e.$str(\"page:badges:heading\",\"local_credly\")}}),e._v(\" \"),n(\"ButtonGroup\",[n(\"Button\",{attrs:{disabled:e.syncStarted,styleclass:{primary:\"true\"},text:e.$str(\"page:badges:sync\",\"local_credly\"),\"aria-label\":e.$str(\"page:badges:sync\",\"local_credly\")},on:{click:e.sync}})],1),e._v(\" \"),e.syncStarted?n(\"NotificationBanner\",{attrs:{type:\"info\",message:e.$str(\"page:badges:synchronising\",\"local_credly\")}}):e._e(),e._v(\" \"),n(\"Loader\",{attrs:{loading:e.$apollo.loading&&(!e.hasBadges||e.filters.length>0)||e.syncStarted}},[(e.hasBadges||e.filters.length>0)&&!e.syncStarted?n(\"div\",{staticClass:\"content\"},[n(\"LearningFilter\",{on:{\"submit-search\":e.updateFilter,filter:e.updateFilter,clear:e.clearFilter}}),e._v(\" \"),n(\"p\",[e._v(\"\\n        \"+e._s(this.$str(\"page:badges:showing_x_of_y_badges\",\"local_credly\",{count:e.getBadges().length,total:e.badges.metadata.total}))+\"\\n      \")]),e._v(\" \"),n(\"ProgramAdder\",{attrs:{open:e.showProgramAdder,\"existing-items\":[],title:e.programAdderTitle,\"table-header-name\":\"Program Name\"},on:{cancel:e.hideProgramAdder,added:e.programAdderDataUpdated}}),e._v(\" \"),n(\"CertificationAdder\",{attrs:{open:e.showCertificationAdder,\"existing-items\":[],title:e.certificationAdderTitle,\"table-header-name\":\"Certification Name\"},on:{cancel:e.hideCertificationAdder,added:e.certificationAdderDataUpdated}}),e._v(\" \"),n(\"CourseAdder\",{attrs:{open:e.showCourseAdder,\"existing-items\":[],title:e.courseAdderTitle,\"table-header-name\":\"Course Name\"},on:{cancel:e.hideCourseAdder,added:e.courseAdderDataUpdated}}),e._v(\" \"),n(\"Table\",{attrs:{data:e.getBadges(),\"color-odd-rows\":!0},scopedSlots:e._u([{key:\"header-row\",fn:function(){return[n(\"HeaderCell\",{attrs:{size:\"3\"}},[e._v(e._s(e.$str(\"page:badges:headerName\",\"local_credly\")))]),e._v(\" \"),n(\"HeaderCell\",{attrs:{size:\"3\"}},[e._v(e._s(e.$str(\"page:badges:headerId\",\"local_credly\")))]),e._v(\" \"),n(\"HeaderCell\",{attrs:{size:\"3\"}},[e._v(e._s(e.$str(\"page:badges:headerType\",\"local_credly\")))]),e._v(\" \"),n(\"HeaderCell\",{attrs:{size:\"3\"}},[e._v(e._s(e.$str(\"page:badges:headerLearning\",\"local_credly\")))]),e._v(\" \"),n(\"HeaderCell\",{staticClass:\"link-to-learning-header\",attrs:{size:\"2\"}},[e._v(e._s(e.$str(\"page:badges:headerLinkToLearning\",\"local_credly\")))])]},proxy:!0},{key:\"row\",fn:function(t){var r=t.row;return[n(\"Cell\",{attrs:{size:\"3\",\"column-header\":e.$str(\"page:badges:headerName\",\"local_credly\")}},[e._v(\"\\n            \"+e._s(r.name)+\"\\n          \")]),e._v(\" \"),n(\"Cell\",{attrs:{size:\"3\",\"column-header\":e.$str(\"page:badges:headerId\",\"local_credly\")}},[e._v(\"\\n            \"+e._s(r.credlyId)+\"\\n          \")]),e._v(\" \"),n(\"Cell\",{attrs:{size:\"3\",\"column-header\":e.$str(\"page:badges:headerType\",\"local_credly\")}},[n(\"span\",[e._v(e._s(e.getLinkType(r)))])]),e._v(\" \"),n(\"Cell\",{attrs:{size:\"3\",\"column-header\":e.$str(\"page:badges:headerLearning\",\"local_credly\")}},[e._v(\"\\n            \"+e._s(r.linkedLearningName)+\"\\n          \")]),e._v(\" \"),n(\"Cell\",{staticClass:\"link-to-learning-col\",attrs:{size:\"2\",\"column-header\":e.$str(\"page:badges:headerLinkToLearning\",\"local_credly\")}},[n(\"Dropdown\",{staticClass:\"credly-more-menu\",attrs:{position:\"bottom-right\"},scopedSlots:e._u([{key:\"trigger\",fn:function(t){var r=t.toggle;return[n(\"MoreButton\",{attrs:{\"no-padding\":!0,\"aria-label\":e.$str(\"page:badges:moreMenu\",\"local_credly\")},on:{click:r}})]}}],null,!0)},[e._v(\" \"),e.isBadgeLinked(r)?e._e():n(\"DropdownItem\",{on:{click:function(t){return e.openProgramAdder(r)}}},[e._v(\"\\n                \"+e._s(e.$str(\"page:badges:linkProgram\",\"local_credly\"))+\"\\n              \")]),e._v(\" \"),e.isBadgeLinked(r)?e._e():n(\"DropdownItem\",{on:{click:function(t){return e.openCertificationAdder(r)}}},[e._v(\"\\n                \"+e._s(e.$str(\"page:badges:linkCertification\",\"local_credly\"))+\"\\n              \")]),e._v(\" \"),e.isBadgeLinked(r)?e._e():n(\"DropdownItem\",{on:{click:function(t){return e.openCourseAdder(r)}}},[e._v(\"\\n                \"+e._s(e.$str(\"page:badges:linkCourse\",\"local_credly\"))+\"\\n              \")]),e._v(\" \"),e.isBadgeLinked(r)?n(\"DropdownItem\",{on:{click:function(t){return e.unlinkBadge(r)}}},[e._v(\"\\n                \"+e._s(e.$str(\"page:badges:unlinkLearning\",\"local_credly\"))+\"\\n              \")]):e._e()],1)],1)]}}],null,!1,3917578258)}),e._v(\" \"),e.hasMoreBadges?n(\"div\",{staticClass:\"loadMore\"},[n(\"LoadingButton\",{attrs:{text:e.$str(\"page:badges:loadmore\",\"local_credly\"),loading:e.$apollo.loading},on:{click:e.loadMore}})],1):e._e()],1):n(\"div\",[n(\"p\",[e._v(\"\\n        \"+e._s(e.$str(\"err:no_badges\",\"local_credly\"))+\"\\n      \")])])])],1)}),[],!1,null,\"03d704d1\",null);\"function\"==typeof W&&W(V),V.options.__hasBlocks={script:!0,template:!0};t.default=V.exports},MtFN:function(e,t){},O2Ou:function(e,t,n){\"use strict\";n.r(t);var r=n(\"yXPU\"),i=n.n(r),a=n(\"o0o1\"),o=n.n(a),s=n(\"bYkL\"),l=n.n(s),d=n(\"yikf\"),c=n.n(d),u=n(\"5qAA\"),f=n.n(u),p=n(\"KGot\"),m=n.n(p),g=n(\"U0LT\"),h={kind:\"Document\",definitions:[{kind:\"OperationDefinition\",operation:\"query\",name:{kind:\"Name\",value:\"local_credly_courses\"},variableDefinitions:[],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",alias:{kind:\"Name\",value:\"courses\"},name:{kind:\"Name\",value:\"local_credly_courses\"},arguments:[],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"metadata\"},arguments:[],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"total\"},arguments:[],directives:[]}]}},{kind:\"Field\",name:{kind:\"Name\",value:\"items\"},arguments:[],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"id\"},arguments:[],directives:[]},{kind:\"Field\",name:{kind:\"Name\",value:\"name\"},arguments:[],directives:[]},{kind:\"Field\",name:{kind:\"Name\",value:\"category\"},arguments:[],directives:[]}]}}]}}]}}]},v={components:{Cell:m.a,HeaderCell:f.a,Table:c.a,Adder:l.a,AdderFilter:g.default},props:{existingItems:{type:Array,default:function(){return[]}},open:Boolean,title:{type:String,required:!0},tableHeaderName:{type:String,required:!0}},data:function(){return{filteredCourses:[],courses:[]}},watch:{open:function(){var e=this;this.open&&this.$apollo.queries.courses.refetch().then((function(){e.filteredCourses=e.courses}))}},apollo:{courses:{query:h,update:function(e){return e.courses.items}}},methods:{closeWithData:function(e){var t=this;return i()(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.$emit(\"add-button-clicked\"),t.$emit(\"added\",{ids:[e[0]],data:[e]});case 2:case\"end\":return n.stop()}}),n)})))()},updateFilter:function(e){var t=e.searchTerm;this.filteredCourses=this.courses.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))},itemCount:function(){return this.$str(\"course_adder:showing_x_of_y_courses\",\"local_credly\",{count:this.filteredCourses.length,total:this.courses.length})}}},y=(n(\"hMt/\"),n(\"KHd+\")),_=function(e){e.options.__langStrings={local_credly:[\"course_adder:showing_x_of_y_courses\"]}},k=Object(y.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"Adder\",{staticClass:\"courseAdder\",attrs:{open:e.open&&!e.$apollo.loading,title:e.title,\"existing-items\":e.existingItems,\"show-load-more\":!1,\"show-loading-btn\":!1},on:{cancel:function(t){return e.$emit(\"cancel\")}},scopedSlots:e._u([{key:\"browse-list\",fn:function(t){t.disabledItems,t.selectedItems,t.update;return[n(\"AdderFilter\",{on:{\"submit-search\":e.updateFilter,filter:e.updateFilter,clear:e.updateFilter}}),e._v(\" \"),n(\"div\",{staticClass:\"courseAdder__count\"},[e._v(\"\\n      \"+e._s(e.itemCount())+\"\\n    \")]),e._v(\" \"),n(\"Table\",{attrs:{data:e.filteredCourses,\"no-items-text\":\"\"},scopedSlots:e._u([{key:\"header-row\",fn:function(){return[n(\"HeaderCell\",{attrs:{size:\"11\",valign:\"center\"}},[e._v(e._s(e.tableHeaderName))])]},proxy:!0},{key:\"row\",fn:function(t){var r=t.row;return[n(\"Cell\",{staticClass:\"program-cell\",attrs:{size:\"11\",\"column-header\":e.tableHeaderName,valign:\"center\"},nativeOn:{click:function(t){return e.closeWithData([r.id,r])}}},[e._v(\"\\n          \"+e._s(r.name)+\"\\n          \"),n(\"small\",[e._v(\"( \"+e._s(r.category)+\" )\")])])]}}],null,!0)})]}}])})}),[],!1,null,\"5897d15a\",null);\"function\"==typeof _&&_(k),k.options.__hasBlocks={script:!0,template:!0};t.default=k.exports},RIqP:function(e,t,n){var r=n(\"Ijbi\"),i=n(\"EbDI\"),a=n(\"ZhPi\"),o=n(\"Bnag\");e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.default=e.exports,e.exports.__esModule=!0},U0LT:function(e,t,n){\"use strict\";n.r(t);var r=n(\"59Wj\"),i=n.n(r),a=n(\"FBvN\"),o=n.n(a),s={components:{FilterBar:i.a,SearchFilter:o.a},props:{searchTerm:{type:String,default:\"\"}},data:function(){return{courses:[],selection:{searchTerm:this.searchTerm}}},watch:{selection:{deep:!0,handler:function(){this.$emit(\"filter\",this.selection)}}},methods:{submitSearch:function(){this.$emit(\"submit-search\",this.selection)}}},l=n(\"KHd+\"),d=function(e){e.options.__langStrings={local_credly:[\"adder:search\"]}},c=Object(l.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"tui-workspaceFilter\"},[e.$apollo.loading?e._e():[n(\"FilterBar\",{staticClass:\"tui-workspaceFilter__filter\",attrs:{title:e.$str(\"adder:search\",\"local_credly\")},scopedSlots:e._u([{key:\"filters-left\",fn:function(t){var r=t.stacked;return[n(\"SearchFilter\",{attrs:{label:e.$str(\"adder:search\",\"local_credly\"),\"drop-label\":\"\",placeholder:e.$str(\"adder:search\",\"local_credly\"),stacked:r},model:{value:e.selection.searchTerm,callback:function(t){e.$set(e.selection,\"searchTerm\",t)},expression:\"selection.searchTerm\"}})]}}],null,!1,1812312109),model:{value:e.selection,callback:function(t){e.selection=t},expression:\"selection\"}})]],2)}),[],!1,null,null,null);\"function\"==typeof d&&d(c),c.options.__hasBlocks={script:!0,template:!0};t.default=c.exports},WkPL:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0},YnSU:function(e,t,n){!function(){\"use strict\";\"undefined\"!=typeof tui&&tui._bundle.isLoaded(\"local_credly\")?console.warn('[tui bundle] The bundle \"local_credly\" is already loaded, skipping initialisation.'):(tui._bundle.register(\"local_credly\"),tui._bundle.addModulesFromContext(\"local_credly/components\",n(\"kDw7\")),tui._bundle.addModulesFromContext(\"local_credly/pages\",n(\"rG8Z\")))}()},ZhPi:function(e,t,n){var r=n(\"WkPL\");e.exports=function(e,t){if(e){if(\"string\"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},bYkL:function(e,t){e.exports=tui.require(\"tui/components/adder/Adder\")},\"g8/U\":function(e,t){e.exports=tui.require(\"tui/components/layouts/PageHeading\")},gLvT:function(e,t){e.exports=tui.require(\"tui/components/dropdown/Dropdown\")},\"hMt/\":function(e,t){},kDw7:function(e,t,n){var r={\"./AdderFilter\":\"U0LT\",\"./AdderFilter.vue\":\"U0LT\",\"./CertificationAdder\":\"qTuH\",\"./CertificationAdder.vue\":\"qTuH\",\"./CourseAdder\":\"O2Ou\",\"./CourseAdder.vue\":\"O2Ou\",\"./LearningFilter\":\"BI3i\",\"./LearningFilter.vue\":\"BI3i\",\"./ProgramAdder\":\"CINB\",\"./ProgramAdder.vue\":\"CINB\"};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error(\"Cannot find module '\"+e+\"'\");throw t.code=\"MODULE_NOT_FOUND\",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id=\"kDw7\"},ls82:function(e,t,n){var r=function(e){\"use strict\";var t=Object.prototype,n=t.hasOwnProperty,r=\"function\"==typeof Symbol?Symbol:{},i=r.iterator||\"@@iterator\",a=r.asyncIterator||\"@@asyncIterator\",o=r.toStringTag||\"@@toStringTag\";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},\"\")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof u?t:u,a=Object.create(i.prototype),o=new w(r||[]);return a._invoke=function(e,t,n){var r=\"suspendedStart\";return function(i,a){if(\"executing\"===r)throw new Error(\"Generator is already running\");if(\"completed\"===r){if(\"throw\"===i)throw a;return S()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=k(o,n);if(s){if(s===c)continue;return s}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(\"suspendedStart\"===r)throw r=\"completed\",n.arg;n.dispatchException(n.arg)}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);r=\"executing\";var l=d(e,t,n);if(\"normal\"===l.type){if(r=n.done?\"completed\":\"suspendedYield\",l.arg===c)continue;return{value:l.arg,done:n.done}}\"throw\"===l.type&&(r=\"completed\",n.method=\"throw\",n.arg=l.arg)}}}(e,n,o),a}function d(e,t,n){try{return{type:\"normal\",arg:e.call(t,n)}}catch(e){return{type:\"throw\",arg:e}}}e.wrap=l;var c={};function u(){}function f(){}function p(){}var m={};m[i]=function(){return this};var g=Object.getPrototypeOf,h=g&&g(g(A([])));h&&h!==t&&n.call(h,i)&&(m=h);var v=p.prototype=u.prototype=Object.create(m);function y(e){[\"next\",\"throw\",\"return\"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){var r;this._invoke=function(i,a){function o(){return new t((function(r,o){!function r(i,a,o,s){var l=d(e[i],e,a);if(\"throw\"!==l.type){var c=l.arg,u=c.value;return u&&\"object\"==typeof u&&n.call(u,\"__await\")?t.resolve(u.__await).then((function(e){r(\"next\",e,o,s)}),(function(e){r(\"throw\",e,o,s)})):t.resolve(u).then((function(e){c.value=e,o(c)}),(function(e){return r(\"throw\",e,o,s)}))}s(l.arg)}(i,a,r,o)}))}return r=r?r.then(o,o):o()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,\"throw\"===t.method){if(e.iterator.return&&(t.method=\"return\",t.arg=void 0,k(e,t),\"throw\"===t.method))return c;t.method=\"throw\",t.arg=new TypeError(\"The iterator does not provide a 'throw' method\")}return c}var r=d(n,e.iterator,t.arg);if(\"throw\"===r.type)return t.method=\"throw\",t.arg=r.arg,t.delegate=null,c;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,\"return\"!==t.method&&(t.method=\"next\",t.arg=void 0),t.delegate=null,c):i:(t.method=\"throw\",t.arg=new TypeError(\"iterator result is not an object\"),t.delegate=null,c)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type=\"normal\",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:\"root\"}],e.forEach(b,this),this.reset(!0)}function A(e){if(e){var t=e[i];if(t)return t.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=v.constructor=p,p.constructor=f,f.displayName=s(p,o,\"GeneratorFunction\"),e.isGeneratorFunction=function(e){var t=\"function\"==typeof e&&e.constructor;return!!t&&(t===f||\"GeneratorFunction\"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,o,\"GeneratorFunction\")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(_.prototype),_.prototype[a]=function(){return this},e.AsyncIterator=_,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new _(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(v),s(v,o,\"Generator\"),v[i]=function(){return this},v.toString=function(){return\"[object Generator]\"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)\"t\"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(\"throw\"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type=\"throw\",o.arg=e,t.next=n,r&&(t.method=\"next\",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if(\"root\"===a.tryLoc)return r(\"end\");if(a.tryLoc<=this.prev){var s=n.call(a,\"catchLoc\"),l=n.call(a,\"finallyLoc\");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,\"finallyLoc\")&&this.prev<i.finallyLoc){var a=i;break}}a&&(\"break\"===e||\"continue\"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method=\"next\",this.next=a.finallyLoc,c):this.complete(o)},complete:function(e,t){if(\"throw\"===e.type)throw e.arg;return\"break\"===e.type||\"continue\"===e.type?this.next=e.arg:\"return\"===e.type?(this.rval=this.arg=e.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if(\"throw\"===r.type){var i=r.arg;x(n)}return i}}throw new Error(\"illegal catch attempt\")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},\"next\"===this.method&&(this.arg=void 0),c}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function(\"r\",\"regeneratorRuntime = r\")(r)}},o0o1:function(e,t,n){e.exports=n(\"ls82\")},qTuH:function(e,t,n){\"use strict\";n.r(t);var r=n(\"yXPU\"),i=n.n(r),a=n(\"o0o1\"),o=n.n(a),s=n(\"bYkL\"),l=n.n(s),d=n(\"yikf\"),c=n.n(d),u=n(\"5qAA\"),f=n.n(u),p=n(\"KGot\"),m=n.n(p),g=n(\"U0LT\"),h={kind:\"Document\",definitions:[{kind:\"OperationDefinition\",operation:\"query\",name:{kind:\"Name\",value:\"local_credly_certifications\"},variableDefinitions:[],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",alias:{kind:\"Name\",value:\"certifications\"},name:{kind:\"Name\",value:\"local_credly_certifications\"},arguments:[],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"metadata\"},arguments:[],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"total\"},arguments:[],directives:[]}]}},{kind:\"Field\",name:{kind:\"Name\",value:\"items\"},arguments:[],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"id\"},arguments:[],directives:[]},{kind:\"Field\",name:{kind:\"Name\",value:\"name\"},arguments:[],directives:[]},{kind:\"Field\",name:{kind:\"Name\",value:\"category\"},arguments:[],directives:[]}]}}]}}]}}]},v={components:{Cell:m.a,HeaderCell:f.a,Table:c.a,Adder:l.a,AdderFilter:g.default},props:{existingItems:{type:Array,default:function(){return[]}},open:Boolean,title:{type:String,required:!0},tableHeaderName:{type:String,required:!0}},data:function(){return{filteredCertifications:[],certifications:[]}},watch:{open:function(){var e=this;this.open&&this.$apollo.queries.certifications.refetch().then((function(){e.filteredCertifications=e.certifications}))}},apollo:{certifications:{query:h,update:function(e){return e.certifications.items}}},methods:{closeWithData:function(e){var t=this;return i()(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.$emit(\"add-button-clicked\"),t.$emit(\"added\",{ids:[e[0]],data:[e]});case 2:case\"end\":return n.stop()}}),n)})))()},updateFilter:function(e){var t=e.searchTerm;this.filteredCertifications=this.certifications.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))},itemCount:function(){return this.$str(\"certification_adder:showing_x_of_y_certifications\",\"local_credly\",{count:this.filteredCertifications.length,total:this.certifications.length})}}},y=(n(\"MtFN\"),n(\"KHd+\")),_=function(e){e.options.__langStrings={local_credly:[\"certification_adder:showing_x_of_y_certifications\"]}},k=Object(y.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"Adder\",{staticClass:\"certificationAdder\",attrs:{open:e.open&&!e.$apollo.loading,title:e.title,\"existing-items\":e.existingItems,\"show-load-more\":!1,\"show-loading-btn\":!1},on:{cancel:function(t){return e.$emit(\"cancel\")}},scopedSlots:e._u([{key:\"browse-list\",fn:function(t){t.disabledItems,t.selectedItems,t.update;return[n(\"AdderFilter\",{on:{\"submit-search\":e.updateFilter,filter:e.updateFilter,clear:e.updateFilter}}),e._v(\" \"),n(\"div\",{staticClass:\"certificationAdder__count\"},[e._v(\"\\n      \"+e._s(e.itemCount())+\"\\n    \")]),e._v(\" \"),n(\"Table\",{attrs:{data:e.filteredCertifications,\"no-items-text\":\"\"},scopedSlots:e._u([{key:\"header-row\",fn:function(){return[n(\"HeaderCell\",{attrs:{size:\"11\",valign:\"center\"}},[e._v(e._s(e.tableHeaderName))])]},proxy:!0},{key:\"row\",fn:function(t){var r=t.row;return[n(\"Cell\",{staticClass:\"program-cell\",attrs:{size:\"11\",\"column-header\":e.tableHeaderName,valign:\"center\"},nativeOn:{click:function(t){return e.closeWithData([r.id,r])}}},[e._v(\"\\n          \"+e._s(r.name)+\"\\n          \"),n(\"small\",[e._v(\"( \"+e._s(r.category)+\" )\")])])]}}],null,!0)})]}}])})}),[],!1,null,\"94780438\",null);\"function\"==typeof _&&_(k),k.options.__hasBlocks={script:!0,template:!0};t.default=k.exports},rG8Z:function(e,t,n){var r={\"./CredlyBadges\":\"MRQp\",\"./CredlyBadges.vue\":\"MRQp\"};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error(\"Cannot find module '\"+e+\"'\");throw t.code=\"MODULE_NOT_FOUND\",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id=\"rG8Z\"},rLBA:function(e,t){e.exports=tui.require(\"totara_engage/components/buttons/LoadingButton\")},tNJr:function(e,t){e.exports=tui.require(\"tui/components/buttons/MoreIcon\")},vF5l:function(e,t){e.exports=tui.require(\"tui/components/buttons/Button\")},yXPU:function(e,t){function n(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=e.apply(t,r);function s(e){n(o,i,a,s,l,\"next\",e)}function l(e){n(o,i,a,s,l,\"throw\",e)}s(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},yikf:function(e,t){e.exports=tui.require(\"tui/components/datatable/Table\")},zdti:function(e,t){e.exports=tui.require(\"tui/components/notifications/NotificationBanner\")}});","extractedComments":[]}