{"code":"!function(t){var e={};function n(a){if(e[a])return e[a].exports;var i=e[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)n.d(a,i,function(e){return t[e]}.bind(null,i));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=\"4bp9\")}({\"+Gia\":function(t,e){t.exports=tui.require(\"performelement_linked_review/components/SelectParticipant\")},\"1xhN\":function(t,e,n){\"use strict\";n.r(e);var a=n(\"uzDG\"),i=n.n(a),r={kind:\"Document\",definitions:[{kind:\"OperationDefinition\",operation:\"query\",name:{kind:\"Name\",value:\"totara_webapi_status\"},variableDefinitions:[],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"totara_webapi_status\"},arguments:[],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"status\"},arguments:[],directives:[]},{kind:\"Field\",name:{kind:\"Name\",value:\"timestamp\"},arguments:[],directives:[]},{kind:\"Field\",alias:{kind:\"Name\",value:\"date\"},name:{kind:\"Name\",value:\"timestamp\"},arguments:[{kind:\"Argument\",name:{kind:\"Name\",value:\"format\"},value:{kind:\"EnumValue\",value:\"DATELONG\"}}],directives:[]}]}}]}}]},o=n(\"ZBtr\"),s={components:{ParticipantContent:i.a},props:{data:{type:Object,required:!0}},data:function(){return{dateToday:\"01/01/1970\"}},apollo:{dateToday:{query:r,update:function(t){return t.totara_webapi_status.date}}},computed:{goalScope:function(){switch(this.data.content_type){case o.PERSONAL_GOAL:return o.GOAL_SCOPE_PERSONAL;case o.COMPANY_GOAL:return o.GOAL_SCOPE_COMPANY;default:return null}}},methods:{getPreviewData:function(){return{goal:{display_name:this.$str(\"example_goal_title\",\"hierarchy_goal\"),description:this.$str(\"example_goal_description\",\"hierarchy_goal\"),goal_scope:this.goalScope},target_date:this.dateToday,status:this.$str(\"example_goal_status\",\"hierarchy_goal\"),completed:!1}}}},l=n(\"KHd+\"),u=function(t){t.options.__langStrings={hierarchy_goal:[\"example_goal_description\",\"example_goal_status\",\"example_goal_title\"]}},c=Object(l.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return this.$apollo.loading?this._e():e(\"ParticipantContent\",{attrs:{content:this.getPreviewData(),preview:!0}})}),[],!1,null,null,null);\"function\"==typeof u&&u(c),c.options.__hasBlocks={script:!0,template:!0};e.default=c.exports},\"2HWd\":function(t,e,n){\"use strict\";n.r(e);var a=n(\"nEm4\"),i=n.n(a),r=n(\"fw38\"),o=n.n(r),s=n(\"XJDp\"),l=n.n(s),u={components:{Form:i.a,FormSelect:o.a,ChangeStatus:l.a},props:{settings:Object},computed:{scaleValueOptions:function(){return[{id:null,label:this.$str(\"goal_status_select\",\"hierarchy_goal\")}]}}},c=n(\"KHd+\"),d=function(t){t.options.__langStrings={hierarchy_goal:[\"goal_status_select\"]}},_=Object(c.a)(u,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.settings.enable_status_change,expression:\"settings.enable_status_change\"}],staticClass:\"tui-linkedReviewChangeStatusFormPreview\"},[t.settings.enable_status_change?n(\"ChangeStatus\",{attrs:{required:!0},scopedSlots:t._u([{key:\"form\",fn:function(e){var a=e.titleId;return[n(\"div\",{staticClass:\"tui-linkedReviewChangeStatusFormPreview__form\"},[n(\"Form\",{attrs:{\"input-width\":\"full\",vertical:!0}},[n(\"FormSelect\",{attrs:{\"aria-labelledby\":a,options:t.scaleValueOptions,\"char-length\":\"15\",value:null}})],1)],1)]}}],null,!1,1569446725)}):t._e()],1)}),[],!1,null,null,null);\"function\"==typeof d&&d(_),_.options.__hasBlocks={script:!0,template:!0};e.default=_.exports},\"4bp9\":function(t,e,n){!function(){\"use strict\";\"undefined\"!=typeof tui&&tui._bundle.isLoaded(\"hierarchy_goal\")?console.warn('[tui bundle] The bundle \"hierarchy_goal\" is already loaded, skipping initialisation.'):(tui._bundle.register(\"hierarchy_goal\"),tui._bundle.addModulesFromContext(\"hierarchy_goal\",n(\"htFo\")),tui._bundle.addModulesFromContext(\"hierarchy_goal/components\",n(\"sTUC\")))}()},\"C+/B\":function(t,e){t.exports=tui.require(\"tui/components/modal/ConfirmationModal\")},D9If:function(t,e){t.exports=tui.require(\"tui/components/grid/GridItem\")},GfQT:function(t,e){t.exports=tui.require(\"performelement_linked_review/components/SelectContent\")},\"KHd+\":function(t,e,n){\"use strict\";function a(t,e,n,a,i,r,o,s){var l,u=\"function\"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),a&&(u.functional=!0),r&&(u._scopeId=\"data-v-\"+r),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},u._ssrRegister=l):i&&(l=s?function(){i.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(t,e){return l.call(e),c(t,e)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:u}}n.d(e,\"a\",(function(){return a}))},M5ok:function(t,e){t.exports=tui.require(\"totara_hierarchy/components/adder/AssignedCompanyGoalAdder\")},MAAM:function(t,e){t.exports=tui.require(\"tui/components/form/HelpIcon\")},NAOU:function(t,e){t.exports=tui.require(\"tui/components/grid/Grid\")},QLIE:function(t,e,n){\"use strict\";n.r(e);var a=n(\"NAOU\"),i=n.n(a),r=n(\"D9If\"),o=n.n(r),s=n(\"ZBtr\"),l={components:{Grid:i.a,GridItem:o.a},props:{content:{type:Object},createdAt:String,fromPrint:Boolean,isExternalParticipant:Boolean,preview:Boolean},computed:{contentTypeDisplayName:function(){switch(this.content.goal.goal_scope){case s.GOAL_SCOPE_PERSONAL:return this.$str(\"personalgoal\",\"totara_hierarchy\");case s.GOAL_SCOPE_COMPANY:return this.$str(\"companygoal\",\"totara_hierarchy\");default:return\"\"}},goalUrl:function(){return this.content?this.content.goal.goal_scope===s.GOAL_SCOPE_COMPANY?this.$url(\"/totara/hierarchy/item/view.php\",{id:this.content.goal.id,prefix:\"goal\"}):this.$url(\"/totara/hierarchy/prefix/goal/item/view.php\",{id:this.content.goal.id}):\"\"},goalContentExists:function(){return!(!this.content||!this.content.goal)&&(\"COMPANY\"===this.content.goal.goal_scope?this.content.goal&&this.content.status:!!this.content.goal)},goalBarVisible:function(){return this.content.status||this.content.target_date}}},u=(n(\"X6Jm\"),n(\"KHd+\")),c=function(t){t.options.__langStrings={hierarchy_goal:[\"goal_status\",\"target_date\",\"perform_review_goal_missing\",\"selected_goal\"],totara_hierarchy:[\"companygoal\",\"personalgoal\"]}},d=Object(u.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.goalContentExists?n(\"div\",{staticClass:\"tui-linkedReviewViewGoal\",class:{\"tui-linkedReviewViewGoal--print\":t.fromPrint}},[t.contentTypeDisplayName?n(\"div\",{staticClass:\"tui-linkedReviewViewGoal__contentType\"},[t._v(\"\\n    \"+t._s(t.contentTypeDisplayName)+\"\\n  \")]):t._e(),t._v(\" \"),n(\"h4\",{staticClass:\"tui-linkedReviewViewGoal__title\"},[t.fromPrint||t.preview||t.isExternalParticipant||!t.content.can_view_goal_details?[t._v(\"\\n      \"+t._s(t.content.goal.display_name)+\"\\n    \")]:n(\"a\",{attrs:{\"aria-label\":t.$str(\"selected_goal\",\"hierarchy_goal\",t.content.goal.display_name),href:t.goalUrl}},[t._v(\"\\n      \"+t._s(t.content.goal.display_name)+\"\\n    \")])],2),t._v(\" \"),n(\"div\",{staticClass:\"tui-linkedReviewViewGoal__description\",domProps:{innerHTML:t._s(t.content.goal.description)}}),t._v(\" \"),n(\"div\",{staticClass:\"tui-linkedReviewViewGoal__overview\"},[t.preview?t._e():n(\"div\",{staticClass:\"tui-linkedReviewViewGoal__timestamp\"},[t._v(\"\\n      \"+t._s(t.createdAt)+\"\\n    \")]),t._v(\" \"),t.goalBarVisible?n(\"div\",{staticClass:\"tui-linkedReviewViewGoal__bar\"},[n(\"Grid\",{attrs:{\"stack-at\":600}},[n(\"GridItem\",{attrs:{units:3}},[t.content.status?n(\"div\",{staticClass:\"tui-linkedReviewViewGoal__bar-status\"},[n(\"span\",{staticClass:\"tui-linkedReviewViewGoal__bar-statusLabel\"},[t._v(\"\\n              \"+t._s(t.$str(\"goal_status\",\"hierarchy_goal\"))+\"\\n            \")]),t._v(\" \"),n(\"span\",{staticClass:\"tui-linkedReviewViewGoal__bar-statusValue\"},[t._v(\"\\n              \"+t._s(t.content.status.name)+\"\\n            \")])]):t._e()]),t._v(\" \"),n(\"GridItem\",{attrs:{units:5}},[t.content.target_date?n(\"div\",{staticClass:\"tui-linkedReviewViewGoal__bar-wrap\"},[n(\"span\",{staticClass:\"tui-linkedReviewViewGoal__bar-label\"},[t._v(\"\\n              \"+t._s(t.$str(\"target_date\",\"hierarchy_goal\"))+\"\\n            \")]),t._v(\" \"),n(\"span\",{staticClass:\"tui-linkedReviewViewGoal__bar-value\"},[t._v(\"\\n              \"+t._s(t.content.target_date)+\"\\n            \")])]):t._e()])],1)],1):t._e()])]):n(\"div\",{staticClass:\"tui-linkedReviewViewGoal__missing\"},[t._v(\"\\n  \"+t._s(t.$str(\"perform_review_goal_missing\",\"hierarchy_goal\"))+\"\\n\")])}),[],!1,null,null,null);\"function\"==typeof c&&c(d),d.options.__hasBlocks={script:!0,template:!0};e.default=d.exports},VX2K:function(t,e){t.exports=tui.require(\"tui/components/form/Radio\")},WBvU:function(t,e){t.exports=tui.require(\"tui/components/uniform\")},X6Jm:function(t,e){},XJDp:function(t,e){t.exports=tui.require(\"hierarchy_goal/components/ChangeStatus\")},ZBtr:function(t,e,n){\"use strict\";n.r(e),n.d(e,\"COMPANY_GOAL\",(function(){return a})),n.d(e,\"PERSONAL_GOAL\",(function(){return i})),n.d(e,\"GOAL_SCOPE_COMPANY\",(function(){return r})),n.d(e,\"GOAL_SCOPE_PERSONAL\",(function(){return o}));var a=\"company_goal\",i=\"personal_goal\",r=\"COMPANY\",o=\"PERSONAL\"},cYJj:function(t,e,n){\"use strict\";n.r(e);var a=n(\"yXPU\"),i=n.n(a),r=n(\"o0o1\"),o=n.n(r),s=n(\"vF5l\"),l=n.n(s),u=n(\"XJDp\"),c=n.n(u),d=n(\"C+/B\"),_=n.n(d),p=n(\"WBvU\"),h=n(\"NAOU\"),m=n.n(h),f=n(\"D9If\"),g=n.n(f),v=n(\"VX2K\"),y=n.n(v),w=n(\"vyVp\"),b=n(\"ZBtr\"),k={kind:\"Document\",definitions:[{kind:\"OperationDefinition\",operation:\"mutation\",name:{kind:\"Name\",value:\"hierarchy_goal_perform_linked_goals_change_status\"},variableDefinitions:[{kind:\"VariableDefinition\",variable:{kind:\"Variable\",name:{kind:\"Name\",value:\"input\"}},type:{kind:\"NonNullType\",type:{kind:\"NamedType\",name:{kind:\"Name\",value:\"hierarchy_goal_perform_linked_goals_change_status_input\"}}},directives:[]}],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"hierarchy_goal_perform_linked_goals_change_status\"},arguments:[{kind:\"Argument\",name:{kind:\"Name\",value:\"input\"},value:{kind:\"Variable\",name:{kind:\"Name\",value:\"input\"}}}],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"perform_status\"},arguments:[],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"status_changer_user\"},arguments:[],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"fullname\"},arguments:[],directives:[]}]}},{kind:\"Field\",name:{kind:\"Name\",value:\"scale_value\"},arguments:[],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"name\"},arguments:[],directives:[]},{kind:\"Field\",name:{kind:\"Name\",value:\"proficient\"},arguments:[],directives:[]}]}},{kind:\"Field\",name:{kind:\"Name\",value:\"created_at\"},arguments:[{kind:\"Argument\",name:{kind:\"Name\",value:\"format\"},value:{kind:\"EnumValue\",value:\"DATE\"}}],directives:[]}]}},{kind:\"Field\",name:{kind:\"Name\",value:\"already_exists\"},arguments:[],directives:[]}]}}]}}]},S={components:{Button:l.a,ChangeStatus:c.a,ConfirmationModal:_.a,FormRadioGroup:p.FormRadioGroup,FormRow:p.FormRow,FormSelect:p.FormSelect,Grid:m.a,GridItem:g.a,Radio:y.a,Uniform:p.Uniform},props:{content:{type:Object,required:!0},elementData:Object,fromPrint:Boolean,participantInstanceId:[String,Number],required:Boolean,sectionElementId:[String,Number],subjectUser:{type:Object,required:!0}},data:function(){return{contentTypeSettings:this.elementData.content_type_settings,data:this.content,initialValues:{status:0},isSaving:!1,modalOpen:!1,selectedGoalStatusId:0}},computed:{statusOptions:function(){var t={id:0,label:this.$str(\"goal_status_select\",\"hierarchy_goal\")};if(!this.data.scale_values)return[t];var e=this.data.scale_values;return e=e.map((function(t){return{id:t.id,label:t.name}})),this.fromPrint||e.unshift(t),e},userRelationship:function(){return this.contentTypeSettings.status_change_relationship_name},isPersonalGoal:function(){return this.elementData.content_type===b.PERSONAL_GOAL},isStatusChangePossible:function(){return this.contentTypeSettings.enable_status_change&&this.goalContentExists},goalContentExists:function(){return!!this.content&&(this.isPersonalGoal?!!this.content.goal:this.content.goal&&this.content.status)}},methods:{confirmGoalSelection:function(t){this.selectedGoalStatusId=t.status,0!==this.selectedGoalStatusId&&(this.modalOpen=!0)},saveGoal:function(){var t=this;return i()(o.a.mark((function e(){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isSaving=!0,e.prev=1,e.next=4,t.$apollo.mutate({mutation:k,variables:{input:{participant_instance_id:t.participantInstanceId,goal_assignment_id:t.data.id,goal_type:t.data.goal.goal_scope,scale_value_id:t.selectedGoalStatusId,section_element_id:t.sectionElementId}}});case 4:n=e.sent,(a=n.data.hierarchy_goal_perform_linked_goals_change_status).already_exists?t.$emit(\"show-banner\",t.$str(\"goal_exists_message\",\"hierarchy_goal\")):(t.data=Object.assign({},t.data,{status_change:a.perform_status}),Object(w.notify)({message:t.$str(\"goal_status_updated\",\"hierarchy_goal\"),type:\"success\"})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),Object(w.notify)({message:t.$str(\"goal_status_updated_error\",\"hierarchy_goal\"),type:\"error\"});case 12:t.isSaving=!1,t.cancelGoal();case 14:case\"end\":return e.stop()}}),e,null,[[1,9]])})))()},cancelGoal:function(){this.selectedGoalStatusId=0,this.modalOpen=!1},selectedScaleValueName:function(){var t=this;if(0!==this.selectedGoalStatusId)return this.data.scale_values.find((function(e){return e.id===t.selectedGoalStatusId})).name}}},C=(n(\"uUVa\"),n(\"KHd+\")),x=function(t){t.options.__langStrings={hierarchy_goal:[\"a11y_goal_status_updated_date\",\"goal_status_updated_error\",\"goal_confirmation_body_1\",\"goal_confirmation_body_2\",\"goal_exists_message\",\"goal_updated_by\",\"goal_status_select\",\"goal_status_response_subject\",\"goal_status_answered_by_other\",\"goal_status_updated\",\"goal_scale_unavailable\",\"updated_goal_status\",\"submit_status\",\"submit_goal_title\"]}},O=Object(C.a)(S,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isStatusChangePossible?n(\"div\",{staticClass:\"tui-linkedReviewChangeStatus\"},[n(\"ChangeStatus\",{attrs:{\"from-print\":t.fromPrint,status:t.data.status_change,required:t.required},scopedSlots:t._u([{key:\"display\",fn:function(){return[n(\"Grid\",{staticClass:\"tui-linkedReviewChangeStatus__summary\",attrs:{\"stack-at\":700}},[n(\"GridItem\",{attrs:{units:4}},[[n(\"span\",[t._v(\"\\n              \"+t._s(t.$str(\"goal_updated_by\",\"hierarchy_goal\",{user:t.data.status_change.status_changer_user.fullname,relationship:t.userRelationship}))+\"\\n            \")])]],2),t._v(\" \"),n(\"GridItem\",{attrs:{units:2}},[n(\"span\",{staticClass:\"tui-linkedReviewChangeStatus__summary-dateAccessibleTitle\"},[t._v(\"\\n            \"+t._s(t.$str(\"a11y_goal_status_updated_date\",\"hierarchy_goal\"))+\"\\n          \")]),t._v(\" \"),n(\"span\",[t._v(t._s(t.data.status_change.created_at))])]),t._v(\" \"),n(\"GridItem\",{attrs:{units:6}},[t.data.status_change?[n(\"span\",{staticClass:\"tui-linkedReviewChangeStatus__summary-status\"},[t._v(\"\\n              \"+t._s(t.$str(\"updated_goal_status\",\"hierarchy_goal\",t.data.status_change.scale_value.name))+\"\\n            \")])]:t._e()],2)],1)]},proxy:!0},{key:\"form\",fn:function(e){var a=e.titleId;return[t.content.can_change_status&&t.content.scale_values?n(\"Uniform\",{staticClass:\"tui-linkedReviewChangeStatus__form\",attrs:{\"input-width\":\"full\",vertical:!0,\"initial-values\":t.initialValues},on:{submit:t.confirmGoalSelection}},[t.fromPrint?n(\"FormRow\",{attrs:{label:t.$str(\"goal_status_response_subject\",\"hierarchy_goal\",t.userRelationship)}},[n(\"FormRadioGroup\",{attrs:{name:\"status\"}},t._l(t.statusOptions,(function(e){return n(\"Radio\",{key:e.id,attrs:{value:e.id}},[t._v(\"\\n              \"+t._s(e.label)+\"\\n            \")])})),1)],1):n(\"FormRow\",{attrs:{label:t.$str(\"goal_status_response_subject\",\"hierarchy_goal\",t.userRelationship)}},[n(\"div\",{staticClass:\"tui-linkedReviewChangeStatus__statusWrapper\"},[n(\"FormSelect\",{attrs:{\"aria-labelledby\":a,name:\"status\",options:t.statusOptions,\"char-length\":\"15\"}}),t._v(\" \"),n(\"div\",[n(\"Button\",{attrs:{styleclass:{primary:!0,small:!0},text:t.$str(\"submit_status\",\"hierarchy_goal\"),type:\"submit\"}})],1)],1)])],1):t.isPersonalGoal&&!t.content.scale_values?n(\"div\",{staticClass:\"tui-linkedReviewChangeStatus__unavailableMessage\"},[t._v(\"\\n        \"+t._s(t.$str(\"goal_scale_unavailable\",\"hierarchy_goal\"))+\"\\n      \")]):t._e(),t._v(\" \"),!t.content.can_change_status&&t.content.scale_values?n(\"div\",{staticClass:\"tui-linkedReviewChangeStatus__answeredBy\"},[t._v(\"\\n        \"+t._s(t.$str(\"goal_status_answered_by_other\",\"hierarchy_goal\",t.userRelationship))+\"\\n      \")]):t._e()]}}],null,!1,3646000569)}),t._v(\" \"),n(\"ConfirmationModal\",{attrs:{open:t.modalOpen,title:t.$str(\"submit_goal_title\",\"hierarchy_goal\"),\"confirm-button-text\":t.$str(\"submit_status\",\"hierarchy_goal\"),loading:t.isSaving},on:{confirm:t.saveGoal,cancel:t.cancelGoal}},[n(\"p\",{domProps:{innerHTML:t._s(t.$str(\"goal_confirmation_body_1\",\"hierarchy_goal\",{goal_name:t.content.goal.display_name,scale_value:t.selectedScaleValueName(),user:t.subjectUser.fullname}))}}),t._v(\" \"),n(\"div\",[t._v(t._s(t.$str(\"goal_confirmation_body_2\",\"hierarchy_goal\")))])])],1):t._e()}),[],!1,null,null,null);\"function\"==typeof x&&x(O),O.options.__hasBlocks={script:!0,template:!0};e.default=O.exports},csKv:function(t,e){t.exports=tui.require(\"tui/components/form/FormRowStack\")},ed5N:function(t,e,n){\"use strict\";n.r(e);var a=n(\"M5ok\"),i=n.n(a),r=n(\"n4Rv\"),o=n.n(r),s=n(\"GfQT\"),l=n.n(s),u=n(\"ZBtr\"),c={components:{AssignedCompanyGoalAdder:i.a,PersonalGoalAdder:o.a,SelectContent:l.a},props:{canShowAdder:{type:Boolean,required:!0},contentType:String,coreRelationship:Array,isDraft:Boolean,participantInstanceId:{type:[String,Number],required:!0},previewComponent:[Function,Object],required:Boolean,sectionElementId:String,subjectUser:Object,userId:Number},methods:{getAddBtnText:function(){return this.contentType===u.COMPANY_GOAL?this.$str(\"add_company_goals\",\"hierarchy_goal\"):this.$str(\"add_personal_goals\",\"hierarchy_goal\")},getCantAddText:function(){return this.contentType===u.COMPANY_GOAL?this.$str(\"awaiting_company_selection_text\",\"hierarchy_goal\",this.coreRelationship[0].name):this.$str(\"awaiting_personal_selection_text\",\"hierarchy_goal\",this.coreRelationship[0].name)},getRemoveText:function(){return this.contentType===u.COMPANY_GOAL?this.$str(\"remove_company_goal\",\"hierarchy_goal\"):this.$str(\"remove_personal_goal\",\"hierarchy_goal\")},getAdder:function(){return this.contentType===u.COMPANY_GOAL?i.a:o.a},getItemData:function(t){return this.contentType===u.COMPANY_GOAL?{goal:{display_name:t.goal.full_name,description:t.goal.description,id:t.goal.id},target_date:t.goal.target_date,status:t.scale_value,content_type:this.contentType}:{goal:{display_name:t.name,description:t.description,id:t.id},target_date:t.target_date,status:t.scale_value,content_type:this.contentType}}}},d=n(\"KHd+\"),_=function(t){t.options.__langStrings={hierarchy_goal:[\"add_company_goals\",\"add_personal_goals\",\"awaiting_company_selection_text\",\"awaiting_personal_selection_text\",\"remove_company_goal\",\"remove_personal_goal\"]}},p=Object(d.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"SelectContent\",{attrs:{adder:t.getAdder(),\"add-btn-text\":t.getAddBtnText(),\"can-show-adder\":t.canShowAdder,\"cant-add-text\":t.getCantAddText(),\"is-draft\":t.isDraft,\"participant-instance-id\":t.participantInstanceId,\"remove-text\":t.getRemoveText(),required:t.required,\"section-element-id\":t.sectionElementId,\"user-id\":t.userId},on:{\"unsaved-plugin-change\":function(e){return t.$emit(\"unsaved-plugin-change\",e)},update:function(e){return t.$emit(\"update\",e)}},scopedSlots:t._u([{key:\"content-preview\",fn:function(e){var a=e.content;return[n(t.previewComponent,{tag:\"component\",attrs:{content:t.getItemData(a),\"subject-user\":t.subjectUser}})]}}])})}),[],!1,null,null,null);\"function\"==typeof _&&_(p),p.options.__hasBlocks={script:!0,template:!0};e.default=p.exports},fKie:function(t,e,n){\"use strict\";n.r(e);var a=n(\"wcN6\"),i=n.n(a),r=n(\"WBvU\"),o=n(\"csKv\"),s=n.n(o),l=n(\"+Gia\"),u=n.n(l),c={components:{Field:i.a,FormRowStack:s.a,FormCheckbox:r.FormCheckbox,FormRow:r.FormRow,SelectParticipant:u.a},inheritAttrs:!1,props:{relationships:Array}},d=n(\"KHd+\"),_=function(t){t.options.__langStrings={hierarchy_goal:[\"enable_goal_status_change\",\"enable_goal_status_change_participant\",\"goal_change_status_help\"]}},p=Object(d.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"FormRowStack\",{attrs:{spacing:\"large\"}},[n(\"FormRow\",[n(\"FormCheckbox\",{attrs:{name:\"enable_status_change\"}},[t._v(\"\\n      \"+t._s(t.$str(\"enable_goal_status_change\",\"hierarchy_goal\"))+\"\\n    \")])],1),t._v(\" \"),n(\"Field\",{attrs:{name:\"enable_status_change\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[e.value?n(\"SelectParticipant\",{attrs:{\"field-name\":\"status_change_relationship\",\"help-msg\":t.$str(\"goal_change_status_help\",\"hierarchy_goal\"),label:t.$str(\"enable_goal_status_change_participant\",\"hierarchy_goal\"),relationships:t.relationships}}):t._e()]}}])})],1)}),[],!1,null,null,null);\"function\"==typeof _&&_(p),p.options.__hasBlocks={script:!0,template:!0};e.default=p.exports},fw38:function(t,e){t.exports=tui.require(\"tui/components/form/Select\")},gCJk:function(t,e,n){\"use strict\";n.r(e);var a=n(\"MAAM\"),i={components:{HelpIcon:n.n(a).a},props:{fromPrint:Boolean,status:Object,required:Boolean}},r=(n(\"sfaC\"),n(\"KHd+\")),o=function(t){t.options.__langStrings={core:[\"required\"],hierarchy_goal:[\"goal_status\",\"goal_change_status_help\"]}},s=Object(r.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"tui-goalLinkedReviewChangeStatus\",class:{\"tui-goalLinkedReviewChangeStatus--print\":t.fromPrint}},[n(\"h3\",{staticClass:\"tui-goalLinkedReviewChangeStatus__title\"},[n(\"span\",{staticClass:\"tui-goalLinkedReviewChangeStatus__title-text\",attrs:{id:t.$id(\"status_title\")}},[t._v(\"\\n      \"+t._s(t.$str(\"goal_status\",\"hierarchy_goal\"))+\"\\n    \")]),t._v(\" \"),t.required?n(\"span\",{staticClass:\"tui-goalLinkedReviewChangeStatus__title-required\"},[n(\"span\",{attrs:{\"aria-hidden\":\"true\"}},[t._v(\"*\")]),t._v(\" \"),n(\"span\",{staticClass:\"sr-only\"},[t._v(t._s(t.$str(\"required\",\"core\")))])]):t._e(),t._v(\" \"),t.fromPrint?t._e():n(\"HelpIcon\",{staticClass:\"tui-goalLinkedReviewChangeStatus__title-help\",attrs:{\"desc-id\":t.$id(\"change_status-help\"),helpmsg:t.$str(\"goal_change_status_help\",\"hierarchy_goal\")}})],1),t._v(\" \"),t.status?n(\"div\",{staticClass:\"tui-goalLinkedReviewChangeStatus__response\"},[t._t(\"display\")],2):n(\"div\",{staticClass:\"tui-goalLinkedReviewChangeStatus__form\"},[t._t(\"form\",null,{titleId:t.$id(\"status_title\")})],2)])}),[],!1,null,null,null);\"function\"==typeof o&&o(s),s.options.__hasBlocks={script:!0,template:!0};e.default=s.exports},htFo:function(t,e,n){var a={\"./constants\":\"ZBtr\",\"./constants.js\":\"ZBtr\"};function i(t){var e=r(t);return n(e)}function r(t){if(!n.o(a,t)){var e=new Error(\"Cannot find module '\"+t+\"'\");throw e.code=\"MODULE_NOT_FOUND\",e}return a[t]}i.keys=function(){return Object.keys(a)},i.resolve=r,t.exports=i,i.id=\"htFo\"},ls82:function(t,e,n){var a=function(t){\"use strict\";var e=Object.prototype,n=e.hasOwnProperty,a=\"function\"==typeof Symbol?Symbol:{},i=a.iterator||\"@@iterator\",r=a.asyncIterator||\"@@asyncIterator\",o=a.toStringTag||\"@@toStringTag\";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},\"\")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,a){var i=e&&e.prototype instanceof d?e:d,r=Object.create(i.prototype),o=new S(a||[]);return r._invoke=function(t,e,n){var a=\"suspendedStart\";return function(i,r){if(\"executing\"===a)throw new Error(\"Generator is already running\");if(\"completed\"===a){if(\"throw\"===i)throw r;return x()}for(n.method=i,n.arg=r;;){var o=n.delegate;if(o){var s=w(o,n);if(s){if(s===c)continue;return s}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(\"suspendedStart\"===a)throw a=\"completed\",n.arg;n.dispatchException(n.arg)}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);a=\"executing\";var l=u(t,e,n);if(\"normal\"===l.type){if(a=n.done?\"completed\":\"suspendedYield\",l.arg===c)continue;return{value:l.arg,done:n.done}}\"throw\"===l.type&&(a=\"completed\",n.method=\"throw\",n.arg=l.arg)}}}(t,n,o),r}function u(t,e,n){try{return{type:\"normal\",arg:t.call(e,n)}}catch(t){return{type:\"throw\",arg:t}}}t.wrap=l;var c={};function d(){}function _(){}function p(){}var h={};h[i]=function(){return this};var m=Object.getPrototypeOf,f=m&&m(m(C([])));f&&f!==e&&n.call(f,i)&&(h=f);var g=p.prototype=d.prototype=Object.create(h);function v(t){[\"next\",\"throw\",\"return\"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function y(t,e){var a;this._invoke=function(i,r){function o(){return new e((function(a,o){!function a(i,r,o,s){var l=u(t[i],t,r);if(\"throw\"!==l.type){var c=l.arg,d=c.value;return d&&\"object\"==typeof d&&n.call(d,\"__await\")?e.resolve(d.__await).then((function(t){a(\"next\",t,o,s)}),(function(t){a(\"throw\",t,o,s)})):e.resolve(d).then((function(t){c.value=t,o(c)}),(function(t){return a(\"throw\",t,o,s)}))}s(l.arg)}(i,r,a,o)}))}return a=a?a.then(o,o):o()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,\"throw\"===e.method){if(t.iterator.return&&(e.method=\"return\",e.arg=void 0,w(t,e),\"throw\"===e.method))return c;e.method=\"throw\",e.arg=new TypeError(\"The iterator does not provide a 'throw' method\")}return c}var a=u(n,t.iterator,e.arg);if(\"throw\"===a.type)return e.method=\"throw\",e.arg=a.arg,e.delegate=null,c;var i=a.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,\"return\"!==e.method&&(e.method=\"next\",e.arg=void 0),e.delegate=null,c):i:(e.method=\"throw\",e.arg=new TypeError(\"iterator result is not an object\"),e.delegate=null,c)}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(b,this),this.reset(!0)}function C(t){if(t){var e=t[i];if(e)return e.call(t);if(\"function\"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function e(){for(;++a<t.length;)if(n.call(t,a))return e.value=t[a],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:x}}function x(){return{value:void 0,done:!0}}return _.prototype=g.constructor=p,p.constructor=_,_.displayName=s(p,o,\"GeneratorFunction\"),t.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===_||\"GeneratorFunction\"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,o,\"GeneratorFunction\")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},v(y.prototype),y.prototype[r]=function(){return this},t.AsyncIterator=y,t.async=function(e,n,a,i,r){void 0===r&&(r=Promise);var o=new y(l(e,n,a,i),r);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},v(g),s(g,o,\"Generator\"),g[i]=function(){return this},g.toString=function(){return\"[object Generator]\"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var a=e.pop();if(a in t)return n.value=a,n.done=!1,n}return n.done=!0,n}},t.values=C,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)\"t\"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function a(n,a){return o.type=\"throw\",o.arg=t,e.next=n,a&&(e.method=\"next\",e.arg=void 0),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],o=r.completion;if(\"root\"===r.tryLoc)return a(\"end\");if(r.tryLoc<=this.prev){var s=n.call(r,\"catchLoc\"),l=n.call(r,\"finallyLoc\");if(s&&l){if(this.prev<r.catchLoc)return a(r.catchLoc,!0);if(this.prev<r.finallyLoc)return a(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return a(r.catchLoc,!0)}else{if(!l)throw new Error(\"try statement without catch or finally\");if(this.prev<r.finallyLoc)return a(r.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a];if(i.tryLoc<=this.prev&&n.call(i,\"finallyLoc\")&&this.prev<i.finallyLoc){var r=i;break}}r&&(\"break\"===t||\"continue\"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method=\"next\",this.next=r.finallyLoc,c):this.complete(o)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),c}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var a=n.completion;if(\"throw\"===a.type){var i=a.arg;k(n)}return i}}throw new Error(\"illegal catch attempt\")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},\"next\"===this.method&&(this.arg=void 0),c}},t}(t.exports);try{regeneratorRuntime=a}catch(t){Function(\"r\",\"regeneratorRuntime = r\")(a)}},n4Rv:function(t,e){t.exports=tui.require(\"totara_hierarchy/components/adder/PersonalGoalAdder\")},nEm4:function(t,e){t.exports=tui.require(\"tui/components/form/Form\")},o0o1:function(t,e,n){t.exports=n(\"ls82\")},sTUC:function(t,e,n){var a={\"./ChangeStatus\":\"gCJk\",\"./ChangeStatus.vue\":\"gCJk\",\"./ChangeStatusForm\":\"cYJj\",\"./ChangeStatusForm.vue\":\"cYJj\",\"./ChangeStatusFormPreview\":\"2HWd\",\"./ChangeStatusFormPreview.vue\":\"2HWd\",\"./performelement_linked_review/AdminEdit\":\"fKie\",\"./performelement_linked_review/AdminEdit.vue\":\"fKie\",\"./performelement_linked_review/AdminView\":\"1xhN\",\"./performelement_linked_review/AdminView.vue\":\"1xhN\",\"./performelement_linked_review/ParticipantContent\":\"QLIE\",\"./performelement_linked_review/ParticipantContent.vue\":\"QLIE\",\"./performelement_linked_review/ParticipantContentPicker\":\"ed5N\",\"./performelement_linked_review/ParticipantContentPicker.vue\":\"ed5N\"};function i(t){var e=r(t);return n(e)}function r(t){if(!n.o(a,t)){var e=new Error(\"Cannot find module '\"+t+\"'\");throw e.code=\"MODULE_NOT_FOUND\",e}return a[t]}i.keys=function(){return Object.keys(a)},i.resolve=r,t.exports=i,i.id=\"sTUC\"},sfaC:function(t,e){},uUVa:function(t,e){},uzDG:function(t,e){t.exports=tui.require(\"hierarchy_goal/components/performelement_linked_review/ParticipantContent\")},vF5l:function(t,e){t.exports=tui.require(\"tui/components/buttons/Button\")},vyVp:function(t,e){t.exports=tui.require(\"tui/notifications\")},wcN6:function(t,e){t.exports=tui.require(\"tui/components/reform/Field\")},yXPU:function(t,e){function n(t,e,n,a,i,r,o){try{var s=t[r](o),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(a,i)}t.exports=function(t){return function(){var e=this,a=arguments;return new Promise((function(i,r){var o=t.apply(e,a);function s(t){n(o,i,r,s,l,\"next\",t)}function l(t){n(o,i,r,s,l,\"throw\",t)}s(void 0)}))}},t.exports.default=t.exports,t.exports.__esModule=!0}});","extractedComments":[]}