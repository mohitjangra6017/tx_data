{"code":"!function(t){var e={};function a(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,\"a\",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p=\"\",a(a.s=\"4bp9\")}({\"+Gia\":function(t,e){t.exports=tui.require(\"performelement_linked_review/components/SelectParticipant\")},\"1xhN\":function(t,e,a){\"use strict\";a.r(e);var n=a(\"uzDG\"),i=a.n(n),s={kind:\"Document\",definitions:[{kind:\"OperationDefinition\",operation:\"query\",name:{kind:\"Name\",value:\"totara_webapi_status\"},variableDefinitions:[],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"totara_webapi_status\"},arguments:[],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"status\"},arguments:[],directives:[]},{kind:\"Field\",name:{kind:\"Name\",value:\"timestamp\"},arguments:[],directives:[]},{kind:\"Field\",alias:{kind:\"Name\",value:\"date\"},name:{kind:\"Name\",value:\"timestamp\"},arguments:[{kind:\"Argument\",name:{kind:\"Name\",value:\"format\"},value:{kind:\"EnumValue\",value:\"DATELONG\"}}],directives:[]}]}}]}}]},r=a(\"ZBtr\"),o={components:{ParticipantContent:i.a},props:{data:{type:Object,required:!0}},data:()=>({dateToday:\"01/01/1970\"}),apollo:{dateToday:{query:s,update:({totara_webapi_status:t})=>t.date}},computed:{goalScope(){switch(this.data.content_type){case r.PERSONAL_GOAL:return r.GOAL_SCOPE_PERSONAL;case r.COMPANY_GOAL:return r.GOAL_SCOPE_COMPANY;default:return null}}},methods:{getPreviewData(){return{goal:{display_name:this.$str(\"example_goal_title\",\"hierarchy_goal\"),description:this.$str(\"example_goal_description\",\"hierarchy_goal\"),goal_scope:this.goalScope},target_date:this.dateToday,status:this.$str(\"example_goal_status\",\"hierarchy_goal\"),completed:!1}}}},l=a(\"KHd+\"),u=function(t){t.options.__langStrings={hierarchy_goal:[\"example_goal_description\",\"example_goal_status\",\"example_goal_title\"]}},c=Object(l.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return this.$apollo.loading?this._e():e(\"ParticipantContent\",{attrs:{content:this.getPreviewData(),preview:!0}})}),[],!1,null,null,null);\"function\"==typeof u&&u(c),c.options.__hasBlocks={script:!0,template:!0};e.default=c.exports},\"2HWd\":function(t,e,a){\"use strict\";a.r(e);var n=a(\"nEm4\"),i=a.n(n),s=a(\"fw38\"),r=a.n(s),o=a(\"XJDp\"),l=a.n(o),u={components:{Form:i.a,FormSelect:r.a,ChangeStatus:l.a},props:{settings:Object},computed:{scaleValueOptions(){return[{id:null,label:this.$str(\"goal_status_select\",\"hierarchy_goal\")}]}}},c=a(\"KHd+\"),_=function(t){t.options.__langStrings={hierarchy_goal:[\"goal_status_select\"]}},d=Object(c.a)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.settings.enable_status_change,expression:\"settings.enable_status_change\"}],staticClass:\"tui-linkedReviewChangeStatusFormPreview\"},[t.settings.enable_status_change?a(\"ChangeStatus\",{attrs:{required:!0},scopedSlots:t._u([{key:\"form\",fn:function(e){var n=e.titleId;return[a(\"div\",{staticClass:\"tui-linkedReviewChangeStatusFormPreview__form\"},[a(\"Form\",{attrs:{\"input-width\":\"full\",vertical:!0}},[a(\"FormSelect\",{attrs:{\"aria-labelledby\":n,options:t.scaleValueOptions,\"char-length\":\"15\",value:null}})],1)],1)]}}],null,!1,1569446725)}):t._e()],1)}),[],!1,null,null,null);\"function\"==typeof _&&_(d),d.options.__hasBlocks={script:!0,template:!0};e.default=d.exports},\"4bp9\":function(t,e,a){!function(){\"use strict\";\"undefined\"!=typeof tui&&tui._bundle.isLoaded(\"hierarchy_goal\")?console.warn('[tui bundle] The bundle \"hierarchy_goal\" is already loaded, skipping initialisation.'):(tui._bundle.register(\"hierarchy_goal\"),tui._bundle.addModulesFromContext(\"hierarchy_goal\",a(\"htFo\")),tui._bundle.addModulesFromContext(\"hierarchy_goal/components\",a(\"sTUC\")))}()},\"C+/B\":function(t,e){t.exports=tui.require(\"tui/components/modal/ConfirmationModal\")},D9If:function(t,e){t.exports=tui.require(\"tui/components/grid/GridItem\")},DRwC:function(t,e,a){},GfQT:function(t,e){t.exports=tui.require(\"performelement_linked_review/components/SelectContent\")},\"KHd+\":function(t,e,a){\"use strict\";function n(t,e,a,n,i,s,r,o){var l,u=\"function\"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=a,u._compiled=!0),n&&(u.functional=!0),s&&(u._scopeId=\"data-v-\"+s),r?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},u._ssrRegister=l):i&&(l=o?function(){i.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(t,e){return l.call(e),c(t,e)}}else{var _=u.beforeCreate;u.beforeCreate=_?[].concat(_,l):[l]}return{exports:t,options:u}}a.d(e,\"a\",(function(){return n}))},\"M/Hr\":function(t,e,a){},M5ok:function(t,e){t.exports=tui.require(\"totara_hierarchy/components/adder/AssignedCompanyGoalAdder\")},MAAM:function(t,e){t.exports=tui.require(\"tui/components/form/HelpIcon\")},NAOU:function(t,e){t.exports=tui.require(\"tui/components/grid/Grid\")},QLIE:function(t,e,a){\"use strict\";a.r(e);var n=a(\"NAOU\"),i=a.n(n),s=a(\"D9If\"),r=a.n(s),o=a(\"ZBtr\"),l={components:{Grid:i.a,GridItem:r.a},props:{content:{type:Object},createdAt:String,fromPrint:Boolean,isExternalParticipant:Boolean,preview:Boolean},computed:{contentTypeDisplayName(){switch(this.content.goal.goal_scope){case o.GOAL_SCOPE_PERSONAL:return this.$str(\"personalgoal\",\"totara_hierarchy\");case o.GOAL_SCOPE_COMPANY:return this.$str(\"companygoal\",\"totara_hierarchy\");default:return\"\"}},goalUrl(){return this.content?this.content.goal.goal_scope===o.GOAL_SCOPE_COMPANY?this.$url(\"/totara/hierarchy/item/view.php\",{id:this.content.goal.id,prefix:\"goal\"}):this.$url(\"/totara/hierarchy/prefix/goal/item/view.php\",{id:this.content.goal.id}):\"\"},goalContentExists(){return!(!this.content||!this.content.goal)&&(\"COMPANY\"===this.content.goal.goal_scope?this.content.goal&&this.content.status:!!this.content.goal)},goalBarVisible(){return this.content.status||this.content.target_date}}},u=(a(\"X6Jm\"),a(\"KHd+\")),c=function(t){t.options.__langStrings={hierarchy_goal:[\"goal_status\",\"target_date\",\"perform_review_goal_missing\",\"selected_goal\"],totara_hierarchy:[\"companygoal\",\"personalgoal\"]}},_=Object(u.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.goalContentExists?a(\"div\",{staticClass:\"tui-linkedReviewViewGoal\",class:{\"tui-linkedReviewViewGoal--print\":t.fromPrint}},[t.contentTypeDisplayName?a(\"div\",{staticClass:\"tui-linkedReviewViewGoal__contentType\"},[t._v(\"\\n    \"+t._s(t.contentTypeDisplayName)+\"\\n  \")]):t._e(),t._v(\" \"),a(\"h4\",{staticClass:\"tui-linkedReviewViewGoal__title\"},[t.fromPrint||t.preview||t.isExternalParticipant||!t.content.can_view_goal_details?[t._v(\"\\n      \"+t._s(t.content.goal.display_name)+\"\\n    \")]:a(\"a\",{attrs:{\"aria-label\":t.$str(\"selected_goal\",\"hierarchy_goal\",t.content.goal.display_name),href:t.goalUrl}},[t._v(\"\\n      \"+t._s(t.content.goal.display_name)+\"\\n    \")])],2),t._v(\" \"),a(\"div\",{staticClass:\"tui-linkedReviewViewGoal__description\",domProps:{innerHTML:t._s(t.content.goal.description)}}),t._v(\" \"),a(\"div\",{staticClass:\"tui-linkedReviewViewGoal__overview\"},[t.preview?t._e():a(\"div\",{staticClass:\"tui-linkedReviewViewGoal__timestamp\"},[t._v(\"\\n      \"+t._s(t.createdAt)+\"\\n    \")]),t._v(\" \"),t.goalBarVisible?a(\"div\",{staticClass:\"tui-linkedReviewViewGoal__bar\"},[a(\"Grid\",{attrs:{\"stack-at\":600}},[a(\"GridItem\",{attrs:{units:3}},[t.content.status?a(\"div\",{staticClass:\"tui-linkedReviewViewGoal__bar-status\"},[a(\"span\",{staticClass:\"tui-linkedReviewViewGoal__bar-statusLabel\"},[t._v(\"\\n              \"+t._s(t.$str(\"goal_status\",\"hierarchy_goal\"))+\"\\n            \")]),t._v(\" \"),a(\"span\",{staticClass:\"tui-linkedReviewViewGoal__bar-statusValue\"},[t._v(\"\\n              \"+t._s(t.content.status.name)+\"\\n            \")])]):t._e()]),t._v(\" \"),a(\"GridItem\",{attrs:{units:5}},[t.content.target_date?a(\"div\",{staticClass:\"tui-linkedReviewViewGoal__bar-wrap\"},[a(\"span\",{staticClass:\"tui-linkedReviewViewGoal__bar-label\"},[t._v(\"\\n              \"+t._s(t.$str(\"target_date\",\"hierarchy_goal\"))+\"\\n            \")]),t._v(\" \"),a(\"span\",{staticClass:\"tui-linkedReviewViewGoal__bar-value\"},[t._v(\"\\n              \"+t._s(t.content.target_date)+\"\\n            \")])]):t._e()])],1)],1):t._e()])]):a(\"div\",{staticClass:\"tui-linkedReviewViewGoal__missing\"},[t._v(\"\\n  \"+t._s(t.$str(\"perform_review_goal_missing\",\"hierarchy_goal\"))+\"\\n\")])}),[],!1,null,null,null);\"function\"==typeof c&&c(_),_.options.__hasBlocks={script:!0,template:!0};e.default=_.exports},VX2K:function(t,e){t.exports=tui.require(\"tui/components/form/Radio\")},WBvU:function(t,e){t.exports=tui.require(\"tui/components/uniform\")},X6Jm:function(t,e,a){\"use strict\";var n=a(\"DRwC\");a.n(n).a},XJDp:function(t,e){t.exports=tui.require(\"hierarchy_goal/components/ChangeStatus\")},ZBtr:function(t,e,a){\"use strict\";a.r(e),a.d(e,\"COMPANY_GOAL\",(function(){return n})),a.d(e,\"PERSONAL_GOAL\",(function(){return i})),a.d(e,\"GOAL_SCOPE_COMPANY\",(function(){return s})),a.d(e,\"GOAL_SCOPE_PERSONAL\",(function(){return r}));const n=\"company_goal\",i=\"personal_goal\",s=\"COMPANY\",r=\"PERSONAL\"},cYJj:function(t,e,a){\"use strict\";a.r(e);var n=a(\"vF5l\"),i=a.n(n),s=a(\"XJDp\"),r=a.n(s),o=a(\"C+/B\"),l=a.n(o),u=a(\"WBvU\"),c=a(\"NAOU\"),_=a.n(c),d=a(\"D9If\"),p=a.n(d),m=a(\"VX2K\"),h=a.n(m),g=a(\"vyVp\"),v=a(\"ZBtr\"),f={kind:\"Document\",definitions:[{kind:\"OperationDefinition\",operation:\"mutation\",name:{kind:\"Name\",value:\"hierarchy_goal_perform_linked_goals_change_status\"},variableDefinitions:[{kind:\"VariableDefinition\",variable:{kind:\"Variable\",name:{kind:\"Name\",value:\"input\"}},type:{kind:\"NonNullType\",type:{kind:\"NamedType\",name:{kind:\"Name\",value:\"hierarchy_goal_perform_linked_goals_change_status_input\"}}},directives:[]}],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"hierarchy_goal_perform_linked_goals_change_status\"},arguments:[{kind:\"Argument\",name:{kind:\"Name\",value:\"input\"},value:{kind:\"Variable\",name:{kind:\"Name\",value:\"input\"}}}],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"perform_status\"},arguments:[],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"status_changer_user\"},arguments:[],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"fullname\"},arguments:[],directives:[]}]}},{kind:\"Field\",name:{kind:\"Name\",value:\"scale_value\"},arguments:[],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",name:{kind:\"Name\",value:\"name\"},arguments:[],directives:[]},{kind:\"Field\",name:{kind:\"Name\",value:\"proficient\"},arguments:[],directives:[]}]}},{kind:\"Field\",name:{kind:\"Name\",value:\"created_at\"},arguments:[{kind:\"Argument\",name:{kind:\"Name\",value:\"format\"},value:{kind:\"EnumValue\",value:\"DATE\"}}],directives:[]}]}},{kind:\"Field\",name:{kind:\"Name\",value:\"already_exists\"},arguments:[],directives:[]}]}}]}}]},y={components:{Button:i.a,ChangeStatus:r.a,ConfirmationModal:l.a,FormRadioGroup:u.FormRadioGroup,FormRow:u.FormRow,FormSelect:u.FormSelect,Grid:_.a,GridItem:p.a,Radio:h.a,Uniform:u.Uniform},props:{content:{type:Object,required:!0},elementData:Object,fromPrint:Boolean,participantInstanceId:[String,Number],required:Boolean,sectionElementId:[String,Number],subjectUser:{type:Object,required:!0}},data(){return{contentTypeSettings:this.elementData.content_type_settings,data:this.content,initialValues:{status:0},isSaving:!1,modalOpen:!1,selectedGoalStatusId:0}},computed:{statusOptions(){let t={id:0,label:this.$str(\"goal_status_select\",\"hierarchy_goal\")};if(!this.data.scale_values)return[t];let e=this.data.scale_values;return e=e.map(t=>({id:t.id,label:t.name})),this.fromPrint||e.unshift(t),e},userRelationship(){return this.contentTypeSettings.status_change_relationship_name},isPersonalGoal(){return this.elementData.content_type===v.PERSONAL_GOAL},isStatusChangePossible(){return this.contentTypeSettings.enable_status_change&&this.goalContentExists},goalContentExists(){return!!this.content&&(this.isPersonalGoal?!!this.content.goal:this.content.goal&&this.content.status)}},methods:{confirmGoalSelection(t){this.selectedGoalStatusId=t.status,0!==this.selectedGoalStatusId&&(this.modalOpen=!0)},async saveGoal(){this.isSaving=!0;try{const t=(await this.$apollo.mutate({mutation:f,variables:{input:{participant_instance_id:this.participantInstanceId,goal_assignment_id:this.data.id,goal_type:this.data.goal.goal_scope,scale_value_id:this.selectedGoalStatusId,section_element_id:this.sectionElementId}}})).data.hierarchy_goal_perform_linked_goals_change_status;t.already_exists?this.$emit(\"show-banner\",this.$str(\"goal_exists_message\",\"hierarchy_goal\")):(this.data=Object.assign({},this.data,{status_change:t.perform_status}),Object(g.notify)({message:this.$str(\"goal_status_updated\",\"hierarchy_goal\"),type:\"success\"}))}catch(t){Object(g.notify)({message:this.$str(\"goal_status_updated_error\",\"hierarchy_goal\"),type:\"error\"})}this.isSaving=!1,this.cancelGoal()},cancelGoal(){this.selectedGoalStatusId=0,this.modalOpen=!1},selectedScaleValueName(){if(0===this.selectedGoalStatusId)return;return this.data.scale_values.find(t=>t.id===this.selectedGoalStatusId).name}}},k=(a(\"uUVa\"),a(\"KHd+\")),C=function(t){t.options.__langStrings={hierarchy_goal:[\"a11y_goal_status_updated_date\",\"goal_status_updated_error\",\"goal_confirmation_body_1\",\"goal_confirmation_body_2\",\"goal_exists_message\",\"goal_updated_by\",\"goal_status_select\",\"goal_status_response_subject\",\"goal_status_answered_by_other\",\"goal_status_updated\",\"goal_scale_unavailable\",\"updated_goal_status\",\"submit_status\",\"submit_goal_title\"]}},S=Object(k.a)(y,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isStatusChangePossible?a(\"div\",{staticClass:\"tui-linkedReviewChangeStatus\"},[a(\"ChangeStatus\",{attrs:{\"from-print\":t.fromPrint,status:t.data.status_change,required:t.required},scopedSlots:t._u([{key:\"display\",fn:function(){return[a(\"Grid\",{staticClass:\"tui-linkedReviewChangeStatus__summary\",attrs:{\"stack-at\":700}},[a(\"GridItem\",{attrs:{units:4}},[[a(\"span\",[t._v(\"\\n              \"+t._s(t.$str(\"goal_updated_by\",\"hierarchy_goal\",{user:t.data.status_change.status_changer_user.fullname,relationship:t.userRelationship}))+\"\\n            \")])]],2),t._v(\" \"),a(\"GridItem\",{attrs:{units:2}},[a(\"span\",{staticClass:\"tui-linkedReviewChangeStatus__summary-dateAccessibleTitle\"},[t._v(\"\\n            \"+t._s(t.$str(\"a11y_goal_status_updated_date\",\"hierarchy_goal\"))+\"\\n          \")]),t._v(\" \"),a(\"span\",[t._v(t._s(t.data.status_change.created_at))])]),t._v(\" \"),a(\"GridItem\",{attrs:{units:6}},[t.data.status_change?[a(\"span\",{staticClass:\"tui-linkedReviewChangeStatus__summary-status\"},[t._v(\"\\n              \"+t._s(t.$str(\"updated_goal_status\",\"hierarchy_goal\",t.data.status_change.scale_value.name))+\"\\n            \")])]:t._e()],2)],1)]},proxy:!0},{key:\"form\",fn:function(e){var n=e.titleId;return[t.content.can_change_status&&t.content.scale_values?a(\"Uniform\",{staticClass:\"tui-linkedReviewChangeStatus__form\",attrs:{\"input-width\":\"full\",vertical:!0,\"initial-values\":t.initialValues},on:{submit:t.confirmGoalSelection}},[t.fromPrint?a(\"FormRow\",{attrs:{label:t.$str(\"goal_status_response_subject\",\"hierarchy_goal\",t.userRelationship)}},[a(\"FormRadioGroup\",{attrs:{name:\"status\"}},t._l(t.statusOptions,(function(e){return a(\"Radio\",{key:e.id,attrs:{value:e.id}},[t._v(\"\\n              \"+t._s(e.label)+\"\\n            \")])})),1)],1):a(\"FormRow\",{attrs:{label:t.$str(\"goal_status_response_subject\",\"hierarchy_goal\",t.userRelationship)}},[a(\"div\",{staticClass:\"tui-linkedReviewChangeStatus__statusWrapper\"},[a(\"FormSelect\",{attrs:{\"aria-labelledby\":n,name:\"status\",options:t.statusOptions,\"char-length\":\"15\"}}),t._v(\" \"),a(\"div\",[a(\"Button\",{attrs:{styleclass:{primary:!0,small:!0},text:t.$str(\"submit_status\",\"hierarchy_goal\"),type:\"submit\"}})],1)],1)])],1):t.isPersonalGoal&&!t.content.scale_values?a(\"div\",{staticClass:\"tui-linkedReviewChangeStatus__unavailableMessage\"},[t._v(\"\\n        \"+t._s(t.$str(\"goal_scale_unavailable\",\"hierarchy_goal\"))+\"\\n      \")]):t._e(),t._v(\" \"),!t.content.can_change_status&&t.content.scale_values?a(\"div\",{staticClass:\"tui-linkedReviewChangeStatus__answeredBy\"},[t._v(\"\\n        \"+t._s(t.$str(\"goal_status_answered_by_other\",\"hierarchy_goal\",t.userRelationship))+\"\\n      \")]):t._e()]}}],null,!1,3646000569)}),t._v(\" \"),a(\"ConfirmationModal\",{attrs:{open:t.modalOpen,title:t.$str(\"submit_goal_title\",\"hierarchy_goal\"),\"confirm-button-text\":t.$str(\"submit_status\",\"hierarchy_goal\"),loading:t.isSaving},on:{confirm:t.saveGoal,cancel:t.cancelGoal}},[a(\"p\",{domProps:{innerHTML:t._s(t.$str(\"goal_confirmation_body_1\",\"hierarchy_goal\",{goal_name:t.content.goal.display_name,scale_value:t.selectedScaleValueName(),user:t.subjectUser.fullname}))}}),t._v(\" \"),a(\"div\",[t._v(t._s(t.$str(\"goal_confirmation_body_2\",\"hierarchy_goal\")))])])],1):t._e()}),[],!1,null,null,null);\"function\"==typeof C&&C(S),S.options.__hasBlocks={script:!0,template:!0};e.default=S.exports},csKv:function(t,e){t.exports=tui.require(\"tui/components/form/FormRowStack\")},ed5N:function(t,e,a){\"use strict\";a.r(e);var n=a(\"M5ok\"),i=a.n(n),s=a(\"n4Rv\"),r=a.n(s),o=a(\"GfQT\"),l=a.n(o),u=a(\"ZBtr\"),c={components:{AssignedCompanyGoalAdder:i.a,PersonalGoalAdder:r.a,SelectContent:l.a},props:{canShowAdder:{type:Boolean,required:!0},contentType:String,coreRelationship:Array,isDraft:Boolean,participantInstanceId:{type:[String,Number],required:!0},previewComponent:[Function,Object],required:Boolean,sectionElementId:String,subjectUser:Object,userId:Number},methods:{getAddBtnText(){return this.contentType===u.COMPANY_GOAL?this.$str(\"add_company_goals\",\"hierarchy_goal\"):this.$str(\"add_personal_goals\",\"hierarchy_goal\")},getCantAddText(){return this.contentType===u.COMPANY_GOAL?this.$str(\"awaiting_company_selection_text\",\"hierarchy_goal\",this.coreRelationship[0].name):this.$str(\"awaiting_personal_selection_text\",\"hierarchy_goal\",this.coreRelationship[0].name)},getRemoveText(){return this.contentType===u.COMPANY_GOAL?this.$str(\"remove_company_goal\",\"hierarchy_goal\"):this.$str(\"remove_personal_goal\",\"hierarchy_goal\")},getAdder(){return this.contentType===u.COMPANY_GOAL?i.a:r.a},getItemData(t){return this.contentType===u.COMPANY_GOAL?{goal:{display_name:t.goal.full_name,description:t.goal.description,id:t.goal.id},target_date:t.goal.target_date,status:t.scale_value,content_type:this.contentType}:{goal:{display_name:t.name,description:t.description,id:t.id},target_date:t.target_date,status:t.scale_value,content_type:this.contentType}}}},_=a(\"KHd+\"),d=function(t){t.options.__langStrings={hierarchy_goal:[\"add_company_goals\",\"add_personal_goals\",\"awaiting_company_selection_text\",\"awaiting_personal_selection_text\",\"remove_company_goal\",\"remove_personal_goal\"]}},p=Object(_.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"SelectContent\",{attrs:{adder:t.getAdder(),\"add-btn-text\":t.getAddBtnText(),\"can-show-adder\":t.canShowAdder,\"cant-add-text\":t.getCantAddText(),\"is-draft\":t.isDraft,\"participant-instance-id\":t.participantInstanceId,\"remove-text\":t.getRemoveText(),required:t.required,\"section-element-id\":t.sectionElementId,\"user-id\":t.userId},on:{\"unsaved-plugin-change\":function(e){return t.$emit(\"unsaved-plugin-change\",e)},update:function(e){return t.$emit(\"update\",e)}},scopedSlots:t._u([{key:\"content-preview\",fn:function(e){var n=e.content;return[a(t.previewComponent,{tag:\"component\",attrs:{content:t.getItemData(n),\"subject-user\":t.subjectUser}})]}}])})}),[],!1,null,null,null);\"function\"==typeof d&&d(p),p.options.__hasBlocks={script:!0,template:!0};e.default=p.exports},fKie:function(t,e,a){\"use strict\";a.r(e);var n=a(\"wcN6\"),i=a.n(n),s=a(\"WBvU\"),r=a(\"csKv\"),o=a.n(r),l=a(\"+Gia\"),u=a.n(l),c={components:{Field:i.a,FormRowStack:o.a,FormCheckbox:s.FormCheckbox,FormRow:s.FormRow,SelectParticipant:u.a},inheritAttrs:!1,props:{relationships:Array}},_=a(\"KHd+\"),d=function(t){t.options.__langStrings={hierarchy_goal:[\"enable_goal_status_change\",\"enable_goal_status_change_participant\",\"goal_change_status_help\"]}},p=Object(_.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"FormRowStack\",{attrs:{spacing:\"large\"}},[a(\"FormRow\",[a(\"FormCheckbox\",{attrs:{name:\"enable_status_change\"}},[t._v(\"\\n      \"+t._s(t.$str(\"enable_goal_status_change\",\"hierarchy_goal\"))+\"\\n    \")])],1),t._v(\" \"),a(\"Field\",{attrs:{name:\"enable_status_change\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[e.value?a(\"SelectParticipant\",{attrs:{\"field-name\":\"status_change_relationship\",\"help-msg\":t.$str(\"goal_change_status_help\",\"hierarchy_goal\"),label:t.$str(\"enable_goal_status_change_participant\",\"hierarchy_goal\"),relationships:t.relationships}}):t._e()]}}])})],1)}),[],!1,null,null,null);\"function\"==typeof d&&d(p),p.options.__hasBlocks={script:!0,template:!0};e.default=p.exports},fw38:function(t,e){t.exports=tui.require(\"tui/components/form/Select\")},gCJk:function(t,e,a){\"use strict\";a.r(e);var n=a(\"MAAM\"),i={components:{HelpIcon:a.n(n).a},props:{fromPrint:Boolean,status:Object,required:Boolean}},s=(a(\"sfaC\"),a(\"KHd+\")),r=function(t){t.options.__langStrings={core:[\"required\"],hierarchy_goal:[\"goal_status\",\"goal_change_status_help\"]}},o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"tui-goalLinkedReviewChangeStatus\",class:{\"tui-goalLinkedReviewChangeStatus--print\":t.fromPrint}},[a(\"h3\",{staticClass:\"tui-goalLinkedReviewChangeStatus__title\"},[a(\"span\",{staticClass:\"tui-goalLinkedReviewChangeStatus__title-text\",attrs:{id:t.$id(\"status_title\")}},[t._v(\"\\n      \"+t._s(t.$str(\"goal_status\",\"hierarchy_goal\"))+\"\\n    \")]),t._v(\" \"),t.required?a(\"span\",{staticClass:\"tui-goalLinkedReviewChangeStatus__title-required\"},[a(\"span\",{attrs:{\"aria-hidden\":\"true\"}},[t._v(\"*\")]),t._v(\" \"),a(\"span\",{staticClass:\"sr-only\"},[t._v(t._s(t.$str(\"required\",\"core\")))])]):t._e(),t._v(\" \"),t.fromPrint?t._e():a(\"HelpIcon\",{staticClass:\"tui-goalLinkedReviewChangeStatus__title-help\",attrs:{\"desc-id\":t.$id(\"change_status-help\"),helpmsg:t.$str(\"goal_change_status_help\",\"hierarchy_goal\")}})],1),t._v(\" \"),t.status?a(\"div\",{staticClass:\"tui-goalLinkedReviewChangeStatus__response\"},[t._t(\"display\")],2):a(\"div\",{staticClass:\"tui-goalLinkedReviewChangeStatus__form\"},[t._t(\"form\",null,{titleId:t.$id(\"status_title\")})],2)])}),[],!1,null,null,null);\"function\"==typeof r&&r(o),o.options.__hasBlocks={script:!0,template:!0};e.default=o.exports},htFo:function(t,e,a){var n={\"./constants\":\"ZBtr\",\"./constants.js\":\"ZBtr\"};function i(t){var e=s(t);return a(e)}function s(t){if(!a.o(n,t)){var e=new Error(\"Cannot find module '\"+t+\"'\");throw e.code=\"MODULE_NOT_FOUND\",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=s,t.exports=i,i.id=\"htFo\"},kA2V:function(t,e,a){},n4Rv:function(t,e){t.exports=tui.require(\"totara_hierarchy/components/adder/PersonalGoalAdder\")},nEm4:function(t,e){t.exports=tui.require(\"tui/components/form/Form\")},sTUC:function(t,e,a){var n={\"./ChangeStatus\":\"gCJk\",\"./ChangeStatus.vue\":\"gCJk\",\"./ChangeStatusForm\":\"cYJj\",\"./ChangeStatusForm.vue\":\"cYJj\",\"./ChangeStatusFormPreview\":\"2HWd\",\"./ChangeStatusFormPreview.vue\":\"2HWd\",\"./performelement_linked_review/AdminEdit\":\"fKie\",\"./performelement_linked_review/AdminEdit.vue\":\"fKie\",\"./performelement_linked_review/AdminView\":\"1xhN\",\"./performelement_linked_review/AdminView.vue\":\"1xhN\",\"./performelement_linked_review/ParticipantContent\":\"QLIE\",\"./performelement_linked_review/ParticipantContent.vue\":\"QLIE\",\"./performelement_linked_review/ParticipantContentPicker\":\"ed5N\",\"./performelement_linked_review/ParticipantContentPicker.vue\":\"ed5N\"};function i(t){var e=s(t);return a(e)}function s(t){if(!a.o(n,t)){var e=new Error(\"Cannot find module '\"+t+\"'\");throw e.code=\"MODULE_NOT_FOUND\",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=s,t.exports=i,i.id=\"sTUC\"},sfaC:function(t,e,a){\"use strict\";var n=a(\"kA2V\");a.n(n).a},uUVa:function(t,e,a){\"use strict\";var n=a(\"M/Hr\");a.n(n).a},uzDG:function(t,e){t.exports=tui.require(\"hierarchy_goal/components/performelement_linked_review/ParticipantContent\")},vF5l:function(t,e){t.exports=tui.require(\"tui/components/buttons/Button\")},vyVp:function(t,e){t.exports=tui.require(\"tui/notifications\")},wcN6:function(t,e){t.exports=tui.require(\"tui/components/reform/Field\")}});","extractedComments":[]}