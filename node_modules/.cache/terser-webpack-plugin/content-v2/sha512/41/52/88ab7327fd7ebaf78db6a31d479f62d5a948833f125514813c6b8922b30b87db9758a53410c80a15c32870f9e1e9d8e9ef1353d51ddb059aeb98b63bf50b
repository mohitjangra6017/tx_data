{"code":"!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=\"XHwV\")}({1613:function(e,t){},\"2wx7\":function(e,t){e.exports=tui.require(\"editor_weka/components/Weka\")},\"3fRK\":function(e,t){e.exports=tui.require(\"performelement_long_text/components/WekaWrapper\")},\"4BlC\":function(e,t){e.exports=tui.require(\"tui/validation\")},\"5yCo\":function(e,t,n){\"use strict\";n.r(t);var i=n(\"kkOl\"),r=n.n(i);t.default={props:{value:{type:Object,required:!1}},data:function(){return{content:this.value?r.a.fromDoc(this.value):r.a.empty()}},methods:{update:function(e){e.isEmpty&&this.$emit(\"update\",null),this.$emit(\"update\",e.getDoc())}},render:function(){return this.$scopedSlots.default({value:this.content,update:this.update})}}},\"7dYr\":function(e,t){e.exports=tui.require(\"tui/components/form/NotepadLines\")},\"8km3\":function(e,t){e.exports=tui.require(\"mod_perform/components/element/PerformAdminCustomElementEdit\")},\"9Gb+\":function(e,t,n){\"use strict\";n.r(t);var i=n(\"HqhK\"),r={components:{PerformAdminCustomElementSummary:n.n(i).a},inheritAttrs:!1,props:{identifier:String,isRequired:Boolean,settings:Object,title:String}},o=n(\"KHd+\"),a=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"tui-longTextAdminSummary\"},[n(\"PerformAdminCustomElementSummary\",{attrs:{identifier:e.identifier,\"is-required\":e.isRequired,settings:e.settings,title:e.title},on:{display:function(t){return e.$emit(\"display\")}}})],1)}),[],!1,null,null,null);a.options.__hasBlocks={script:!0,template:!0};t.default=a.exports},HqhK:function(e,t){e.exports=tui.require(\"mod_perform/components/element/PerformAdminCustomElementSummary\")},I6xB:function(e,t,n){\"use strict\";n.r(t);var i=n(\"hQxJ\"),r=n.n(i),o=n(\"WBvU\"),a=n(\"lgQG\"),s=n.n(a),u=n(\"2wx7\"),l=n.n(u),d=n(\"3fRK\"),c=n.n(d),p=n(\"4BlC\"),m={kind:\"Document\",definitions:[{kind:\"OperationDefinition\",operation:\"query\",name:{kind:\"Name\",value:\"performelement_long_text_get_draft_id\"},variableDefinitions:[{kind:\"VariableDefinition\",variable:{kind:\"Variable\",name:{kind:\"Name\",value:\"section_element_id\"}},type:{kind:\"NonNullType\",type:{kind:\"NamedType\",name:{kind:\"Name\",value:\"core_id\"}}},directives:[]},{kind:\"VariableDefinition\",variable:{kind:\"Variable\",name:{kind:\"Name\",value:\"participant_instance_id\"}},type:{kind:\"NonNullType\",type:{kind:\"NamedType\",name:{kind:\"Name\",value:\"core_id\"}}},directives:[]}],directives:[],selectionSet:{kind:\"SelectionSet\",selections:[{kind:\"Field\",alias:{kind:\"Name\",value:\"draft_id\"},name:{kind:\"Name\",value:\"performelement_long_text_get_draft_id\"},arguments:[{kind:\"Argument\",name:{kind:\"Name\",value:\"section_element_id\"},value:{kind:\"Variable\",name:{kind:\"Name\",value:\"section_element_id\"}}},{kind:\"Argument\",name:{kind:\"Name\",value:\"participant_instance_id\"},value:{kind:\"Variable\",name:{kind:\"Name\",value:\"participant_instance_id\"}}}],directives:[]}]}}]},f={components:{ElementParticipantFormContent:r.a,FormField:o.FormField,FormScope:s.a,Weka:l.a,WekaWrapper:c.a},props:{element:Object,error:String,isDraft:Boolean,isExternalParticipant:Boolean,participantInstanceId:{type:[String,Number],required:!1},subjectInstanceId:{type:[String,Number],required:!1},path:{type:[String,Array],default:\"\"},sectionElement:Object},data:function(){return{draftFileId:0}},apollo:{draftFileId:{query:m,variables:function(){return{section_element_id:this.sectionElement.id,participant_instance_id:this.participantInstanceId}},update:function(e){return e.draft_id},skip:function(){return this.isExternalParticipant||!this.participantInstanceId}}},computed:{loaded:function(){return this.draftFileId||this.isExternalParticipant},validations:function(){return!this.isDraft&&this.element&&this.element.is_required?[p.v.required()]:[]}},methods:{process:function(e){return e&&e.response?{draft_id:this.draftFileId,weka:e.response}:null}}},_=n(\"KHd+\"),v=Object(_.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"ElementParticipantFormContent\",e._b({attrs:{element:e.element,error:e.error,\"is-draft\":e.isDraft,\"section-element\":e.sectionElement},scopedSlots:e._u([{key:\"content\",fn:function(){return[e.loaded?n(\"FormScope\",{attrs:{path:e.path,process:e.process}},[n(\"FormField\",{attrs:{name:\"response\",validations:e.validations,\"char-length\":50,error:e.error},scopedSlots:e._u([{key:\"default\",fn:function(t){var i=t.value,r=t.update;return[n(\"WekaWrapper\",{attrs:{value:i},on:{update:r},scopedSlots:e._u([{key:\"default\",fn:function(t){var i=t.value,r=t.update;return[n(\"Weka\",{attrs:{value:i,\"usage-identifier\":{component:\"performelement_long_text\",area:\"response\",instanceId:e.sectionElement.id},variant:\"description\",\"file-item-id\":e.draftFileId,\"is-logged-in\":!e.isExternalParticipant},on:{input:r}})]}}],null,!0)})]}}],null,!1,2801071179)})],1):e._e()]},proxy:!0}])},\"ElementParticipantFormContent\",e.$attrs,!1))}),[],!1,null,null,null);v.options.__hasBlocks={script:!0,template:!0};t.default=v.exports},\"KHd+\":function(e,t,n){\"use strict\";function i(e,t,n,i,r,o,a,s){var u,l=\"function\"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId=\"data-v-\"+o),a?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},l._ssrRegister=u):r&&(u=s?function(){r.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:r),u)if(l.functional){l._injectStyles=u;var d=l.render;l.render=function(e,t){return u.call(t),d(e,t)}}else{var c=l.beforeCreate;l.beforeCreate=c?[].concat(c,u):[u]}return{exports:e,options:l}}n.d(t,\"a\",(function(){return i}))},O5Dc:function(e,t,n){var i={\"./LongTextAdminEdit\":\"yr8b\",\"./LongTextAdminEdit.vue\":\"yr8b\",\"./LongTextAdminSummary\":\"9Gb+\",\"./LongTextAdminSummary.vue\":\"9Gb+\",\"./LongTextAdminView\":\"iXZq\",\"./LongTextAdminView.vue\":\"iXZq\",\"./LongTextParticipantForm\":\"I6xB\",\"./LongTextParticipantForm.vue\":\"I6xB\",\"./LongTextParticipantPrint\":\"ojCc\",\"./LongTextParticipantPrint.vue\":\"ojCc\",\"./WekaWrapper\":\"5yCo\",\"./WekaWrapper.js\":\"5yCo\"};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(i,e)){var t=new Error(\"Cannot find module '\"+e+\"'\");throw t.code=\"MODULE_NOT_FOUND\",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=o,e.exports=r,r.id=\"O5Dc\"},WBvU:function(e,t){e.exports=tui.require(\"tui/components/uniform\")},XHwV:function(e,t,n){!function(){\"use strict\";\"undefined\"!=typeof tui&&tui._bundle.isLoaded(\"performelement_long_text\")?console.warn('[tui bundle] The bundle \"performelement_long_text\" is already loaded, skipping initialisation.'):(tui._bundle.register(\"performelement_long_text\"),tui._bundle.addModulesFromContext(\"performelement_long_text/components\",n(\"O5Dc\")))}()},hQxJ:function(e,t){e.exports=tui.require(\"mod_perform/components/element/ElementParticipantFormContent\")},\"i/kK\":function(e,t){e.exports=tui.require(\"tui/components/form/FormRow\")},iXZq:function(e,t,n){\"use strict\";n.r(t);var i=n(\"nEm4\"),r=n.n(i),o=n(\"i/kK\"),a=n.n(o),s=n(\"2wx7\"),u=n.n(s),l=n(\"kkOl\"),d=n.n(l),c={components:{Form:r.a,FormRow:a.a,Weka:u.a},inheritAttrs:!1,data:function(){return{emptyValue:d.a.empty()}}},p=(n(\"1613\"),n(\"KHd+\")),m=Object(p.a)(c,(function(){var e=this.$createElement,t=this._self._c||e;return t(\"div\",{staticClass:\"tui-longTextAdminView\"},[t(\"Form\",{attrs:{\"input-width\":\"full\",vertical:!0}},[t(\"FormRow\",[t(\"Weka\",{attrs:{value:this.emptyValue,\"usage-identifier\":{component:\"performelement_long_text\",area:\"response\"},variant:\"description\",\"file-item-id\":1}})],1)],1)],1)}),[],!1,null,null,null);m.options.__hasBlocks={script:!0,template:!0};t.default=m.exports},kkOl:function(e,t){e.exports=tui.require(\"editor_weka/WekaValue\")},lgQG:function(e,t){e.exports=tui.require(\"tui/components/reform/FormScope\")},nEm4:function(e,t){e.exports=tui.require(\"tui/components/form/Form\")},ojCc:function(e,t,n){\"use strict\";n.r(t);var i=n(\"7dYr\"),r={components:{NotepadLines:n.n(i).a},props:{data:Array},computed:{responseData:function(){return this.data&&this.data[0]?JSON.parse(this.data[0]):\"\"}},mounted:function(){this.$_scan()},updated:function(){this.$_scan()},methods:{$_scan:function(){var e=this;this.$nextTick().then((function(){var t=e.$refs.content;t&&tui.scan(t)}))}}},o=n(\"KHd+\"),a=Object(o.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return t(\"div\",{staticClass:\"tui-longTextParticipantPrint\"},[this.responseData&&this.responseData.length>0?t(\"div\",{ref:\"content\",domProps:{innerHTML:this._s(this.responseData)}}):t(\"NotepadLines\",{attrs:{lines:6}})],1)}),[],!1,null,null,null);a.options.__hasBlocks={script:!0,template:!0};t.default=a.exports},yr8b:function(e,t,n){\"use strict\";n.r(t);var i=n(\"8km3\"),r={components:{PerformAdminCustomElementEdit:n.n(i).a},inheritAttrs:!1,props:{identifier:String,isRequired:Boolean,rawTitle:String,settings:Object},data:function(){return{initialValues:{rawTitle:this.rawTitle,identifier:this.identifier,responseRequired:this.isRequired}}}},o=n(\"KHd+\"),a=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"tui-longTextAdminEdit\"},[n(\"PerformAdminCustomElementEdit\",{attrs:{\"initial-values\":e.initialValues,settings:e.settings},on:{cancel:function(t){return e.$emit(\"display\")},update:function(t){return e.$emit(\"update\",t)}}})],1)}),[],!1,null,null,null);a.options.__hasBlocks={script:!0,template:!0};t.default=a.exports}});","extractedComments":[]}