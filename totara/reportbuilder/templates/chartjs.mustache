{{!
   This file is part of Totara Learn

   Copyright (C) 2019 onwards Totara Learning Solutions LTD

   This program is free software; you can redistribute it and/or modify
   it under the terms of the GNU General Public License as published by
   the Free Software Foundation; either version 3 of the License, or
   (at your option) any later version.

   This program is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See  the
   GNU General Public License for more details.

   You should have received a copy of the GNU General Public License
   along with this program.  If not, see <http://www.gnu.org/licenses/>.

   @author Carl Anderson <carl.anderson@totaralearning.com>
   @package totara_reportbuilder
}}
{{!
    @template totara_reportbuilder/chartjs
 }}

<div class="rb-chartjs rb-chartjs--{{type}}" style="max-width: 100%; max-height: 100%; {{#height}}min-height:{{height}}px;{{/height}}{{#width}}width:{{width}}px;{{/width}}">
    {{#chart}}
        <div class="rb-chartjs__chart">
            <canvas id="{{id}}"
                    class="rb-chartjs__chart__canvas"
                    role="img"
                    data-core-autoinitialise="true"
                    data-core-autoinitialise-amd="totara_reportbuilder/chartjs"
                    data-report-options="{{settings}}">
            </canvas>

            {{#progressLabel}}
                    <svg class="rb-chartjs__chart__svg" viewBox="0 0 100 100" style="" text-anchor="middle">
                        <text class="" x="50" y="50" font-size="20px">{{title}}</text>
                        <text class="" x="50" y="65" font-size="8px">{{subtitle}}</text>
                    </svg>
            {{/progressLabel}}
        </div>
    {{/chart}}
</div>
